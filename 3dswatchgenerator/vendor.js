/**
 * chroma.js - JavaScript library for color conversions
 *
 * Copyright (c) 2011-2018, Gregor Aisch
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * -------------------------------------------------------
 *
 * chroma.js includes colors from colorbrewer2.org, which are released under
 * the following license:
 *
 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
 * and The Pennsylvania State University.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific
 * language governing permissions and limitations under the License.
 *
 * ------------------------------------------------------
 *
 * Named colors are taken from X11 Color Names.
 * http://www.w3.org/TR/css3-color/#svg-color
 *
 * @preserve
 */

!function(r,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):r.chroma=e()}(this,function(){"use strict";for(var t=function(r,e,t){return void 0===e&&(e=0),void 0===t&&(t=1),r<e?e:t<r?t:r},e={},r=0,n=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];r<n.length;r+=1){var a=n[r];e["[object "+a+"]"]=a.toLowerCase()}var Y=function(r){return e[Object.prototype.toString.call(r)]||"object"},f=Math.PI,o={clip_rgb:function(r){r._clipped=!1,r._unclipped=r.slice(0);for(var e=0;e<=3;e++)e<3?((r[e]<0||255<r[e])&&(r._clipped=!0),r[e]=t(r[e],0,255)):3===e&&(r[e]=t(r[e],0,1));return r},limit:t,type:Y,unpack:function(e,r){return void 0===r&&(r=null),3<=e.length?Array.prototype.slice.call(e):"object"==Y(e[0])&&r?r.split("").filter(function(r){return void 0!==e[0][r]}).map(function(r){return e[0][r]}):e[0]},last:function(r){if(r.length<2)return null;var e=r.length-1;return"string"==Y(r[e])?r[e].toLowerCase():null},PI:f,TWOPI:2*f,PITHIRD:f/3,DEG2RAD:f/180,RAD2DEG:180/f},c={format:{},autodetect:[]},i=o.last,l=o.clip_rgb,h=o.type,u=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if("object"===h(r[0])&&r[0].constructor&&r[0].constructor===this.constructor)return r[0];var t=i(r),n=!1;if(!t){n=!0,c.sorted||(c.autodetect=c.autodetect.sort(function(r,e){return e.p-r.p}),c.sorted=!0);for(var a=0,f=c.autodetect;a<f.length;a+=1){var o=f[a];if(t=o.test.apply(o,r))break}}if(!c.format[t])throw new Error("unknown format: "+r);var u=c.format[t].apply(null,n?r:r.slice(0,-1));this._rgb=l(u),3===this._rgb.length&&this._rgb.push(1)};u.prototype.toString=function(){return"function"==h(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var A=u,s=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(s.Color,[null].concat(r)))};s.Color=A,s.version="2.0.2";var N=s,d=o.unpack,b=Math.max,p=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var t=d(r,"rgb"),n=t[0],a=t[1],f=t[2],o=1-b(n/=255,b(a/=255,f/=255)),u=o<1?1/(1-o):0;return[(1-n-o)*u,(1-a-o)*u,(1-f-o)*u,o]},g=o.unpack,v=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var t=(r=g(r,"cmyk"))[0],n=r[1],a=r[2],f=r[3],o=4<r.length?r[4]:1;return 1===f?[0,0,0,o]:[1<=t?0:255*(1-t)*(1-f),1<=n?0:255*(1-n)*(1-f),1<=a?0:255*(1-a)*(1-f),o]},m=o.unpack,y=o.type;A.prototype.cmyk=function(){return p(this._rgb)},N.cmyk=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(A,[null].concat(r,["cmyk"])))},c.format.cmyk=v,c.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=m(r,"cmyk"),"array"===y(r)&&4===r.length)return"cmyk"}});var w=o.unpack,k=o.last,M=function(r){return Math.round(100*r)/100},_=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var t=w(r,"hsla"),n=k(r)||"lsa";return t[0]=M(t[0]||0),t[1]=M(100*t[1])+"%",t[2]=M(100*t[2])+"%","hsla"===n||3<t.length&&t[3]<1?(t[3]=3<t.length?t[3]:1,n="hsla"):t.length=3,n+"("+t.join(",")+")"},x=o.unpack,E=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var t=(r=x(r,"rgba"))[0],n=r[1],a=r[2];t/=255,n/=255,a/=255;var f,o,u=Math.min(t,n,a),c=Math.max(t,n,a),i=(c+u)/2;return c===u?(f=0,o=Number.NaN):f=i<.5?(c-u)/(c+u):(c-u)/(2-c-u),t==c?o=(n-a)/(c-u):n==c?o=2+(a-t)/(c-u):a==c&&(o=4+(t-n)/(c-u)),(o*=60)<0&&(o+=360),3<r.length&&void 0!==r[3]?[o,f,i,r[3]]:[o,f,i]},P=o.unpack,F=o.last,O=Math.round,j=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var t=P(r,"rgba"),n=F(r)||"rgb";return"hsl"==n.substr(0,3)?_(E(t),n):(t[0]=O(t[0]),t[1]=O(t[1]),t[2]=O(t[2]),("rgba"===n||3<t.length&&t[3]<1)&&(t[3]=3<t.length?t[3]:1,n="rgba"),n+"("+t.slice(0,"rgb"===n?3:4).join(",")+")")},G=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,q=/^#?([A-Fa-f0-9]{8})$/,L=function(r){if(r.match(G)){4!==r.length&&7!==r.length||(r=r.substr(1)),3===r.length&&(r=(r=r.split(""))[0]+r[0]+r[1]+r[1]+r[2]+r[2]);var e=parseInt(r,16);return[e>>16,e>>8&255,255&e,1]}if(r.match(q)){9===r.length&&(r=r.substr(1));var t=parseInt(r,16);return[t>>24&255,t>>16&255,t>>8&255,Math.round((255&t)/255*100)/100]}throw new Error("unknown hex color: "+r)},R=o.unpack,I=Math.round,B=function(){for(var r,e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,a,f,o=(e=R(e,"hsl"))[0],u=e[1],c=e[2];if(0===u)n=a=f=255*c;else{var i=[0,0,0],l=[0,0,0],h=c<.5?c*(1+u):c+u-c*u,s=2*c-h,d=o/360;i[0]=d+1/3,i[1]=d,i[2]=d-1/3;for(var b=0;b<3;b++)i[b]<0&&(i[b]+=1),1<i[b]&&(i[b]-=1),6*i[b]<1?l[b]=s+6*(h-s)*i[b]:2*i[b]<1?l[b]=h:3*i[b]<2?l[b]=s+(h-s)*(2/3-i[b])*6:l[b]=s;n=(r=[I(255*l[0]),I(255*l[1]),I(255*l[2])])[0],a=r[1],f=r[2]}return 3<e.length?[n,a,f,e[3]]:[n,a,f]},C={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},D=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,S=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,$=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,z=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,T=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,U=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,V=Math.round,W=function(r){if(r=r.toLowerCase().trim(),C[r])return L(C[r]);var e;if(e=r.match(D)){for(var t=e.slice(1,4),n=0;n<3;n++)t[n]=+t[n];return t[3]=1,t}if(e=r.match(S)){for(var a=e.slice(1,5),f=0;f<4;f++)a[f]=+a[f];return a}if(e=r.match($)){for(var o=e.slice(1,4),u=0;u<3;u++)o[u]=V(2.55*o[u]);return o[3]=1,o}if(e=r.match(z)){for(var c=e.slice(1,5),i=0;i<3;i++)c[i]=V(2.55*c[i]);return c[3]=+c[3],c}if(e=r.match(T)){var l=e.slice(1,4);l[1]*=.01,l[2]*=.01;var h=B(l);return h[3]=1,h}if(e=r.match(U)){var s=e.slice(1,4);s[1]*=.01,s[2]*=.01;var d=B(s);return d[3]=+e[4],d}};W.test=function(r){return D.test(r)||S.test(r)||$.test(r)||z.test(r)||T.test(r)||U.test(r)};var X=W,H=o.type;A.prototype.css=function(r){return j(this._rgb,r)},N.css=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(A,[null].concat(r,["css"])))},c.format.css=X,c.autodetect.push({p:5,test:function(r){for(var e=[],t=arguments.length-1;0<t--;)e[t]=arguments[t+1];if(!e.length&&"string"===H(r)&&X.test(r))return"css"}});var J=o.unpack;c.format.gl=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var t=J(r,"rgba");return t[0]*=255,t[1]*=255,t[2]*=255,t},N.gl=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(A,[null].concat(r,["gl"])))},A.prototype.gl=function(){var r=this._rgb;return[r[0]/255,r[1]/255,r[2]/255,r[3]]};var K=o.unpack,Q=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var t,n=K(r,"rgb"),a=n[0],f=n[1],o=n[2],u=Math.min(a,f,o),c=Math.max(a,f,o),i=c-u,l=100*i/255,h=u/(255-i)*100;return 0===i?t=Number.NaN:(a===c&&(t=(f-o)/i),f===c&&(t=2+(o-a)/i),o===c&&(t=4+(a-f)/i),(t*=60)<0&&(t+=360)),[t,l,h]},Z=o.unpack,rr=Math.floor,er=function(){for(var r,e,t,n,a,f,o=[],u=arguments.length;u--;)o[u]=arguments[u];var c,i,l,h=(o=Z(o,"hcg"))[0],s=o[1],d=o[2];d*=255;var b=255*s;if(0===s)c=i=l=d;else{360===h&&(h=0),360<h&&(h-=360),h<0&&(h+=360);var p=rr(h/=60),g=h-p,v=d*(1-s),m=v+b*(1-g),y=v+b*g,w=v+b;switch(p){case 0:c=(r=[w,y,v])[0],i=r[1],l=r[2];break;case 1:c=(e=[m,w,v])[0],i=e[1],l=e[2];break;case 2:c=(t=[v,w,y])[0],i=t[1],l=t[2];break;case 3:c=(n=[v,m,w])[0],i=n[1],l=n[2];break;case 4:c=(a=[y,v,w])[0],i=a[1],l=a[2];break;case 5:c=(f=[w,v,m])[0],i=f[1],l=f[2]}}return[c,i,l,3<o.length?o[3]:1]},tr=o.unpack,nr=o.type;A.prototype.hcg=function(){return Q(this._rgb)},N.hcg=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(A,[null].concat(r,["hcg"])))},c.format.hcg=er,c.autodetect.push({p:1,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=tr(r,"hcg"),"array"===nr(r)&&3===r.length)return"hcg"}});var ar=o.unpack,fr=o.last,or=Math.round,ur=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var t=ar(r,"rgba"),n=t[0],a=t[1],f=t[2],o=t[3],u=fr(r)||"auto";void 0===o&&(o=1),"auto"===u&&(u=o<1?"rgba":"rgb");var c="000000"+((n=or(n))<<16|(a=or(a))<<8|(f=or(f))).toString(16);c=c.substr(c.length-6);var i="0"+or(255*o).toString(16);switch(i=i.substr(i.length-2),u.toLowerCase()){case"rgba":return"#"+c+i;case"argb":return"#"+i+c;default:return"#"+c}},cr=o.type;A.prototype.hex=function(r){return ur(this._rgb,r)},N.hex=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(A,[null].concat(r,["hex"])))},c.format.hex=L,c.autodetect.push({p:4,test:function(r){for(var e=[],t=arguments.length-1;0<t--;)e[t]=arguments[t+1];if(!e.length&&"string"===cr(r)&&[3,4,6,7,8,9].includes(r.length))return"hex"}});var ir=o.unpack,lr=o.TWOPI,hr=Math.min,sr=Math.sqrt,dr=Math.acos,br=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var t,n=ir(r,"rgb"),a=n[0],f=n[1],o=n[2],u=hr(a/=255,f/=255,o/=255),c=(a+f+o)/3,i=0<c?1-u/c:0;return 0===i?t=NaN:(t=(a-f+(a-o))/2,t/=sr((a-f)*(a-f)+(a-o)*(f-o)),t=dr(t),f<o&&(t=lr-t),t/=lr),[360*t,i,c]},pr=o.unpack,gr=o.limit,vr=o.TWOPI,mr=o.PITHIRD,yr=Math.cos,wr=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var t,n,a,f=(r=pr(r,"hsi"))[0],o=r[1],u=r[2];return isNaN(f)&&(f=0),isNaN(o)&&(o=0),360<f&&(f-=360),f<0&&(f+=360),(f/=360)<1/3?n=1-((a=(1-o)/3)+(t=(1+o*yr(vr*f)/yr(mr-vr*f))/3)):f<2/3?a=1-((t=(1-o)/3)+(n=(1+o*yr(vr*(f-=1/3))/yr(mr-vr*f))/3)):t=1-((n=(1-o)/3)+(a=(1+o*yr(vr*(f-=2/3))/yr(mr-vr*f))/3)),[255*(t=gr(u*t*3)),255*(n=gr(u*n*3)),255*(a=gr(u*a*3)),3<r.length?r[3]:1]},kr=o.unpack,Mr=o.type;A.prototype.hsi=function(){return br(this._rgb)},N.hsi=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(A,[null].concat(r,["hsi"])))},c.format.hsi=wr,c.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=kr(r,"hsi"),"array"===Mr(r)&&3===r.length)return"hsi"}});var Nr=o.unpack,_r=o.type;A.prototype.hsl=function(){return E(this._rgb)},N.hsl=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(A,[null].concat(r,["hsl"])))},c.format.hsl=B,c.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=Nr(r,"hsl"),"array"===_r(r)&&3===r.length)return"hsl"}});var xr=o.unpack,Ar=Math.min,Er=Math.max,Pr=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var t,n,a,f=(r=xr(r,"rgb"))[0],o=r[1],u=r[2],c=Ar(f,o,u),i=Er(f,o,u),l=i-c;return a=i/255,0===i?(t=Number.NaN,n=0):(n=l/i,f===i&&(t=(o-u)/l),o===i&&(t=2+(u-f)/l),u===i&&(t=4+(f-o)/l),(t*=60)<0&&(t+=360)),[t,n,a]},Fr=o.unpack,Or=Math.floor,jr=function(){for(var r,e,t,n,a,f,o=[],u=arguments.length;u--;)o[u]=arguments[u];var c,i,l,h=(o=Fr(o,"hsv"))[0],s=o[1],d=o[2];if(d*=255,0===s)c=i=l=d;else{360===h&&(h=0),360<h&&(h-=360),h<0&&(h+=360);var b=Or(h/=60),p=h-b,g=d*(1-s),v=d*(1-s*p),m=d*(1-s*(1-p));switch(b){case 0:c=(r=[d,m,g])[0],i=r[1],l=r[2];break;case 1:c=(e=[v,d,g])[0],i=e[1],l=e[2];break;case 2:c=(t=[g,d,m])[0],i=t[1],l=t[2];break;case 3:c=(n=[g,v,d])[0],i=n[1],l=n[2];break;case 4:c=(a=[m,g,d])[0],i=a[1],l=a[2];break;case 5:c=(f=[d,g,v])[0],i=f[1],l=f[2]}}return[c,i,l,3<o.length?o[3]:1]},Gr=o.unpack,qr=o.type;A.prototype.hsv=function(){return Pr(this._rgb)},N.hsv=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(A,[null].concat(r,["hsv"])))},c.format.hsv=jr,c.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=Gr(r,"hsv"),"array"===qr(r)&&3===r.length)return"hsv"}});var Lr=18,Rr=.95047,Ir=1,Br=1.08883,Cr=.137931034,Dr=.206896552,Sr=.12841855,$r=.008856452,Yr=o.unpack,zr=Math.pow,Tr=function(r){return(r/=255)<=.04045?r/12.92:zr((r+.055)/1.055,2.4)},Ur=function(r){return $r<r?zr(r,1/3):r/Sr+Cr},Vr=function(r,e,t){return r=Tr(r),e=Tr(e),t=Tr(t),[Ur((.4124564*r+.3575761*e+.1804375*t)/Rr),Ur((.2126729*r+.7151522*e+.072175*t)/Ir),Ur((.0193339*r+.119192*e+.9503041*t)/Br)]},Wr=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var t=Yr(r,"rgb"),n=t[0],a=t[1],f=t[2],o=Vr(n,a,f),u=o[0],c=o[1],i=116*c-16;return[i<0?0:i,500*(u-c),200*(c-o[2])]},Xr=o.unpack,Hr=Math.pow,Jr=function(r){return 255*(r<=.00304?12.92*r:1.055*Hr(r,1/2.4)-.055)},Kr=function(r){return Dr<r?r*r*r:Sr*(r-Cr)},Qr=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var t,n,a,f=(r=Xr(r,"lab"))[0],o=r[1],u=r[2];return n=(f+16)/116,t=isNaN(o)?n:n+o/500,a=isNaN(u)?n:n-u/200,n=Ir*Kr(n),t=Rr*Kr(t),a=Br*Kr(a),[Jr(3.2404542*t-1.5371385*n-.4985314*a),Jr(-.969266*t+1.8760108*n+.041556*a),Jr(.0556434*t-.2040259*n+1.0572252*a),3<r.length?r[3]:1]},Zr=o.unpack,re=o.type;A.prototype.lab=function(){return Wr(this._rgb)},N.lab=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(A,[null].concat(r,["lab"])))},c.format.lab=Qr,c.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=Zr(r,"lab"),"array"===re(r)&&3===r.length)return"lab"}});var ee=o.unpack,te=o.RAD2DEG,ne=Math.sqrt,ae=Math.atan2,fe=Math.round,oe=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var t=ee(r,"lab"),n=t[0],a=t[1],f=t[2],o=ne(a*a+f*f),u=(ae(f,a)*te+360)%360;return 0===fe(1e4*o)&&(u=Number.NaN),[n,o,u]},ue=o.unpack,ce=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var t=ue(r,"rgb"),n=t[0],a=t[1],f=t[2],o=Wr(n,a,f),u=o[0],c=o[1],i=o[2];return oe(u,c,i)},ie=o.unpack,le=o.DEG2RAD,he=Math.sin,se=Math.cos,de=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var t=ie(r,"lch"),n=t[0],a=t[1],f=t[2];return isNaN(f)&&(f=0),[n,se(f*=le)*a,he(f)*a]},be=o.unpack,pe=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var t=(r=be(r,"lch"))[0],n=r[1],a=r[2],f=de(t,n,a),o=f[0],u=f[1],c=f[2],i=Qr(o,u,c);return[i[0],i[1],i[2],3<r.length?r[3]:1]},ge=o.unpack,ve=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var t=ge(r,"hcl").reverse();return pe.apply(void 0,t)},me=o.unpack,ye=o.type;A.prototype.lch=function(){return ce(this._rgb)},A.prototype.hcl=function(){return ce(this._rgb).reverse()},N.lch=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(A,[null].concat(r,["lch"])))},N.hcl=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(A,[null].concat(r,["hcl"])))},c.format.lch=pe,c.format.hcl=ve,["lch","hcl"].forEach(function(t){return c.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=me(r,t),"array"===ye(r)&&3===r.length)return t}})});var we=o.type;A.prototype.name=function(){for(var r=ur(this._rgb,"rgb"),e=0,t=Object.keys(C);e<t.length;e+=1){var n=t[e];if(C[n]===r)return n.toLowerCase()}return r},c.format.named=function(r){if(r=r.toLowerCase(),C[r])return L(C[r]);throw new Error("unknown color name: "+r)},c.autodetect.push({p:5,test:function(r){for(var e=[],t=arguments.length-1;0<t--;)e[t]=arguments[t+1];if(!e.length&&"string"===we(r)&&C[r.toLowerCase()])return"named"}});var ke=o.unpack,Me=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var t=ke(r,"rgb");return(t[0]<<16)+(t[1]<<8)+t[2]},Ne=o.type,_e=function(r){if("number"==Ne(r)&&0<=r&&r<=16777215)return[r>>16,r>>8&255,255&r,1];throw new Error("unknown num color: "+r)},xe=o.type;A.prototype.num=function(){return Me(this._rgb)},N.num=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(A,[null].concat(r,["num"])))},c.format.num=_e,c.autodetect.push({p:5,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(1===r.length&&"number"===xe(r[0])&&0<=r[0]&&r[0]<=16777215)return"num"}});var Ae=o.unpack,Ee=o.type,Pe=Math.round;A.prototype.rgb=function(r){return void 0===r&&(r=!0),!1===r?this._rgb.slice(0,3):this._rgb.slice(0,3).map(Pe)},A.prototype.rgba=function(t){return void 0===t&&(t=!0),this._rgb.slice(0,4).map(function(r,e){return e<3?!1===t?r:Pe(r):r})},N.rgb=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(A,[null].concat(r,["rgb"])))},c.format.rgb=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var t=Ae(r,"rgba");return void 0===t[3]&&(t[3]=1),t},c.autodetect.push({p:3,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=Ae(r,"rgba"),"array"===Ee(r)&&(3===r.length||4===r.length&&"number"==Ee(r[3])&&0<=r[3]&&r[3]<=1))return"rgb"}});var Fe=Math.log,Oe=function(r){var e,t,n,a=r/100;return n=a<66?(e=255,t=-155.25485562709179-.44596950469579133*(t=a-2)+104.49216199393888*Fe(t),a<20?0:.8274096064007395*(n=a-10)-254.76935184120902+115.67994401066147*Fe(n)):(e=351.97690566805693+.114206453784165*(e=a-55)-40.25366309332127*Fe(e),t=325.4494125711974+.07943456536662342*(t=a-50)-28.0852963507957*Fe(t),255),[e,t,n,1]},je=o.unpack,Ge=Math.round,qe=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];for(var t,n=je(r,"rgb"),a=n[0],f=n[2],o=1e3,u=4e4;.4<u-o;){var c=Oe(t=.5*(u+o));c[2]/c[0]>=f/a?u=t:o=t}return Ge(t)};A.prototype.temp=A.prototype.kelvin=A.prototype.temperature=function(){return qe(this._rgb)},N.temp=N.kelvin=N.temperature=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(A,[null].concat(r,["temp"])))},c.format.temp=c.format.kelvin=c.format.temperature=Oe;var Le=o.type;A.prototype.alpha=function(r,e){return void 0===e&&(e=!1),void 0!==r&&"number"===Le(r)?e?(this._rgb[3]=r,this):new A([this._rgb[0],this._rgb[1],this._rgb[2],r],"rgb"):this._rgb[3]},A.prototype.clipped=function(){return this._rgb._clipped||!1},A.prototype.darken=function(r){void 0===r&&(r=1);var e=this.lab();return e[0]-=Lr*r,new A(e,"lab").alpha(this.alpha(),!0)},A.prototype.brighten=function(r){return void 0===r&&(r=1),this.darken(-r)},A.prototype.darker=A.prototype.darken,A.prototype.brighter=A.prototype.brighten,A.prototype.get=function(r){var e=r.split("."),t=e[0],n=e[1],a=this[t]();if(n){var f=t.indexOf(n);if(-1<f)return a[f];throw new Error("unknown channel "+n+" in mode "+t)}return a};var Re=o.type,Ie=Math.pow;A.prototype.luminance=function(a){if(void 0===a||"number"!==Re(a))return Be.apply(void 0,this._rgb.slice(0,3));if(0===a)return new A([0,0,0,this._rgb[3]],"rgb");if(1===a)return new A([255,255,255,this._rgb[3]],"rgb");var r=this.luminance(),f=20,o=function(r,e){var t=r.interpolate(e,.5,"rgb"),n=t.luminance();return Math.abs(a-n)<1e-7||!f--?t:a<n?o(r,t):o(t,e)},e=(a<r?o(new A([0,0,0]),this):o(this,new A([255,255,255]))).rgb();return new A(e.concat([this._rgb[3]]))};var Be=function(r,e,t){return.2126*(r=Ce(r))+.7152*(e=Ce(e))+.0722*(t=Ce(t))},Ce=function(r){return(r/=255)<=.03928?r/12.92:Ie((r+.055)/1.055,2.4)},De={},Se=o.type,$e=function(r,e,t){void 0===t&&(t=.5);for(var n=[],a=arguments.length-3;0<a--;)n[a]=arguments[a+3];var f=n[0]||"lrgb";if(De[f]||n.length||(f=Object.keys(De)[0]),!De[f])throw new Error("interpolation mode "+f+" is not defined");return"object"!==Se(r)&&(r=new A(r)),"object"!==Se(e)&&(e=new A(e)),De[f](r,e,t).alpha(r.alpha()+t*(e.alpha()-r.alpha()))};A.prototype.mix=A.prototype.interpolate=function(r,e){void 0===e&&(e=.5);for(var t=[],n=arguments.length-2;0<n--;)t[n]=arguments[n+2];return $e.apply(void 0,[this,r,e].concat(t))},A.prototype.premultiply=function(r){void 0===r&&(r=!1);var e=this._rgb,t=e[3];return r?(this._rgb=[e[0]*t,e[1]*t,e[2]*t,t],this):new A([e[0]*t,e[1]*t,e[2]*t,t],"rgb")},A.prototype.saturate=function(r){void 0===r&&(r=1);var e=this.lch();return e[1]+=Lr*r,e[1]<0&&(e[1]=0),new A(e,"lch").alpha(this.alpha(),!0)},A.prototype.desaturate=function(r){return void 0===r&&(r=1),this.saturate(-r)};var Ye=o.type;A.prototype.set=function(r,e,t){void 0===t&&(t=!1);var n=r.split("."),a=n[0],f=n[1],o=this[a]();if(f){var u=a.indexOf(f);if(-1<u){if("string"==Ye(e))switch(e.charAt(0)){case"+":case"-":o[u]+=+e;break;case"*":o[u]*=+e.substr(1);break;case"/":o[u]/=+e.substr(1);break;default:o[u]=+e}else{if("number"!==Ye(e))throw new Error("unsupported value for Color.set");o[u]=e}var c=new A(o,a);return t?(this._rgb=c._rgb,this):c}throw new Error("unknown channel "+f+" in mode "+a)}return o};De.rgb=function(r,e,t){var n=r._rgb,a=e._rgb;return new A(n[0]+t*(a[0]-n[0]),n[1]+t*(a[1]-n[1]),n[2]+t*(a[2]-n[2]),"rgb")};var ze=Math.sqrt,Te=Math.pow;De.lrgb=function(r,e,t){var n=r._rgb,a=n[0],f=n[1],o=n[2],u=e._rgb,c=u[0],i=u[1],l=u[2];return new A(ze(Te(a,2)*(1-t)+Te(c,2)*t),ze(Te(f,2)*(1-t)+Te(i,2)*t),ze(Te(o,2)*(1-t)+Te(l,2)*t),"rgb")};De.lab=function(r,e,t){var n=r.lab(),a=e.lab();return new A(n[0]+t*(a[0]-n[0]),n[1]+t*(a[1]-n[1]),n[2]+t*(a[2]-n[2]),"lab")};var Ue=function(r,e,t,n){var a,f,o,u,c,i,l,h,s,d,b,p;return"hsl"===n?(o=r.hsl(),u=e.hsl()):"hsv"===n?(o=r.hsv(),u=e.hsv()):"hcg"===n?(o=r.hcg(),u=e.hcg()):"hsi"===n?(o=r.hsi(),u=e.hsi()):"lch"!==n&&"hcl"!==n||(n="hcl",o=r.hcl(),u=e.hcl()),"h"===n.substr(0,1)&&(c=(a=o)[0],l=a[1],s=a[2],i=(f=u)[0],h=f[1],d=f[2]),isNaN(c)||isNaN(i)?isNaN(c)?isNaN(i)?p=Number.NaN:(p=i,1!=s&&0!=s||"hsv"==n||(b=h)):(p=c,1!=d&&0!=d||"hsv"==n||(b=l)):p=c+t*(c<i&&180<i-c?i-(c+360):i<c&&180<c-i?i+360-c:i-c),void 0===b&&(b=l+t*(h-l)),new A([p,b,s+t*(d-s)],n)},Ve=function(r,e,t){return Ue(r,e,t,"lch")};De.lch=Ve,De.hcl=Ve;De.num=function(r,e,t){var n=r.num(),a=e.num();return new A(n+t*(a-n),"num")};De.hcg=function(r,e,t){return Ue(r,e,t,"hcg")};De.hsi=function(r,e,t){return Ue(r,e,t,"hsi")};De.hsl=function(r,e,t){return Ue(r,e,t,"hsl")};De.hsv=function(r,e,t){return Ue(r,e,t,"hsv")};var We=o.clip_rgb,Xe=Math.pow,He=Math.sqrt,Je=Math.PI,Ke=Math.cos,Qe=Math.sin,Ze=Math.atan2,rt=function(r){for(var e=1/r.length,t=[0,0,0,0],n=0,a=r;n<a.length;n+=1){var f=a[n]._rgb;t[0]+=Xe(f[0],2)*e,t[1]+=Xe(f[1],2)*e,t[2]+=Xe(f[2],2)*e,t[3]+=f[3]*e}return t[0]=He(t[0]),t[1]=He(t[1]),t[2]=He(t[2]),.9999999<t[3]&&(t[3]=1),new A(We(t))},et=o.type,tt=Math.pow,nt=function(i){var u="rgb",c=N("#ccc"),e=0,l=[0,1],h=[],s=[0,0],d=!1,b=[],t=!1,p=0,g=1,n=!1,v={},m=!0,y=1,a=function(r){if((r=r||["#fff","#000"])&&"string"===et(r)&&N.brewer&&N.brewer[r.toLowerCase()]&&(r=N.brewer[r.toLowerCase()]),"array"===et(r)){1===r.length&&(r=[r[0],r[0]]),r=r.slice(0);for(var e=0;e<r.length;e++)r[e]=N(r[e]);for(var t=h.length=0;t<r.length;t++)h.push(t/(r.length-1))}return f(),b=r},w=function(r){return r},k=function(r,e){var t,n;if(null==e&&(e=!1),isNaN(r)||null===r)return c;e?n=r:n=d&&2<d.length?function(r){if(null==d)return 0;for(var e=d.length-1,t=0;t<e&&r>=d[t];)t++;return t-1}(r)/(d.length-2):g!==p?(r-p)/(g-p):1;e||(n=w(n)),1!==y&&(n=tt(n,y)),n=s[0]+n*(1-s[0]-s[1]),n=Math.min(1,Math.max(0,n));var a=Math.floor(1e4*n);if(m&&v[a])t=v[a];else{if("array"===et(b))for(var f=0;f<h.length;f++){var o=h[f];if(n<=o){t=b[f];break}if(o<=n&&f===h.length-1){t=b[f];break}if(o<n&&n<h[f+1]){n=(n-o)/(h[f+1]-o),t=N.interpolate(b[f],b[f+1],n,u);break}}else"function"===et(b)&&(t=b(n));m&&(v[a]=t)}return t},f=function(){return v={}};a(i);var M=function(r){var e=N(k(r));return t&&e[t]?e[t]():e};return M.classes=function(r){if(null==r)return d;if("array"===et(r))l=[(d=r)[0],r[r.length-1]];else{var e=N.analyze(l);d=0===r?[e.min,e.max]:N.limits(e,"e",r)}return M},M.domain=function(r){if(!arguments.length)return l;p=r[0],g=r[r.length-1],h=[];var e=b.length;if(r.length===e&&p!==g)for(var t=0,n=Array.from(r);t<n.length;t+=1){var a=n[t];h.push((a-p)/(g-p))}else for(var f=0;f<e;f++)h.push(f/(e-1));return l=[p,g],M},M.mode=function(r){return arguments.length?(u=r,f(),M):u},M.range=function(r,e){return a(r),M},M.out=function(r){return t=r,M},M.spread=function(r){return arguments.length?(e=r,M):e},M.correctLightness=function(r){return null==r&&(r=!0),n=r,f(),w=n?function(r){for(var e=k(0,!0).lab()[0],t=k(1,!0).lab()[0],n=t<e,a=k(r,!0).lab()[0],f=e+(t-e)*r,o=a-f,u=0,c=1,i=20;.01<Math.abs(o)&&0<i--;)n&&(o*=-1),r+=o<0?.5*(c-(u=r)):.5*(u-(c=r)),a=k(r,!0).lab()[0],o=a-f;return r}:function(r){return r},M},M.padding=function(r){return null!=r?("number"===et(r)&&(r=[r,r]),s=r,M):s},M.colors=function(e,t){arguments.length<2&&(t="hex");var r=[];if(0===arguments.length)r=b.slice(0);else if(1===e)r=[M(.5)];else if(1<e){var n=l[0],a=l[1]-n;r=function(r,e,t){for(var n=[],a=r<e,f=t?a?e+1:e-1:e,o=r;a?o<f:f<o;a?o++:o--)n.push(o);return n}(0,e,!1).map(function(r){return M(n+r/(e-1)*a)})}else{i=[];var f=[];if(d&&2<d.length)for(var o=1,u=d.length,c=1<=u;c?o<u:u<o;c?o++:o--)f.push(.5*(d[o-1]+d[o]));else f=l;r=f.map(function(r){return M(r)})}return N[t]&&(r=r.map(function(r){return r[t]()})),r},M.cache=function(r){return null!=r?(m=r,M):m},M.gamma=function(r){return null!=r?(y=r,M):y},M.nodata=function(r){return null!=r?(c=N(r),M):c},M};var at=function(r){var e,t,n,a,f,o,u;if(2===(r=r.map(function(r){return new A(r)})).length)e=r.map(function(r){return r.lab()}),f=e[0],o=e[1],a=function(e){var r=[0,1,2].map(function(r){return f[r]+e*(o[r]-f[r])});return new A(r,"lab")};else if(3===r.length)t=r.map(function(r){return r.lab()}),f=t[0],o=t[1],u=t[2],a=function(e){var r=[0,1,2].map(function(r){return(1-e)*(1-e)*f[r]+2*(1-e)*e*o[r]+e*e*u[r]});return new A(r,"lab")};else if(4===r.length){var c;n=r.map(function(r){return r.lab()}),f=n[0],o=n[1],u=n[2],c=n[3],a=function(e){var r=[0,1,2].map(function(r){return(1-e)*(1-e)*(1-e)*f[r]+3*(1-e)*(1-e)*e*o[r]+3*(1-e)*e*e*u[r]+e*e*e*c[r]});return new A(r,"lab")}}else if(5===r.length){var i=at(r.slice(0,3)),l=at(r.slice(2,5));a=function(r){return r<.5?i(2*r):l(2*(r-.5))}}return a},ft=function(r,e,t){if(!ft[t])throw new Error("unknown blend mode "+t);return ft[t](r,e)},ot=function(a){return function(r,e){var t=N(e).rgb(),n=N(r).rgb();return N.rgb(a(t,n))}},ut=function(n){return function(r,e){var t=[];return t[0]=n(r[0],e[0]),t[1]=n(r[1],e[1]),t[2]=n(r[2],e[2]),t}};ft.normal=ot(ut(function(r){return r})),ft.multiply=ot(ut(function(r,e){return r*e/255})),ft.screen=ot(ut(function(r,e){return 255*(1-(1-r/255)*(1-e/255))})),ft.overlay=ot(ut(function(r,e){return e<128?2*r*e/255:255*(1-2*(1-r/255)*(1-e/255))})),ft.darken=ot(ut(function(r,e){return e<r?e:r})),ft.lighten=ot(ut(function(r,e){return e<r?r:e})),ft.dodge=ot(ut(function(r,e){return 255===r?255:255<(r=e/255*255/(1-r/255))?255:r})),ft.burn=ot(ut(function(r,e){return 255*(1-(1-e/255)/(r/255))}));for(var ct=ft,it=o.type,lt=o.clip_rgb,ht=o.TWOPI,st=Math.pow,dt=Math.sin,bt=Math.cos,pt=Math.floor,gt=Math.random,vt=Math.log,mt=Math.pow,yt=Math.floor,wt=Math.abs,kt=function(r,e){void 0===e&&(e=null);var t={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===Y(r)&&(r=Object.values(r)),r.forEach(function(r){e&&"object"===Y(r)&&(r=r[e]),null==r||isNaN(r)||(t.values.push(r),t.sum+=r,r<t.min&&(t.min=r),r>t.max&&(t.max=r),t.count+=1)}),t.domain=[t.min,t.max],t.limits=function(r,e){return Mt(t,r,e)},t},Mt=function(r,e,t){void 0===e&&(e="equal"),void 0===t&&(t=7),"array"==Y(r)&&(r=kt(r));var n=r.min,a=r.max,f=r.values.sort(function(r,e){return r-e});if(1===t)return[n,a];var o=[];if("c"===e.substr(0,1)&&(o.push(n),o.push(a)),"e"===e.substr(0,1)){o.push(n);for(var u=1;u<t;u++)o.push(n+u/t*(a-n));o.push(a)}else if("l"===e.substr(0,1)){if(n<=0)throw new Error("Logarithmic scales are only possible for values > 0");var c=Math.LOG10E*vt(n),i=Math.LOG10E*vt(a);o.push(n);for(var l=1;l<t;l++)o.push(mt(10,c+l/t*(i-c)));o.push(a)}else if("q"===e.substr(0,1)){o.push(n);for(var h=1;h<t;h++){var s=(f.length-1)*h/t,d=yt(s);if(d===s)o.push(f[d]);else{var b=s-d;o.push(f[d]*(1-b)+f[d+1]*b)}}o.push(a)}else if("k"===e.substr(0,1)){var p,g=f.length,v=new Array(g),m=new Array(t),y=!0,w=0,k=null;(k=[]).push(n);for(var M=1;M<t;M++)k.push(n+M/t*(a-n));for(k.push(a);y;){for(var N=0;N<t;N++)m[N]=0;for(var _=0;_<g;_++)for(var x=f[_],A=Number.MAX_VALUE,E=void 0,P=0;P<t;P++){var F=wt(k[P]-x);F<A&&(A=F,E=P),m[E]++,v[_]=E}for(var O=new Array(t),j=0;j<t;j++)O[j]=null;for(var G=0;G<g;G++)null===O[p=v[G]]?O[p]=f[G]:O[p]+=f[G];for(var q=0;q<t;q++)O[q]*=1/m[q];y=!1;for(var L=0;L<t;L++)if(O[L]!==k[L]){y=!0;break}k=O,200<++w&&(y=!1)}for(var R={},I=0;I<t;I++)R[I]=[];for(var B=0;B<g;B++)R[p=v[B]].push(f[B]);for(var C=[],D=0;D<t;D++)C.push(R[D][0]),C.push(R[D][R[D].length-1]);C=C.sort(function(r,e){return r-e}),o.push(C[0]);for(var S=1;S<C.length;S+=2){var $=C[S];isNaN($)||-1!==o.indexOf($)||o.push($)}}return o},Nt={analyze:kt,limits:Mt},_t=Math.sqrt,xt=Math.atan2,At=Math.abs,Et=Math.cos,Pt=Math.PI,Ft={cool:function(){return nt([N.hsl(180,1,.9),N.hsl(250,.7,.4)])},hot:function(){return nt(["#000","#f00","#ff0","#fff"]).mode("rgb")}},Ot={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},jt=0,Gt=Object.keys(Ot);jt<Gt.length;jt+=1){var qt=Gt[jt];Ot[qt.toLowerCase()]=Ot[qt]}var Lt=Ot;return N.average=function(r,a){void 0===a&&(a="lrgb");var e=r.length;if(r=r.map(function(r){return new A(r)}),"lrgb"===a)return rt(r);for(var t=r.shift(),f=t.get(a),o=[],u=0,c=0,n=0;n<f.length;n++)if(f[n]=f[n]||0,o.push(isNaN(f[n])?0:1),"h"===a.charAt(n)&&!isNaN(f[n])){var i=f[n]/180*Je;u+=Ke(i),c+=Qe(i)}var l=t.alpha();r.forEach(function(r){var e=r.get(a);l+=r.alpha();for(var t=0;t<f.length;t++)if(!isNaN(e[t]))if(o[t]++,"h"===a.charAt(t)){var n=e[t]/180*Je;u+=Ke(n),c+=Qe(n)}else f[t]+=e[t]});for(var h=0;h<f.length;h++)if("h"===a.charAt(h)){for(var s=Ze(c/o[h],u/o[h])/Je*180;s<0;)s+=360;for(;360<=s;)s-=360;f[h]=s}else f[h]=f[h]/o[h];return l/=e,new A(f,a).alpha(.99999<l?1:l,!0)},N.bezier=function(r){var e=at(r);return e.scale=function(){return nt(e)},e},N.blend=ct,N.cubehelix=function(o,u,c,i,l){void 0===o&&(o=300),void 0===u&&(u=-1.5),void 0===c&&(c=1),void 0===i&&(i=1),void 0===l&&(l=[0,1]);var h,s=0;"array"===it(l)?h=l[1]-l[0]:(h=0,l=[l,l]);var e=function(r){var e=ht*((o+120)/360+u*r),t=st(l[0]+h*r,i),n=(0!==s?c[0]+r*s:c)*t*(1-t)/2,a=bt(e),f=dt(e);return N(lt([255*(t+n*(-.14861*a+1.78277*f)),255*(t+n*(-.29227*a-.90649*f)),255*(t+n*(1.97294*a)),1]))};return e.start=function(r){return null==r?o:(o=r,e)},e.rotations=function(r){return null==r?u:(u=r,e)},e.gamma=function(r){return null==r?i:(i=r,e)},e.hue=function(r){return null==r?c:("array"===it(c=r)?0==(s=c[1]-c[0])&&(c=c[1]):s=0,e)},e.lightness=function(r){return null==r?l:(h="array"===it(r)?(l=r)[1]-r[0]:(l=[r,r],0),e)},e.scale=function(){return N.scale(e)},e.hue(c),e},N.mix=N.interpolate=$e,N.random=function(){for(var r="#",e=0;e<6;e++)r+="0123456789abcdef".charAt(pt(16*gt()));return new A(r,"hex")},N.scale=nt,N.analyze=Nt.analyze,N.contrast=function(r,e){r=new A(r),e=new A(e);var t=r.luminance(),n=e.luminance();return n<t?(t+.05)/(n+.05):(n+.05)/(t+.05)},N.deltaE=function(r,e,t,n){void 0===t&&(t=1),void 0===n&&(n=1),r=new A(r),e=new A(e);for(var a=Array.from(r.lab()),f=a[0],o=a[1],u=a[2],c=Array.from(e.lab()),i=c[0],l=c[1],h=c[2],s=_t(o*o+u*u),d=_t(l*l+h*h),b=f<16?.511:.040975*f/(1+.01765*f),p=.0638*s/(1+.0131*s)+.638,g=s<1e-6?0:180*xt(u,o)/Pt;g<0;)g+=360;for(;360<=g;)g-=360;var v=164<=g&&g<=345?.56+At(.2*Et(Pt*(g+168)/180)):.36+At(.4*Et(Pt*(g+35)/180)),m=s*s*s*s,y=_t(m/(m+1900)),w=p*(y*v+1-y),k=s-d,M=o-l,N=u-h,_=(f-i)/(t*b),x=k/(n*p);return _t(_*_+x*x+(M*M+N*N-k*k)/(w*w))},N.distance=function(r,e,t){void 0===t&&(t="lab"),r=new A(r),e=new A(e);var n=r.get(t),a=e.get(t),f=0;for(var o in n){var u=(n[o]||0)-(a[o]||0);f+=u*u}return Math.sqrt(f)},N.limits=Nt.limits,N.valid=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];try{return new(Function.prototype.bind.apply(A,[null].concat(r))),!0}catch(r){return!1}},N.scales=Ft,N.colors=C,N.brewer=Lt,N});

/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */
var saveAs=saveAs||function(e){"use strict";if(typeof e==="undefined"||typeof navigator!=="undefined"&&/MSIE [1-9]\./.test(navigator.userAgent)){return}var t=e.document,n=function(){return e.URL||e.webkitURL||e},r=t.createElementNS("http://www.w3.org/1999/xhtml","a"),o="download"in r,a=function(e){var t=new MouseEvent("click");e.dispatchEvent(t)},i=/constructor/i.test(e.HTMLElement)||e.safari,f=/CriOS\/[\d]+/.test(navigator.userAgent),u=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},s="application/octet-stream",d=1e3*40,c=function(e){var t=function(){if(typeof e==="string"){n().revokeObjectURL(e)}else{e.remove()}};setTimeout(t,d)},l=function(e,t,n){t=[].concat(t);var r=t.length;while(r--){var o=e["on"+t[r]];if(typeof o==="function"){try{o.call(e,n||e)}catch(a){u(a)}}}},p=function(e){if(/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)){return new Blob([String.fromCharCode(65279),e],{type:e.type})}return e},v=function(t,u,d){if(!d){t=p(t)}var v=this,w=t.type,m=w===s,y,h=function(){l(v,"writestart progress write writeend".split(" "))},S=function(){if((f||m&&i)&&e.FileReader){var r=new FileReader;r.onloadend=function(){var t=f?r.result:r.result.replace(/^data:[^;]*;/,"data:attachment/file;");var n=e.open(t,"_blank");if(!n)e.location.href=t;t=undefined;v.readyState=v.DONE;h()};r.readAsDataURL(t);v.readyState=v.INIT;return}if(!y){y=n().createObjectURL(t)}if(m){e.location.href=y}else{var o=e.open(y,"_blank");if(!o){e.location.href=y}}v.readyState=v.DONE;h();c(y)};v.readyState=v.INIT;if(o){y=n().createObjectURL(t);setTimeout(function(){r.href=y;r.download=u;a(r);h();c(y);v.readyState=v.DONE});return}S()},w=v.prototype,m=function(e,t,n){return new v(e,t||e.name||"download",n)};if(typeof navigator!=="undefined"&&navigator.msSaveOrOpenBlob){return function(e,t,n){t=t||e.name||"download";if(!n){e=p(e)}return navigator.msSaveOrOpenBlob(e,t)}}w.abort=function(){};w.readyState=w.INIT=0;w.WRITING=1;w.DONE=2;w.error=w.onwritestart=w.onprogress=w.onwrite=w.onabort=w.onerror=w.onwriteend=null;return m}(typeof self!=="undefined"&&self||typeof window!=="undefined"&&window||this.content);if(typeof module!=="undefined"&&module.exports){module.exports.saveAs=saveAs}else if(typeof define!=="undefined"&&define!==null&&define.amd!==null){define("FileSaver.js",function(){return saveAs})}

/*! jQuery v3.2.1 | (c) JS Foundation and other contributors | jquery.org/license */
!function(a,b){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){"use strict";var c=[],d=a.document,e=Object.getPrototypeOf,f=c.slice,g=c.concat,h=c.push,i=c.indexOf,j={},k=j.toString,l=j.hasOwnProperty,m=l.toString,n=m.call(Object),o={};function p(a,b){b=b||d;var c=b.createElement("script");c.text=a,b.head.appendChild(c).parentNode.removeChild(c)}var q="3.2.1",r=function(a,b){return new r.fn.init(a,b)},s=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,t=/^-ms-/,u=/-([a-z])/g,v=function(a,b){return b.toUpperCase()};r.fn=r.prototype={jquery:q,constructor:r,length:0,toArray:function(){return f.call(this)},get:function(a){return null==a?f.call(this):a<0?this[a+this.length]:this[a]},pushStack:function(a){var b=r.merge(this.constructor(),a);return b.prevObject=this,b},each:function(a){return r.each(this,a)},map:function(a){return this.pushStack(r.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(f.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(a<0?b:0);return this.pushStack(c>=0&&c<b?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:h,sort:c.sort,splice:c.splice},r.extend=r.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||r.isFunction(g)||(g={}),h===i&&(g=this,h--);h<i;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(r.isPlainObject(d)||(e=Array.isArray(d)))?(e?(e=!1,f=c&&Array.isArray(c)?c:[]):f=c&&r.isPlainObject(c)?c:{},g[b]=r.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},r.extend({expando:"jQuery"+(q+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===r.type(a)},isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=r.type(a);return("number"===b||"string"===b)&&!isNaN(a-parseFloat(a))},isPlainObject:function(a){var b,c;return!(!a||"[object Object]"!==k.call(a))&&(!(b=e(a))||(c=l.call(b,"constructor")&&b.constructor,"function"==typeof c&&m.call(c)===n))},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?j[k.call(a)]||"object":typeof a},globalEval:function(a){p(a)},camelCase:function(a){return a.replace(t,"ms-").replace(u,v)},each:function(a,b){var c,d=0;if(w(a)){for(c=a.length;d<c;d++)if(b.call(a[d],d,a[d])===!1)break}else for(d in a)if(b.call(a[d],d,a[d])===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(s,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(w(Object(a))?r.merge(c,"string"==typeof a?[a]:a):h.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:i.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;d<c;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;f<g;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,e,f=0,h=[];if(w(a))for(d=a.length;f<d;f++)e=b(a[f],f,c),null!=e&&h.push(e);else for(f in a)e=b(a[f],f,c),null!=e&&h.push(e);return g.apply([],h)},guid:1,proxy:function(a,b){var c,d,e;if("string"==typeof b&&(c=a[b],b=a,a=c),r.isFunction(a))return d=f.call(arguments,2),e=function(){return a.apply(b||this,d.concat(f.call(arguments)))},e.guid=a.guid=a.guid||r.guid++,e},now:Date.now,support:o}),"function"==typeof Symbol&&(r.fn[Symbol.iterator]=c[Symbol.iterator]),r.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){j["[object "+b+"]"]=b.toLowerCase()});function w(a){var b=!!a&&"length"in a&&a.length,c=r.type(a);return"function"!==c&&!r.isWindow(a)&&("array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a)}var x=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ha(),z=ha(),A=ha(),B=function(a,b){return a===b&&(l=!0),0},C={}.hasOwnProperty,D=[],E=D.pop,F=D.push,G=D.push,H=D.slice,I=function(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},J="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",K="[\\x20\\t\\r\\n\\f]",L="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",M="\\["+K+"*("+L+")(?:"+K+"*([*^$|!~]?=)"+K+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+L+"))|)"+K+"*\\]",N=":("+L+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+M+")*)|.*)\\)|)",O=new RegExp(K+"+","g"),P=new RegExp("^"+K+"+|((?:^|[^\\\\])(?:\\\\.)*)"+K+"+$","g"),Q=new RegExp("^"+K+"*,"+K+"*"),R=new RegExp("^"+K+"*([>+~]|"+K+")"+K+"*"),S=new RegExp("="+K+"*([^\\]'\"]*?)"+K+"*\\]","g"),T=new RegExp(N),U=new RegExp("^"+L+"$"),V={ID:new RegExp("^#("+L+")"),CLASS:new RegExp("^\\.("+L+")"),TAG:new RegExp("^("+L+"|[*])"),ATTR:new RegExp("^"+M),PSEUDO:new RegExp("^"+N),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+K+"*(even|odd|(([+-]|)(\\d*)n|)"+K+"*(?:([+-]|)"+K+"*(\\d+)|))"+K+"*\\)|)","i"),bool:new RegExp("^(?:"+J+")$","i"),needsContext:new RegExp("^"+K+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+K+"*((?:-\\d)?\\d*)"+K+"*\\)|)(?=[^-]|$)","i")},W=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,$=/[+~]/,_=new RegExp("\\\\([\\da-f]{1,6}"+K+"?|("+K+")|.)","ig"),aa=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:d<0?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},ba=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ca=function(a,b){return b?"\0"===a?"\ufffd":a.slice(0,-1)+"\\"+a.charCodeAt(a.length-1).toString(16)+" ":"\\"+a},da=function(){m()},ea=ta(function(a){return a.disabled===!0&&("form"in a||"label"in a)},{dir:"parentNode",next:"legend"});try{G.apply(D=H.call(v.childNodes),v.childNodes),D[v.childNodes.length].nodeType}catch(fa){G={apply:D.length?function(a,b){F.apply(a,H.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function ga(a,b,d,e){var f,h,j,k,l,o,r,s=b&&b.ownerDocument,w=b?b.nodeType:9;if(d=d||[],"string"!=typeof a||!a||1!==w&&9!==w&&11!==w)return d;if(!e&&((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,p)){if(11!==w&&(l=Z.exec(a)))if(f=l[1]){if(9===w){if(!(j=b.getElementById(f)))return d;if(j.id===f)return d.push(j),d}else if(s&&(j=s.getElementById(f))&&t(b,j)&&j.id===f)return d.push(j),d}else{if(l[2])return G.apply(d,b.getElementsByTagName(a)),d;if((f=l[3])&&c.getElementsByClassName&&b.getElementsByClassName)return G.apply(d,b.getElementsByClassName(f)),d}if(c.qsa&&!A[a+" "]&&(!q||!q.test(a))){if(1!==w)s=b,r=a;else if("object"!==b.nodeName.toLowerCase()){(k=b.getAttribute("id"))?k=k.replace(ba,ca):b.setAttribute("id",k=u),o=g(a),h=o.length;while(h--)o[h]="#"+k+" "+sa(o[h]);r=o.join(","),s=$.test(a)&&qa(b.parentNode)||b}if(r)try{return G.apply(d,s.querySelectorAll(r)),d}catch(x){}finally{k===u&&b.removeAttribute("id")}}}return i(a.replace(P,"$1"),b,d,e)}function ha(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ia(a){return a[u]=!0,a}function ja(a){var b=n.createElement("fieldset");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ka(a,b){var c=a.split("|"),e=c.length;while(e--)d.attrHandle[c[e]]=b}function la(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&a.sourceIndex-b.sourceIndex;if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function na(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function oa(a){return function(b){return"form"in b?b.parentNode&&b.disabled===!1?"label"in b?"label"in b.parentNode?b.parentNode.disabled===a:b.disabled===a:b.isDisabled===a||b.isDisabled!==!a&&ea(b)===a:b.disabled===a:"label"in b&&b.disabled===a}}function pa(a){return ia(function(b){return b=+b,ia(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function qa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=ga.support={},f=ga.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return!!b&&"HTML"!==b.nodeName},m=ga.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=n.documentElement,p=!f(n),v!==n&&(e=n.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",da,!1):e.attachEvent&&e.attachEvent("onunload",da)),c.attributes=ja(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ja(function(a){return a.appendChild(n.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=Y.test(n.getElementsByClassName),c.getById=ja(function(a){return o.appendChild(a).id=u,!n.getElementsByName||!n.getElementsByName(u).length}),c.getById?(d.filter.ID=function(a){var b=a.replace(_,aa);return function(a){return a.getAttribute("id")===b}},d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c?[c]:[]}}):(d.filter.ID=function(a){var b=a.replace(_,aa);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}},d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c,d,e,f=b.getElementById(a);if(f){if(c=f.getAttributeNode("id"),c&&c.value===a)return[f];e=b.getElementsByName(a),d=0;while(f=e[d++])if(c=f.getAttributeNode("id"),c&&c.value===a)return[f]}return[]}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){if("undefined"!=typeof b.getElementsByClassName&&p)return b.getElementsByClassName(a)},r=[],q=[],(c.qsa=Y.test(n.querySelectorAll))&&(ja(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+K+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+K+"*(?:value|"+J+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ja(function(a){a.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var b=n.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+K+"*[*^$|!~]?="),2!==a.querySelectorAll(":enabled").length&&q.push(":enabled",":disabled"),o.appendChild(a).disabled=!0,2!==a.querySelectorAll(":disabled").length&&q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=Y.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ja(function(a){c.disconnectedMatch=s.call(a,"*"),s.call(a,"[s!='']:x"),r.push("!=",N)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=Y.test(o.compareDocumentPosition),t=b||Y.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===n||a.ownerDocument===v&&t(v,a)?-1:b===n||b.ownerDocument===v&&t(v,b)?1:k?I(k,a)-I(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,g=[a],h=[b];if(!e||!f)return a===n?-1:b===n?1:e?-1:f?1:k?I(k,a)-I(k,b):0;if(e===f)return la(a,b);c=a;while(c=c.parentNode)g.unshift(c);c=b;while(c=c.parentNode)h.unshift(c);while(g[d]===h[d])d++;return d?la(g[d],h[d]):g[d]===v?-1:h[d]===v?1:0},n):n},ga.matches=function(a,b){return ga(a,null,null,b)},ga.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(S,"='$1']"),c.matchesSelector&&p&&!A[b+" "]&&(!r||!r.test(b))&&(!q||!q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return ga(b,n,null,[a]).length>0},ga.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},ga.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&C.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},ga.escape=function(a){return(a+"").replace(ba,ca)},ga.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},ga.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=ga.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=ga.selectors={cacheLength:50,createPseudo:ia,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(_,aa),a[3]=(a[3]||a[4]||a[5]||"").replace(_,aa),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||ga.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&ga.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return V.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&T.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(_,aa).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+K+")"+a+"("+K+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=ga.attr(d,a);return null==e?"!="===b:!b||(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(O," ")+" ").indexOf(c)>-1:"|="===b&&(e===c||e.slice(0,c.length+1)===c+"-"))}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){while(p){m=b;while(m=m[p])if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){m=q,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n&&j[2],m=n&&q.childNodes[n];while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if(1===m.nodeType&&++t&&m===b){k[a]=[w,n,t];break}}else if(s&&(m=b,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n),t===!1)while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if((h?m.nodeName.toLowerCase()===r:1===m.nodeType)&&++t&&(s&&(l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[w,t]),m===b))break;return t-=e,t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||ga.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ia(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=I(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ia(function(a){var b=[],c=[],d=h(a.replace(P,"$1"));return d[u]?ia(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ia(function(a){return function(b){return ga(a,b).length>0}}),contains:ia(function(a){return a=a.replace(_,aa),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ia(function(a){return U.test(a||"")||ga.error("unsupported lang: "+a),a=a.replace(_,aa).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:oa(!1),disabled:oa(!0),checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return X.test(a.nodeName)},input:function(a){return W.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:pa(function(){return[0]}),last:pa(function(a,b){return[b-1]}),eq:pa(function(a,b,c){return[c<0?c+b:c]}),even:pa(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:pa(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:pa(function(a,b,c){for(var d=c<0?c+b:c;--d>=0;)a.push(d);return a}),gt:pa(function(a,b,c){for(var d=c<0?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=ma(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=na(b);function ra(){}ra.prototype=d.filters=d.pseudos,d.setFilters=new ra,g=ga.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){c&&!(e=Q.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=R.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(P," ")}),h=h.slice(c.length));for(g in d.filter)!(e=V[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?ga.error(a):z(a,i).slice(0)};function sa(a){for(var b=0,c=a.length,d="";b<c;b++)d+=a[b].value;return d}function ta(a,b,c){var d=b.dir,e=b.next,f=e||d,g=c&&"parentNode"===f,h=x++;return b.first?function(b,c,e){while(b=b[d])if(1===b.nodeType||g)return a(b,c,e);return!1}:function(b,c,i){var j,k,l,m=[w,h];if(i){while(b=b[d])if((1===b.nodeType||g)&&a(b,c,i))return!0}else while(b=b[d])if(1===b.nodeType||g)if(l=b[u]||(b[u]={}),k=l[b.uniqueID]||(l[b.uniqueID]={}),e&&e===b.nodeName.toLowerCase())b=b[d]||b;else{if((j=k[f])&&j[0]===w&&j[1]===h)return m[2]=j[2];if(k[f]=m,m[2]=a(b,c,i))return!0}return!1}}function ua(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function va(a,b,c){for(var d=0,e=b.length;d<e;d++)ga(a,b[d],c);return c}function wa(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;h<i;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function xa(a,b,c,d,e,f){return d&&!d[u]&&(d=xa(d)),e&&!e[u]&&(e=xa(e,f)),ia(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||va(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:wa(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=wa(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?I(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=wa(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):G.apply(g,r)})}function ya(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=ta(function(a){return a===b},h,!0),l=ta(function(a){return I(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];i<f;i++)if(c=d.relative[a[i].type])m=[ta(ua(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;e<f;e++)if(d.relative[a[e].type])break;return xa(i>1&&ua(m),i>1&&sa(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(P,"$1"),c,i<e&&ya(a.slice(i,e)),e<f&&ya(a=a.slice(e)),e<f&&sa(a))}m.push(c)}return ua(m)}function za(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,o,q,r=0,s="0",t=f&&[],u=[],v=j,x=f||e&&d.find.TAG("*",k),y=w+=null==v?1:Math.random()||.1,z=x.length;for(k&&(j=g===n||g||k);s!==z&&null!=(l=x[s]);s++){if(e&&l){o=0,g||l.ownerDocument===n||(m(l),h=!p);while(q=a[o++])if(q(l,g||n,h)){i.push(l);break}k&&(w=y)}c&&((l=!q&&l)&&r--,f&&t.push(l))}if(r+=s,c&&s!==r){o=0;while(q=b[o++])q(t,u,g,h);if(f){if(r>0)while(s--)t[s]||u[s]||(u[s]=E.call(i));u=wa(u)}G.apply(i,u),k&&!f&&u.length>0&&r+b.length>1&&ga.uniqueSort(i)}return k&&(w=y,j=v),t};return c?ia(f):f}return h=ga.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=ya(b[c]),f[u]?d.push(f):e.push(f);f=A(a,za(e,d)),f.selector=a}return f},i=ga.select=function(a,b,c,e){var f,i,j,k,l,m="function"==typeof a&&a,n=!e&&g(a=m.selector||a);if(c=c||[],1===n.length){if(i=n[0]=n[0].slice(0),i.length>2&&"ID"===(j=i[0]).type&&9===b.nodeType&&p&&d.relative[i[1].type]){if(b=(d.find.ID(j.matches[0].replace(_,aa),b)||[])[0],!b)return c;m&&(b=b.parentNode),a=a.slice(i.shift().value.length)}f=V.needsContext.test(a)?0:i.length;while(f--){if(j=i[f],d.relative[k=j.type])break;if((l=d.find[k])&&(e=l(j.matches[0].replace(_,aa),$.test(i[0].type)&&qa(b.parentNode)||b))){if(i.splice(f,1),a=e.length&&sa(i),!a)return G.apply(c,e),c;break}}}return(m||h(a,n))(e,b,!p,c,!b||$.test(a)&&qa(b.parentNode)||b),c},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ja(function(a){return 1&a.compareDocumentPosition(n.createElement("fieldset"))}),ja(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ka("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ja(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ka("value",function(a,b,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue}),ja(function(a){return null==a.getAttribute("disabled")})||ka(J,function(a,b,c){var d;if(!c)return a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),ga}(a);r.find=x,r.expr=x.selectors,r.expr[":"]=r.expr.pseudos,r.uniqueSort=r.unique=x.uniqueSort,r.text=x.getText,r.isXMLDoc=x.isXML,r.contains=x.contains,r.escapeSelector=x.escape;var y=function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&r(a).is(c))break;d.push(a)}return d},z=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},A=r.expr.match.needsContext;function B(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()}var C=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,D=/^.[^:#\[\.,]*$/;function E(a,b,c){return r.isFunction(b)?r.grep(a,function(a,d){return!!b.call(a,d,a)!==c}):b.nodeType?r.grep(a,function(a){return a===b!==c}):"string"!=typeof b?r.grep(a,function(a){return i.call(b,a)>-1!==c}):D.test(b)?r.filter(b,a,c):(b=r.filter(b,a),r.grep(a,function(a){return i.call(b,a)>-1!==c&&1===a.nodeType}))}r.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?r.find.matchesSelector(d,a)?[d]:[]:r.find.matches(a,r.grep(b,function(a){return 1===a.nodeType}))},r.fn.extend({find:function(a){var b,c,d=this.length,e=this;if("string"!=typeof a)return this.pushStack(r(a).filter(function(){for(b=0;b<d;b++)if(r.contains(e[b],this))return!0}));for(c=this.pushStack([]),b=0;b<d;b++)r.find(a,e[b],c);return d>1?r.uniqueSort(c):c},filter:function(a){return this.pushStack(E(this,a||[],!1))},not:function(a){return this.pushStack(E(this,a||[],!0))},is:function(a){return!!E(this,"string"==typeof a&&A.test(a)?r(a):a||[],!1).length}});var F,G=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,H=r.fn.init=function(a,b,c){var e,f;if(!a)return this;if(c=c||F,"string"==typeof a){if(e="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:G.exec(a),!e||!e[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(e[1]){if(b=b instanceof r?b[0]:b,r.merge(this,r.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:d,!0)),C.test(e[1])&&r.isPlainObject(b))for(e in b)r.isFunction(this[e])?this[e](b[e]):this.attr(e,b[e]);return this}return f=d.getElementById(e[2]),f&&(this[0]=f,this.length=1),this}return a.nodeType?(this[0]=a,this.length=1,this):r.isFunction(a)?void 0!==c.ready?c.ready(a):a(r):r.makeArray(a,this)};H.prototype=r.fn,F=r(d);var I=/^(?:parents|prev(?:Until|All))/,J={children:!0,contents:!0,next:!0,prev:!0};r.fn.extend({has:function(a){var b=r(a,this),c=b.length;return this.filter(function(){for(var a=0;a<c;a++)if(r.contains(this,b[a]))return!0})},closest:function(a,b){var c,d=0,e=this.length,f=[],g="string"!=typeof a&&r(a);if(!A.test(a))for(;d<e;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&r.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?r.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?i.call(r(a),this[0]):i.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(r.uniqueSort(r.merge(this.get(),r(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function K(a,b){while((a=a[b])&&1!==a.nodeType);return a}r.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return y(a,"parentNode")},parentsUntil:function(a,b,c){return y(a,"parentNode",c)},next:function(a){return K(a,"nextSibling")},prev:function(a){return K(a,"previousSibling")},nextAll:function(a){return y(a,"nextSibling")},prevAll:function(a){return y(a,"previousSibling")},nextUntil:function(a,b,c){return y(a,"nextSibling",c)},prevUntil:function(a,b,c){return y(a,"previousSibling",c)},siblings:function(a){return z((a.parentNode||{}).firstChild,a)},children:function(a){return z(a.firstChild)},contents:function(a){return B(a,"iframe")?a.contentDocument:(B(a,"template")&&(a=a.content||a),r.merge([],a.childNodes))}},function(a,b){r.fn[a]=function(c,d){var e=r.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=r.filter(d,e)),this.length>1&&(J[a]||r.uniqueSort(e),I.test(a)&&e.reverse()),this.pushStack(e)}});var L=/[^\x20\t\r\n\f]+/g;function M(a){var b={};return r.each(a.match(L)||[],function(a,c){b[c]=!0}),b}r.Callbacks=function(a){a="string"==typeof a?M(a):r.extend({},a);var b,c,d,e,f=[],g=[],h=-1,i=function(){for(e=e||a.once,d=b=!0;g.length;h=-1){c=g.shift();while(++h<f.length)f[h].apply(c[0],c[1])===!1&&a.stopOnFalse&&(h=f.length,c=!1)}a.memory||(c=!1),b=!1,e&&(f=c?[]:"")},j={add:function(){return f&&(c&&!b&&(h=f.length-1,g.push(c)),function d(b){r.each(b,function(b,c){r.isFunction(c)?a.unique&&j.has(c)||f.push(c):c&&c.length&&"string"!==r.type(c)&&d(c)})}(arguments),c&&!b&&i()),this},remove:function(){return r.each(arguments,function(a,b){var c;while((c=r.inArray(b,f,c))>-1)f.splice(c,1),c<=h&&h--}),this},has:function(a){return a?r.inArray(a,f)>-1:f.length>0},empty:function(){return f&&(f=[]),this},disable:function(){return e=g=[],f=c="",this},disabled:function(){return!f},lock:function(){return e=g=[],c||b||(f=c=""),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],g.push(c),b||i()),this},fire:function(){return j.fireWith(this,arguments),this},fired:function(){return!!d}};return j};function N(a){return a}function O(a){throw a}function P(a,b,c,d){var e;try{a&&r.isFunction(e=a.promise)?e.call(a).done(b).fail(c):a&&r.isFunction(e=a.then)?e.call(a,b,c):b.apply(void 0,[a].slice(d))}catch(a){c.apply(void 0,[a])}}r.extend({Deferred:function(b){var c=[["notify","progress",r.Callbacks("memory"),r.Callbacks("memory"),2],["resolve","done",r.Callbacks("once memory"),r.Callbacks("once memory"),0,"resolved"],["reject","fail",r.Callbacks("once memory"),r.Callbacks("once memory"),1,"rejected"]],d="pending",e={state:function(){return d},always:function(){return f.done(arguments).fail(arguments),this},"catch":function(a){return e.then(null,a)},pipe:function(){var a=arguments;return r.Deferred(function(b){r.each(c,function(c,d){var e=r.isFunction(a[d[4]])&&a[d[4]];f[d[1]](function(){var a=e&&e.apply(this,arguments);a&&r.isFunction(a.promise)?a.promise().progress(b.notify).done(b.resolve).fail(b.reject):b[d[0]+"With"](this,e?[a]:arguments)})}),a=null}).promise()},then:function(b,d,e){var f=0;function g(b,c,d,e){return function(){var h=this,i=arguments,j=function(){var a,j;if(!(b<f)){if(a=d.apply(h,i),a===c.promise())throw new TypeError("Thenable self-resolution");j=a&&("object"==typeof a||"function"==typeof a)&&a.then,r.isFunction(j)?e?j.call(a,g(f,c,N,e),g(f,c,O,e)):(f++,j.call(a,g(f,c,N,e),g(f,c,O,e),g(f,c,N,c.notifyWith))):(d!==N&&(h=void 0,i=[a]),(e||c.resolveWith)(h,i))}},k=e?j:function(){try{j()}catch(a){r.Deferred.exceptionHook&&r.Deferred.exceptionHook(a,k.stackTrace),b+1>=f&&(d!==O&&(h=void 0,i=[a]),c.rejectWith(h,i))}};b?k():(r.Deferred.getStackHook&&(k.stackTrace=r.Deferred.getStackHook()),a.setTimeout(k))}}return r.Deferred(function(a){c[0][3].add(g(0,a,r.isFunction(e)?e:N,a.notifyWith)),c[1][3].add(g(0,a,r.isFunction(b)?b:N)),c[2][3].add(g(0,a,r.isFunction(d)?d:O))}).promise()},promise:function(a){return null!=a?r.extend(a,e):e}},f={};return r.each(c,function(a,b){var g=b[2],h=b[5];e[b[1]]=g.add,h&&g.add(function(){d=h},c[3-a][2].disable,c[0][2].lock),g.add(b[3].fire),f[b[0]]=function(){return f[b[0]+"With"](this===f?void 0:this,arguments),this},f[b[0]+"With"]=g.fireWith}),e.promise(f),b&&b.call(f,f),f},when:function(a){var b=arguments.length,c=b,d=Array(c),e=f.call(arguments),g=r.Deferred(),h=function(a){return function(c){d[a]=this,e[a]=arguments.length>1?f.call(arguments):c,--b||g.resolveWith(d,e)}};if(b<=1&&(P(a,g.done(h(c)).resolve,g.reject,!b),"pending"===g.state()||r.isFunction(e[c]&&e[c].then)))return g.then();while(c--)P(e[c],h(c),g.reject);return g.promise()}});var Q=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;r.Deferred.exceptionHook=function(b,c){a.console&&a.console.warn&&b&&Q.test(b.name)&&a.console.warn("jQuery.Deferred exception: "+b.message,b.stack,c)},r.readyException=function(b){a.setTimeout(function(){throw b})};var R=r.Deferred();r.fn.ready=function(a){return R.then(a)["catch"](function(a){r.readyException(a)}),this},r.extend({isReady:!1,readyWait:1,ready:function(a){(a===!0?--r.readyWait:r.isReady)||(r.isReady=!0,a!==!0&&--r.readyWait>0||R.resolveWith(d,[r]))}}),r.ready.then=R.then;function S(){d.removeEventListener("DOMContentLoaded",S),
a.removeEventListener("load",S),r.ready()}"complete"===d.readyState||"loading"!==d.readyState&&!d.documentElement.doScroll?a.setTimeout(r.ready):(d.addEventListener("DOMContentLoaded",S),a.addEventListener("load",S));var T=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===r.type(c)){e=!0;for(h in c)T(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,r.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(r(a),c)})),b))for(;h<i;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},U=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function V(){this.expando=r.expando+V.uid++}V.uid=1,V.prototype={cache:function(a){var b=a[this.expando];return b||(b={},U(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d,e=this.cache(a);if("string"==typeof b)e[r.camelCase(b)]=c;else for(d in b)e[r.camelCase(d)]=b[d];return e},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][r.camelCase(b)]},access:function(a,b,c){return void 0===b||b&&"string"==typeof b&&void 0===c?this.get(a,b):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d=a[this.expando];if(void 0!==d){if(void 0!==b){Array.isArray(b)?b=b.map(r.camelCase):(b=r.camelCase(b),b=b in d?[b]:b.match(L)||[]),c=b.length;while(c--)delete d[b[c]]}(void 0===b||r.isEmptyObject(d))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var b=a[this.expando];return void 0!==b&&!r.isEmptyObject(b)}};var W=new V,X=new V,Y=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Z=/[A-Z]/g;function $(a){return"true"===a||"false"!==a&&("null"===a?null:a===+a+""?+a:Y.test(a)?JSON.parse(a):a)}function _(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(Z,"-$&").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c=$(c)}catch(e){}X.set(a,b,c)}else c=void 0;return c}r.extend({hasData:function(a){return X.hasData(a)||W.hasData(a)},data:function(a,b,c){return X.access(a,b,c)},removeData:function(a,b){X.remove(a,b)},_data:function(a,b,c){return W.access(a,b,c)},_removeData:function(a,b){W.remove(a,b)}}),r.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=X.get(f),1===f.nodeType&&!W.get(f,"hasDataAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=r.camelCase(d.slice(5)),_(f,d,e[d])));W.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){X.set(this,a)}):T(this,function(b){var c;if(f&&void 0===b){if(c=X.get(f,a),void 0!==c)return c;if(c=_(f,a),void 0!==c)return c}else this.each(function(){X.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){X.remove(this,a)})}}),r.extend({queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=W.get(a,b),c&&(!d||Array.isArray(c)?d=W.access(a,b,r.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=r.queue(a,b),d=c.length,e=c.shift(),f=r._queueHooks(a,b),g=function(){r.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return W.get(a,c)||W.access(a,c,{empty:r.Callbacks("once memory").add(function(){W.remove(a,[b+"queue",c])})})}}),r.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?r.queue(this[0],a):void 0===b?this:this.each(function(){var c=r.queue(this,a,b);r._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&r.dequeue(this,a)})},dequeue:function(a){return this.each(function(){r.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=r.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=W.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var aa=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ba=new RegExp("^(?:([+-])=|)("+aa+")([a-z%]*)$","i"),ca=["Top","Right","Bottom","Left"],da=function(a,b){return a=b||a,"none"===a.style.display||""===a.style.display&&r.contains(a.ownerDocument,a)&&"none"===r.css(a,"display")},ea=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};function fa(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return r.css(a,b,"")},i=h(),j=c&&c[3]||(r.cssNumber[b]?"":"px"),k=(r.cssNumber[b]||"px"!==j&&+i)&&ba.exec(r.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do f=f||".5",k/=f,r.style(a,b,k+j);while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}var ga={};function ha(a){var b,c=a.ownerDocument,d=a.nodeName,e=ga[d];return e?e:(b=c.body.appendChild(c.createElement(d)),e=r.css(b,"display"),b.parentNode.removeChild(b),"none"===e&&(e="block"),ga[d]=e,e)}function ia(a,b){for(var c,d,e=[],f=0,g=a.length;f<g;f++)d=a[f],d.style&&(c=d.style.display,b?("none"===c&&(e[f]=W.get(d,"display")||null,e[f]||(d.style.display="")),""===d.style.display&&da(d)&&(e[f]=ha(d))):"none"!==c&&(e[f]="none",W.set(d,"display",c)));for(f=0;f<g;f++)null!=e[f]&&(a[f].style.display=e[f]);return a}r.fn.extend({show:function(){return ia(this,!0)},hide:function(){return ia(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){da(this)?r(this).show():r(this).hide()})}});var ja=/^(?:checkbox|radio)$/i,ka=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,la=/^$|\/(?:java|ecma)script/i,ma={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ma.optgroup=ma.option,ma.tbody=ma.tfoot=ma.colgroup=ma.caption=ma.thead,ma.th=ma.td;function na(a,b){var c;return c="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):[],void 0===b||b&&B(a,b)?r.merge([a],c):c}function oa(a,b){for(var c=0,d=a.length;c<d;c++)W.set(a[c],"globalEval",!b||W.get(b[c],"globalEval"))}var pa=/<|&#?\w+;/;function qa(a,b,c,d,e){for(var f,g,h,i,j,k,l=b.createDocumentFragment(),m=[],n=0,o=a.length;n<o;n++)if(f=a[n],f||0===f)if("object"===r.type(f))r.merge(m,f.nodeType?[f]:f);else if(pa.test(f)){g=g||l.appendChild(b.createElement("div")),h=(ka.exec(f)||["",""])[1].toLowerCase(),i=ma[h]||ma._default,g.innerHTML=i[1]+r.htmlPrefilter(f)+i[2],k=i[0];while(k--)g=g.lastChild;r.merge(m,g.childNodes),g=l.firstChild,g.textContent=""}else m.push(b.createTextNode(f));l.textContent="",n=0;while(f=m[n++])if(d&&r.inArray(f,d)>-1)e&&e.push(f);else if(j=r.contains(f.ownerDocument,f),g=na(l.appendChild(f),"script"),j&&oa(g),c){k=0;while(f=g[k++])la.test(f.type||"")&&c.push(f)}return l}!function(){var a=d.createDocumentFragment(),b=a.appendChild(d.createElement("div")),c=d.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),o.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",o.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var ra=d.documentElement,sa=/^key/,ta=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ua=/^([^.]*)(?:\.(.+)|)/;function va(){return!0}function wa(){return!1}function xa(){try{return d.activeElement}catch(a){}}function ya(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b)ya(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1)e=wa;else if(!e)return a;return 1===f&&(g=e,e=function(a){return r().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=r.guid++)),a.each(function(){r.event.add(this,b,e,d,c)})}r.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=W.get(a);if(q){c.handler&&(f=c,c=f.handler,e=f.selector),e&&r.find.matchesSelector(ra,e),c.guid||(c.guid=r.guid++),(i=q.events)||(i=q.events={}),(g=q.handle)||(g=q.handle=function(b){return"undefined"!=typeof r&&r.event.triggered!==b.type?r.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(L)||[""],j=b.length;while(j--)h=ua.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n&&(l=r.event.special[n]||{},n=(e?l.delegateType:l.bindType)||n,l=r.event.special[n]||{},k=r.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&r.expr.match.needsContext.test(e),namespace:o.join(".")},f),(m=i[n])||(m=i[n]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,o,g)!==!1||a.addEventListener&&a.addEventListener(n,g)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),r.event.global[n]=!0)}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=W.hasData(a)&&W.get(a);if(q&&(i=q.events)){b=(b||"").match(L)||[""],j=b.length;while(j--)if(h=ua.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){l=r.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=i[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;while(f--)k=m[f],!e&&p!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||r.removeEvent(a,n,q.handle),delete i[n])}else for(n in i)r.event.remove(a,n+b[j],c,d,!0);r.isEmptyObject(i)&&W.remove(a,"handle events")}},dispatch:function(a){var b=r.event.fix(a),c,d,e,f,g,h,i=new Array(arguments.length),j=(W.get(this,"events")||{})[b.type]||[],k=r.event.special[b.type]||{};for(i[0]=b,c=1;c<arguments.length;c++)i[c]=arguments[c];if(b.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,b)!==!1){h=r.event.handlers.call(this,b,j),c=0;while((f=h[c++])&&!b.isPropagationStopped()){b.currentTarget=f.elem,d=0;while((g=f.handlers[d++])&&!b.isImmediatePropagationStopped())b.rnamespace&&!b.rnamespace.test(g.namespace)||(b.handleObj=g,b.data=g.data,e=((r.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==e&&(b.result=e)===!1&&(b.preventDefault(),b.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,b),b.result}},handlers:function(a,b){var c,d,e,f,g,h=[],i=b.delegateCount,j=a.target;if(i&&j.nodeType&&!("click"===a.type&&a.button>=1))for(;j!==this;j=j.parentNode||this)if(1===j.nodeType&&("click"!==a.type||j.disabled!==!0)){for(f=[],g={},c=0;c<i;c++)d=b[c],e=d.selector+" ",void 0===g[e]&&(g[e]=d.needsContext?r(e,this).index(j)>-1:r.find(e,this,null,[j]).length),g[e]&&f.push(d);f.length&&h.push({elem:j,handlers:f})}return j=this,i<b.length&&h.push({elem:j,handlers:b.slice(i)}),h},addProp:function(a,b){Object.defineProperty(r.Event.prototype,a,{enumerable:!0,configurable:!0,get:r.isFunction(b)?function(){if(this.originalEvent)return b(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[a]},set:function(b){Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:b})}})},fix:function(a){return a[r.expando]?a:new r.Event(a)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==xa()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===xa()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&B(this,"input"))return this.click(),!1},_default:function(a){return B(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},r.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)},r.Event=function(a,b){return this instanceof r.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?va:wa,this.target=a.target&&3===a.target.nodeType?a.target.parentNode:a.target,this.currentTarget=a.currentTarget,this.relatedTarget=a.relatedTarget):this.type=a,b&&r.extend(this,b),this.timeStamp=a&&a.timeStamp||r.now(),void(this[r.expando]=!0)):new r.Event(a,b)},r.Event.prototype={constructor:r.Event,isDefaultPrevented:wa,isPropagationStopped:wa,isImmediatePropagationStopped:wa,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=va,a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=va,a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=va,a&&!this.isSimulated&&a.stopImmediatePropagation(),this.stopPropagation()}},r.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(a){var b=a.button;return null==a.which&&sa.test(a.type)?null!=a.charCode?a.charCode:a.keyCode:!a.which&&void 0!==b&&ta.test(a.type)?1&b?1:2&b?3:4&b?2:0:a.which}},r.event.addProp),r.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){r.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||r.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),r.fn.extend({on:function(a,b,c,d){return ya(this,a,b,c,d)},one:function(a,b,c,d){return ya(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,r(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return b!==!1&&"function"!=typeof b||(c=b,b=void 0),c===!1&&(c=wa),this.each(function(){r.event.remove(this,a,c,b)})}});var za=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Aa=/<script|<style|<link/i,Ba=/checked\s*(?:[^=]|=\s*.checked.)/i,Ca=/^true\/(.*)/,Da=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ea(a,b){return B(a,"table")&&B(11!==b.nodeType?b:b.firstChild,"tr")?r(">tbody",a)[0]||a:a}function Fa(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function Ga(a){var b=Ca.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function Ha(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(W.hasData(a)&&(f=W.access(a),g=W.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;c<d;c++)r.event.add(b,e,j[e][c])}X.hasData(a)&&(h=X.access(a),i=r.extend({},h),X.set(b,i))}}function Ia(a,b){var c=b.nodeName.toLowerCase();"input"===c&&ja.test(a.type)?b.checked=a.checked:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}function Ja(a,b,c,d){b=g.apply([],b);var e,f,h,i,j,k,l=0,m=a.length,n=m-1,q=b[0],s=r.isFunction(q);if(s||m>1&&"string"==typeof q&&!o.checkClone&&Ba.test(q))return a.each(function(e){var f=a.eq(e);s&&(b[0]=q.call(this,e,f.html())),Ja(f,b,c,d)});if(m&&(e=qa(b,a[0].ownerDocument,!1,a,d),f=e.firstChild,1===e.childNodes.length&&(e=f),f||d)){for(h=r.map(na(e,"script"),Fa),i=h.length;l<m;l++)j=e,l!==n&&(j=r.clone(j,!0,!0),i&&r.merge(h,na(j,"script"))),c.call(a[l],j,l);if(i)for(k=h[h.length-1].ownerDocument,r.map(h,Ga),l=0;l<i;l++)j=h[l],la.test(j.type||"")&&!W.access(j,"globalEval")&&r.contains(k,j)&&(j.src?r._evalUrl&&r._evalUrl(j.src):p(j.textContent.replace(Da,""),k))}return a}function Ka(a,b,c){for(var d,e=b?r.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||r.cleanData(na(d)),d.parentNode&&(c&&r.contains(d.ownerDocument,d)&&oa(na(d,"script")),d.parentNode.removeChild(d));return a}r.extend({htmlPrefilter:function(a){return a.replace(za,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=r.contains(a.ownerDocument,a);if(!(o.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||r.isXMLDoc(a)))for(g=na(h),f=na(a),d=0,e=f.length;d<e;d++)Ia(f[d],g[d]);if(b)if(c)for(f=f||na(a),g=g||na(h),d=0,e=f.length;d<e;d++)Ha(f[d],g[d]);else Ha(a,h);return g=na(h,"script"),g.length>0&&oa(g,!i&&na(a,"script")),h},cleanData:function(a){for(var b,c,d,e=r.event.special,f=0;void 0!==(c=a[f]);f++)if(U(c)){if(b=c[W.expando]){if(b.events)for(d in b.events)e[d]?r.event.remove(c,d):r.removeEvent(c,d,b.handle);c[W.expando]=void 0}c[X.expando]&&(c[X.expando]=void 0)}}}),r.fn.extend({detach:function(a){return Ka(this,a,!0)},remove:function(a){return Ka(this,a)},text:function(a){return T(this,function(a){return void 0===a?r.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return Ja(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=Ea(this,a);b.appendChild(a)}})},prepend:function(){return Ja(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=Ea(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return Ja(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return Ja(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(r.cleanData(na(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return r.clone(this,a,b)})},html:function(a){return T(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!Aa.test(a)&&!ma[(ka.exec(a)||["",""])[1].toLowerCase()]){a=r.htmlPrefilter(a);try{for(;c<d;c++)b=this[c]||{},1===b.nodeType&&(r.cleanData(na(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return Ja(this,arguments,function(b){var c=this.parentNode;r.inArray(this,a)<0&&(r.cleanData(na(this)),c&&c.replaceChild(b,this))},a)}}),r.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){r.fn[a]=function(a){for(var c,d=[],e=r(a),f=e.length-1,g=0;g<=f;g++)c=g===f?this:this.clone(!0),r(e[g])[b](c),h.apply(d,c.get());return this.pushStack(d)}});var La=/^margin/,Ma=new RegExp("^("+aa+")(?!px)[a-z%]+$","i"),Na=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)};!function(){function b(){if(i){i.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",i.innerHTML="",ra.appendChild(h);var b=a.getComputedStyle(i);c="1%"!==b.top,g="2px"===b.marginLeft,e="4px"===b.width,i.style.marginRight="50%",f="4px"===b.marginRight,ra.removeChild(h),i=null}}var c,e,f,g,h=d.createElement("div"),i=d.createElement("div");i.style&&(i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",o.clearCloneStyle="content-box"===i.style.backgroundClip,h.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",h.appendChild(i),r.extend(o,{pixelPosition:function(){return b(),c},boxSizingReliable:function(){return b(),e},pixelMarginRight:function(){return b(),f},reliableMarginLeft:function(){return b(),g}}))}();function Oa(a,b,c){var d,e,f,g,h=a.style;return c=c||Na(a),c&&(g=c.getPropertyValue(b)||c[b],""!==g||r.contains(a.ownerDocument,a)||(g=r.style(a,b)),!o.pixelMarginRight()&&Ma.test(g)&&La.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function Pa(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}var Qa=/^(none|table(?!-c[ea]).+)/,Ra=/^--/,Sa={position:"absolute",visibility:"hidden",display:"block"},Ta={letterSpacing:"0",fontWeight:"400"},Ua=["Webkit","Moz","ms"],Va=d.createElement("div").style;function Wa(a){if(a in Va)return a;var b=a[0].toUpperCase()+a.slice(1),c=Ua.length;while(c--)if(a=Ua[c]+b,a in Va)return a}function Xa(a){var b=r.cssProps[a];return b||(b=r.cssProps[a]=Wa(a)||a),b}function Ya(a,b,c){var d=ba.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||"px"):b}function Za(a,b,c,d,e){var f,g=0;for(f=c===(d?"border":"content")?4:"width"===b?1:0;f<4;f+=2)"margin"===c&&(g+=r.css(a,c+ca[f],!0,e)),d?("content"===c&&(g-=r.css(a,"padding"+ca[f],!0,e)),"margin"!==c&&(g-=r.css(a,"border"+ca[f]+"Width",!0,e))):(g+=r.css(a,"padding"+ca[f],!0,e),"padding"!==c&&(g+=r.css(a,"border"+ca[f]+"Width",!0,e)));return g}function $a(a,b,c){var d,e=Na(a),f=Oa(a,b,e),g="border-box"===r.css(a,"boxSizing",!1,e);return Ma.test(f)?f:(d=g&&(o.boxSizingReliable()||f===a.style[b]),"auto"===f&&(f=a["offset"+b[0].toUpperCase()+b.slice(1)]),f=parseFloat(f)||0,f+Za(a,b,c||(g?"border":"content"),d,e)+"px")}r.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Oa(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=r.camelCase(b),i=Ra.test(b),j=a.style;return i||(b=Xa(h)),g=r.cssHooks[b]||r.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:j[b]:(f=typeof c,"string"===f&&(e=ba.exec(c))&&e[1]&&(c=fa(a,b,e),f="number"),null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(r.cssNumber[h]?"":"px")),o.clearCloneStyle||""!==c||0!==b.indexOf("background")||(j[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i?j.setProperty(b,c):j[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=r.camelCase(b),i=Ra.test(b);return i||(b=Xa(h)),g=r.cssHooks[b]||r.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=Oa(a,b,d)),"normal"===e&&b in Ta&&(e=Ta[b]),""===c||c?(f=parseFloat(e),c===!0||isFinite(f)?f||0:e):e}}),r.each(["height","width"],function(a,b){r.cssHooks[b]={get:function(a,c,d){if(c)return!Qa.test(r.css(a,"display"))||a.getClientRects().length&&a.getBoundingClientRect().width?$a(a,b,d):ea(a,Sa,function(){return $a(a,b,d)})},set:function(a,c,d){var e,f=d&&Na(a),g=d&&Za(a,b,d,"border-box"===r.css(a,"boxSizing",!1,f),f);return g&&(e=ba.exec(c))&&"px"!==(e[3]||"px")&&(a.style[b]=c,c=r.css(a,b)),Ya(a,c,g)}}}),r.cssHooks.marginLeft=Pa(o.reliableMarginLeft,function(a,b){if(b)return(parseFloat(Oa(a,"marginLeft"))||a.getBoundingClientRect().left-ea(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px"}),r.each({margin:"",padding:"",border:"Width"},function(a,b){r.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];d<4;d++)e[a+ca[d]+b]=f[d]||f[d-2]||f[0];return e}},La.test(a)||(r.cssHooks[a+b].set=Ya)}),r.fn.extend({css:function(a,b){return T(this,function(a,b,c){var d,e,f={},g=0;if(Array.isArray(b)){for(d=Na(a),e=b.length;g<e;g++)f[b[g]]=r.css(a,b[g],!1,d);return f}return void 0!==c?r.style(a,b,c):r.css(a,b)},a,b,arguments.length>1)}});function _a(a,b,c,d,e){return new _a.prototype.init(a,b,c,d,e)}r.Tween=_a,_a.prototype={constructor:_a,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||r.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(r.cssNumber[c]?"":"px")},cur:function(){var a=_a.propHooks[this.prop];return a&&a.get?a.get(this):_a.propHooks._default.get(this)},run:function(a){var b,c=_a.propHooks[this.prop];return this.options.duration?this.pos=b=r.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):_a.propHooks._default.set(this),this}},_a.prototype.init.prototype=_a.prototype,_a.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=r.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){r.fx.step[a.prop]?r.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[r.cssProps[a.prop]]&&!r.cssHooks[a.prop]?a.elem[a.prop]=a.now:r.style(a.elem,a.prop,a.now+a.unit)}}},_a.propHooks.scrollTop=_a.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},r.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},r.fx=_a.prototype.init,r.fx.step={};var ab,bb,cb=/^(?:toggle|show|hide)$/,db=/queueHooks$/;function eb(){bb&&(d.hidden===!1&&a.requestAnimationFrame?a.requestAnimationFrame(eb):a.setTimeout(eb,r.fx.interval),r.fx.tick())}function fb(){return a.setTimeout(function(){ab=void 0}),ab=r.now()}function gb(a,b){var c,d=0,e={height:a};for(b=b?1:0;d<4;d+=2-b)c=ca[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function hb(a,b,c){for(var d,e=(kb.tweeners[b]||[]).concat(kb.tweeners["*"]),f=0,g=e.length;f<g;f++)if(d=e[f].call(c,b,a))return d}function ib(a,b,c){var d,e,f,g,h,i,j,k,l="width"in b||"height"in b,m=this,n={},o=a.style,p=a.nodeType&&da(a),q=W.get(a,"fxshow");c.queue||(g=r._queueHooks(a,"fx"),null==g.unqueued&&(g.unqueued=0,h=g.empty.fire,g.empty.fire=function(){g.unqueued||h()}),g.unqueued++,m.always(function(){m.always(function(){g.unqueued--,r.queue(a,"fx").length||g.empty.fire()})}));for(d in b)if(e=b[d],cb.test(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}n[d]=q&&q[d]||r.style(a,d)}if(i=!r.isEmptyObject(b),i||!r.isEmptyObject(n)){l&&1===a.nodeType&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=q&&q.display,null==j&&(j=W.get(a,"display")),k=r.css(a,"display"),"none"===k&&(j?k=j:(ia([a],!0),j=a.style.display||j,k=r.css(a,"display"),ia([a]))),("inline"===k||"inline-block"===k&&null!=j)&&"none"===r.css(a,"float")&&(i||(m.done(function(){o.display=j}),null==j&&(k=o.display,j="none"===k?"":k)),o.display="inline-block")),c.overflow&&(o.overflow="hidden",m.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]})),i=!1;for(d in n)i||(q?"hidden"in q&&(p=q.hidden):q=W.access(a,"fxshow",{display:j}),f&&(q.hidden=!p),p&&ia([a],!0),m.done(function(){p||ia([a]),W.remove(a,"fxshow");for(d in n)r.style(a,d,n[d])})),i=hb(p?q[d]:0,d,m),d in q||(q[d]=i.start,p&&(i.end=i.start,i.start=0))}}function jb(a,b){var c,d,e,f,g;for(c in a)if(d=r.camelCase(c),e=b[d],f=a[c],Array.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=r.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function kb(a,b,c){var d,e,f=0,g=kb.prefilters.length,h=r.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=ab||fb(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;g<i;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),f<1&&i?c:(i||h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:r.extend({},b),opts:r.extend(!0,{specialEasing:{},easing:r.easing._default},c),originalProperties:b,originalOptions:c,startTime:ab||fb(),duration:c.duration,tweens:[],createTween:function(b,c){var d=r.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;c<d;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for(jb(k,j.opts.specialEasing);f<g;f++)if(d=kb.prefilters[f].call(j,a,k,j.opts))return r.isFunction(d.stop)&&(r._queueHooks(j.elem,j.opts.queue).stop=r.proxy(d.stop,d)),d;return r.map(k,hb,j),r.isFunction(j.opts.start)&&j.opts.start.call(a,j),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always),r.fx.timer(r.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j}r.Animation=r.extend(kb,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return fa(c.elem,a,ba.exec(b),c),c}]},tweener:function(a,b){r.isFunction(a)?(b=a,a=["*"]):a=a.match(L);for(var c,d=0,e=a.length;d<e;d++)c=a[d],kb.tweeners[c]=kb.tweeners[c]||[],kb.tweeners[c].unshift(b)},prefilters:[ib],prefilter:function(a,b){b?kb.prefilters.unshift(a):kb.prefilters.push(a)}}),r.speed=function(a,b,c){var d=a&&"object"==typeof a?r.extend({},a):{complete:c||!c&&b||r.isFunction(a)&&a,duration:a,easing:c&&b||b&&!r.isFunction(b)&&b};return r.fx.off?d.duration=0:"number"!=typeof d.duration&&(d.duration in r.fx.speeds?d.duration=r.fx.speeds[d.duration]:d.duration=r.fx.speeds._default),null!=d.queue&&d.queue!==!0||(d.queue="fx"),d.old=d.complete,d.complete=function(){r.isFunction(d.old)&&d.old.call(this),d.queue&&r.dequeue(this,d.queue)},d},r.fn.extend({fadeTo:function(a,b,c,d){return this.filter(da).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=r.isEmptyObject(a),f=r.speed(b,c,d),g=function(){var b=kb(this,r.extend({},a),f);(e||W.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=r.timers,g=W.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&db.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||r.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=W.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=r.timers,g=d?d.length:0;for(c.finish=!0,r.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;b<g;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),r.each(["toggle","show","hide"],function(a,b){var c=r.fn[b];r.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(gb(b,!0),a,d,e)}}),r.each({slideDown:gb("show"),slideUp:gb("hide"),slideToggle:gb("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){r.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),r.timers=[],r.fx.tick=function(){var a,b=0,c=r.timers;for(ab=r.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||r.fx.stop(),ab=void 0},r.fx.timer=function(a){r.timers.push(a),r.fx.start()},r.fx.interval=13,r.fx.start=function(){bb||(bb=!0,eb())},r.fx.stop=function(){bb=null},r.fx.speeds={slow:600,fast:200,_default:400},r.fn.delay=function(b,c){return b=r.fx?r.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a=d.createElement("input"),b=d.createElement("select"),c=b.appendChild(d.createElement("option"));a.type="checkbox",o.checkOn=""!==a.value,o.optSelected=c.selected,a=d.createElement("input"),a.value="t",a.type="radio",o.radioValue="t"===a.value}();var lb,mb=r.expr.attrHandle;r.fn.extend({attr:function(a,b){return T(this,r.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){r.removeAttr(this,a)})}}),r.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return"undefined"==typeof a.getAttribute?r.prop(a,b,c):(1===f&&r.isXMLDoc(a)||(e=r.attrHooks[b.toLowerCase()]||(r.expr.match.bool.test(b)?lb:void 0)),void 0!==c?null===c?void r.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:(d=r.find.attr(a,b),
null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!o.radioValue&&"radio"===b&&B(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d=0,e=b&&b.match(L);if(e&&1===a.nodeType)while(c=e[d++])a.removeAttribute(c)}}),lb={set:function(a,b,c){return b===!1?r.removeAttr(a,c):a.setAttribute(c,c),c}},r.each(r.expr.match.bool.source.match(/\w+/g),function(a,b){var c=mb[b]||r.find.attr;mb[b]=function(a,b,d){var e,f,g=b.toLowerCase();return d||(f=mb[g],mb[g]=e,e=null!=c(a,b,d)?g:null,mb[g]=f),e}});var nb=/^(?:input|select|textarea|button)$/i,ob=/^(?:a|area)$/i;r.fn.extend({prop:function(a,b){return T(this,r.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[r.propFix[a]||a]})}}),r.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&r.isXMLDoc(a)||(b=r.propFix[b]||b,e=r.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=r.find.attr(a,"tabindex");return b?parseInt(b,10):nb.test(a.nodeName)||ob.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),o.optSelected||(r.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),r.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){r.propFix[this.toLowerCase()]=this});function pb(a){var b=a.match(L)||[];return b.join(" ")}function qb(a){return a.getAttribute&&a.getAttribute("class")||""}r.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(r.isFunction(a))return this.each(function(b){r(this).addClass(a.call(this,b,qb(this)))});if("string"==typeof a&&a){b=a.match(L)||[];while(c=this[i++])if(e=qb(c),d=1===c.nodeType&&" "+pb(e)+" "){g=0;while(f=b[g++])d.indexOf(" "+f+" ")<0&&(d+=f+" ");h=pb(d),e!==h&&c.setAttribute("class",h)}}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(r.isFunction(a))return this.each(function(b){r(this).removeClass(a.call(this,b,qb(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a){b=a.match(L)||[];while(c=this[i++])if(e=qb(c),d=1===c.nodeType&&" "+pb(e)+" "){g=0;while(f=b[g++])while(d.indexOf(" "+f+" ")>-1)d=d.replace(" "+f+" "," ");h=pb(d),e!==h&&c.setAttribute("class",h)}}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):r.isFunction(a)?this.each(function(c){r(this).toggleClass(a.call(this,c,qb(this),b),b)}):this.each(function(){var b,d,e,f;if("string"===c){d=0,e=r(this),f=a.match(L)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else void 0!==a&&"boolean"!==c||(b=qb(this),b&&W.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||a===!1?"":W.get(this,"__className__")||""))})},hasClass:function(a){var b,c,d=0;b=" "+a+" ";while(c=this[d++])if(1===c.nodeType&&(" "+pb(qb(c))+" ").indexOf(b)>-1)return!0;return!1}});var rb=/\r/g;r.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=r.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,r(this).val()):a,null==e?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=r.map(e,function(a){return null==a?"":a+""})),b=r.valHooks[this.type]||r.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=r.valHooks[e.type]||r.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(rb,""):null==c?"":c)}}}),r.extend({valHooks:{option:{get:function(a){var b=r.find.attr(a,"value");return null!=b?b:pb(r.text(a))}},select:{get:function(a){var b,c,d,e=a.options,f=a.selectedIndex,g="select-one"===a.type,h=g?null:[],i=g?f+1:e.length;for(d=f<0?i:g?f:0;d<i;d++)if(c=e[d],(c.selected||d===f)&&!c.disabled&&(!c.parentNode.disabled||!B(c.parentNode,"optgroup"))){if(b=r(c).val(),g)return b;h.push(b)}return h},set:function(a,b){var c,d,e=a.options,f=r.makeArray(b),g=e.length;while(g--)d=e[g],(d.selected=r.inArray(r.valHooks.option.get(d),f)>-1)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),r.each(["radio","checkbox"],function(){r.valHooks[this]={set:function(a,b){if(Array.isArray(b))return a.checked=r.inArray(r(a).val(),b)>-1}},o.checkOn||(r.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var sb=/^(?:focusinfocus|focusoutblur)$/;r.extend(r.event,{trigger:function(b,c,e,f){var g,h,i,j,k,m,n,o=[e||d],p=l.call(b,"type")?b.type:b,q=l.call(b,"namespace")?b.namespace.split("."):[];if(h=i=e=e||d,3!==e.nodeType&&8!==e.nodeType&&!sb.test(p+r.event.triggered)&&(p.indexOf(".")>-1&&(q=p.split("."),p=q.shift(),q.sort()),k=p.indexOf(":")<0&&"on"+p,b=b[r.expando]?b:new r.Event(p,"object"==typeof b&&b),b.isTrigger=f?2:3,b.namespace=q.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=e),c=null==c?[b]:r.makeArray(c,[b]),n=r.event.special[p]||{},f||!n.trigger||n.trigger.apply(e,c)!==!1)){if(!f&&!n.noBubble&&!r.isWindow(e)){for(j=n.delegateType||p,sb.test(j+p)||(h=h.parentNode);h;h=h.parentNode)o.push(h),i=h;i===(e.ownerDocument||d)&&o.push(i.defaultView||i.parentWindow||a)}g=0;while((h=o[g++])&&!b.isPropagationStopped())b.type=g>1?j:n.bindType||p,m=(W.get(h,"events")||{})[b.type]&&W.get(h,"handle"),m&&m.apply(h,c),m=k&&h[k],m&&m.apply&&U(h)&&(b.result=m.apply(h,c),b.result===!1&&b.preventDefault());return b.type=p,f||b.isDefaultPrevented()||n._default&&n._default.apply(o.pop(),c)!==!1||!U(e)||k&&r.isFunction(e[p])&&!r.isWindow(e)&&(i=e[k],i&&(e[k]=null),r.event.triggered=p,e[p](),r.event.triggered=void 0,i&&(e[k]=i)),b.result}},simulate:function(a,b,c){var d=r.extend(new r.Event,c,{type:a,isSimulated:!0});r.event.trigger(d,null,b)}}),r.fn.extend({trigger:function(a,b){return this.each(function(){r.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return r.event.trigger(a,b,c,!0)}}),r.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(a,b){r.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),r.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),o.focusin="onfocusin"in a,o.focusin||r.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){r.event.simulate(b,a.target,r.event.fix(a))};r.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=W.access(d,b);e||d.addEventListener(a,c,!0),W.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=W.access(d,b)-1;e?W.access(d,b,e):(d.removeEventListener(a,c,!0),W.remove(d,b))}}});var tb=a.location,ub=r.now(),vb=/\?/;r.parseXML=function(b){var c;if(!b||"string"!=typeof b)return null;try{c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(d){c=void 0}return c&&!c.getElementsByTagName("parsererror").length||r.error("Invalid XML: "+b),c};var wb=/\[\]$/,xb=/\r?\n/g,yb=/^(?:submit|button|image|reset|file)$/i,zb=/^(?:input|select|textarea|keygen)/i;function Ab(a,b,c,d){var e;if(Array.isArray(b))r.each(b,function(b,e){c||wb.test(a)?d(a,e):Ab(a+"["+("object"==typeof e&&null!=e?b:"")+"]",e,c,d)});else if(c||"object"!==r.type(b))d(a,b);else for(e in b)Ab(a+"["+e+"]",b[e],c,d)}r.param=function(a,b){var c,d=[],e=function(a,b){var c=r.isFunction(b)?b():b;d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(null==c?"":c)};if(Array.isArray(a)||a.jquery&&!r.isPlainObject(a))r.each(a,function(){e(this.name,this.value)});else for(c in a)Ab(c,a[c],b,e);return d.join("&")},r.fn.extend({serialize:function(){return r.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=r.prop(this,"elements");return a?r.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!r(this).is(":disabled")&&zb.test(this.nodeName)&&!yb.test(a)&&(this.checked||!ja.test(a))}).map(function(a,b){var c=r(this).val();return null==c?null:Array.isArray(c)?r.map(c,function(a){return{name:b.name,value:a.replace(xb,"\r\n")}}):{name:b.name,value:c.replace(xb,"\r\n")}}).get()}});var Bb=/%20/g,Cb=/#.*$/,Db=/([?&])_=[^&]*/,Eb=/^(.*?):[ \t]*([^\r\n]*)$/gm,Fb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Gb=/^(?:GET|HEAD)$/,Hb=/^\/\//,Ib={},Jb={},Kb="*/".concat("*"),Lb=d.createElement("a");Lb.href=tb.href;function Mb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(L)||[];if(r.isFunction(c))while(d=f[e++])"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Nb(a,b,c,d){var e={},f=a===Jb;function g(h){var i;return e[h]=!0,r.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function Ob(a,b){var c,d,e=r.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&r.extend(!0,a,d),a}function Pb(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}if(f)return f!==i[0]&&i.unshift(f),c[f]}function Qb(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}r.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:tb.href,type:"GET",isLocal:Fb.test(tb.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Kb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":r.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Ob(Ob(a,r.ajaxSettings),b):Ob(r.ajaxSettings,a)},ajaxPrefilter:Mb(Ib),ajaxTransport:Mb(Jb),ajax:function(b,c){"object"==typeof b&&(c=b,b=void 0),c=c||{};var e,f,g,h,i,j,k,l,m,n,o=r.ajaxSetup({},c),p=o.context||o,q=o.context&&(p.nodeType||p.jquery)?r(p):r.event,s=r.Deferred(),t=r.Callbacks("once memory"),u=o.statusCode||{},v={},w={},x="canceled",y={readyState:0,getResponseHeader:function(a){var b;if(k){if(!h){h={};while(b=Eb.exec(g))h[b[1].toLowerCase()]=b[2]}b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return k?g:null},setRequestHeader:function(a,b){return null==k&&(a=w[a.toLowerCase()]=w[a.toLowerCase()]||a,v[a]=b),this},overrideMimeType:function(a){return null==k&&(o.mimeType=a),this},statusCode:function(a){var b;if(a)if(k)y.always(a[y.status]);else for(b in a)u[b]=[u[b],a[b]];return this},abort:function(a){var b=a||x;return e&&e.abort(b),A(0,b),this}};if(s.promise(y),o.url=((b||o.url||tb.href)+"").replace(Hb,tb.protocol+"//"),o.type=c.method||c.type||o.method||o.type,o.dataTypes=(o.dataType||"*").toLowerCase().match(L)||[""],null==o.crossDomain){j=d.createElement("a");try{j.href=o.url,j.href=j.href,o.crossDomain=Lb.protocol+"//"+Lb.host!=j.protocol+"//"+j.host}catch(z){o.crossDomain=!0}}if(o.data&&o.processData&&"string"!=typeof o.data&&(o.data=r.param(o.data,o.traditional)),Nb(Ib,o,c,y),k)return y;l=r.event&&o.global,l&&0===r.active++&&r.event.trigger("ajaxStart"),o.type=o.type.toUpperCase(),o.hasContent=!Gb.test(o.type),f=o.url.replace(Cb,""),o.hasContent?o.data&&o.processData&&0===(o.contentType||"").indexOf("application/x-www-form-urlencoded")&&(o.data=o.data.replace(Bb,"+")):(n=o.url.slice(f.length),o.data&&(f+=(vb.test(f)?"&":"?")+o.data,delete o.data),o.cache===!1&&(f=f.replace(Db,"$1"),n=(vb.test(f)?"&":"?")+"_="+ub++ +n),o.url=f+n),o.ifModified&&(r.lastModified[f]&&y.setRequestHeader("If-Modified-Since",r.lastModified[f]),r.etag[f]&&y.setRequestHeader("If-None-Match",r.etag[f])),(o.data&&o.hasContent&&o.contentType!==!1||c.contentType)&&y.setRequestHeader("Content-Type",o.contentType),y.setRequestHeader("Accept",o.dataTypes[0]&&o.accepts[o.dataTypes[0]]?o.accepts[o.dataTypes[0]]+("*"!==o.dataTypes[0]?", "+Kb+"; q=0.01":""):o.accepts["*"]);for(m in o.headers)y.setRequestHeader(m,o.headers[m]);if(o.beforeSend&&(o.beforeSend.call(p,y,o)===!1||k))return y.abort();if(x="abort",t.add(o.complete),y.done(o.success),y.fail(o.error),e=Nb(Jb,o,c,y)){if(y.readyState=1,l&&q.trigger("ajaxSend",[y,o]),k)return y;o.async&&o.timeout>0&&(i=a.setTimeout(function(){y.abort("timeout")},o.timeout));try{k=!1,e.send(v,A)}catch(z){if(k)throw z;A(-1,z)}}else A(-1,"No Transport");function A(b,c,d,h){var j,m,n,v,w,x=c;k||(k=!0,i&&a.clearTimeout(i),e=void 0,g=h||"",y.readyState=b>0?4:0,j=b>=200&&b<300||304===b,d&&(v=Pb(o,y,d)),v=Qb(o,v,y,j),j?(o.ifModified&&(w=y.getResponseHeader("Last-Modified"),w&&(r.lastModified[f]=w),w=y.getResponseHeader("etag"),w&&(r.etag[f]=w)),204===b||"HEAD"===o.type?x="nocontent":304===b?x="notmodified":(x=v.state,m=v.data,n=v.error,j=!n)):(n=x,!b&&x||(x="error",b<0&&(b=0))),y.status=b,y.statusText=(c||x)+"",j?s.resolveWith(p,[m,x,y]):s.rejectWith(p,[y,x,n]),y.statusCode(u),u=void 0,l&&q.trigger(j?"ajaxSuccess":"ajaxError",[y,o,j?m:n]),t.fireWith(p,[y,x]),l&&(q.trigger("ajaxComplete",[y,o]),--r.active||r.event.trigger("ajaxStop")))}return y},getJSON:function(a,b,c){return r.get(a,b,c,"json")},getScript:function(a,b){return r.get(a,void 0,b,"script")}}),r.each(["get","post"],function(a,b){r[b]=function(a,c,d,e){return r.isFunction(c)&&(e=e||d,d=c,c=void 0),r.ajax(r.extend({url:a,type:b,dataType:e,data:c,success:d},r.isPlainObject(a)&&a))}}),r._evalUrl=function(a){return r.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},r.fn.extend({wrapAll:function(a){var b;return this[0]&&(r.isFunction(a)&&(a=a.call(this[0])),b=r(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild)a=a.firstElementChild;return a}).append(this)),this},wrapInner:function(a){return r.isFunction(a)?this.each(function(b){r(this).wrapInner(a.call(this,b))}):this.each(function(){var b=r(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=r.isFunction(a);return this.each(function(c){r(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(a){return this.parent(a).not("body").each(function(){r(this).replaceWith(this.childNodes)}),this}}),r.expr.pseudos.hidden=function(a){return!r.expr.pseudos.visible(a)},r.expr.pseudos.visible=function(a){return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)},r.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(b){}};var Rb={0:200,1223:204},Sb=r.ajaxSettings.xhr();o.cors=!!Sb&&"withCredentials"in Sb,o.ajax=Sb=!!Sb,r.ajaxTransport(function(b){var c,d;if(o.cors||Sb&&!b.crossDomain)return{send:function(e,f){var g,h=b.xhr();if(h.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(g in b.xhrFields)h[g]=b.xhrFields[g];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(g in e)h.setRequestHeader(g,e[g]);c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.onreadystatechange=null,"abort"===a?h.abort():"error"===a?"number"!=typeof h.status?f(0,"error"):f(h.status,h.statusText):f(Rb[h.status]||h.status,h.statusText,"text"!==(h.responseType||"text")||"string"!=typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=c(),d=h.onerror=c("error"),void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){c&&d()})},c=c("abort");try{h.send(b.hasContent&&b.data||null)}catch(i){if(c)throw i}},abort:function(){c&&c()}}}),r.ajaxPrefilter(function(a){a.crossDomain&&(a.contents.script=!1)}),r.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return r.globalEval(a),a}}}),r.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),r.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(e,f){b=r("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&f("error"===a.type?404:200,a.type)}),d.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Tb=[],Ub=/(=)\?(?=&|$)|\?\?/;r.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Tb.pop()||r.expando+"_"+ub++;return this[a]=!0,a}}),r.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Ub.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ub.test(b.data)&&"data");if(h||"jsonp"===b.dataTypes[0])return e=b.jsonpCallback=r.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Ub,"$1"+e):b.jsonp!==!1&&(b.url+=(vb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||r.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?r(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Tb.push(e)),g&&r.isFunction(f)&&f(g[0]),g=f=void 0}),"script"}),o.createHTMLDocument=function(){var a=d.implementation.createHTMLDocument("").body;return a.innerHTML="<form></form><form></form>",2===a.childNodes.length}(),r.parseHTML=function(a,b,c){if("string"!=typeof a)return[];"boolean"==typeof b&&(c=b,b=!1);var e,f,g;return b||(o.createHTMLDocument?(b=d.implementation.createHTMLDocument(""),e=b.createElement("base"),e.href=d.location.href,b.head.appendChild(e)):b=d),f=C.exec(a),g=!c&&[],f?[b.createElement(f[1])]:(f=qa([a],b,g),g&&g.length&&r(g).remove(),r.merge([],f.childNodes))},r.fn.load=function(a,b,c){var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=pb(a.slice(h)),a=a.slice(0,h)),r.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&r.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?r("<div>").append(r.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})}),this},r.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){r.fn[b]=function(a){return this.on(b,a)}}),r.expr.pseudos.animated=function(a){return r.grep(r.timers,function(b){return a===b.elem}).length},r.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=r.css(a,"position"),l=r(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=r.css(a,"top"),i=r.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),r.isFunction(b)&&(b=b.call(a,c,r.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},r.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){r.offset.setOffset(this,a,b)});var b,c,d,e,f=this[0];if(f)return f.getClientRects().length?(d=f.getBoundingClientRect(),b=f.ownerDocument,c=b.documentElement,e=b.defaultView,{top:d.top+e.pageYOffset-c.clientTop,left:d.left+e.pageXOffset-c.clientLeft}):{top:0,left:0}},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===r.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),B(a[0],"html")||(d=a.offset()),d={top:d.top+r.css(a[0],"borderTopWidth",!0),left:d.left+r.css(a[0],"borderLeftWidth",!0)}),{top:b.top-d.top-r.css(c,"marginTop",!0),left:b.left-d.left-r.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent;while(a&&"static"===r.css(a,"position"))a=a.offsetParent;return a||ra})}}),r.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;r.fn[a]=function(d){return T(this,function(a,d,e){var f;return r.isWindow(a)?f=a:9===a.nodeType&&(f=a.defaultView),void 0===e?f?f[b]:a[d]:void(f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e)},a,d,arguments.length)}}),r.each(["top","left"],function(a,b){r.cssHooks[b]=Pa(o.pixelPosition,function(a,c){if(c)return c=Oa(a,b),Ma.test(c)?r(a).position()[b]+"px":c})}),r.each({Height:"height",Width:"width"},function(a,b){r.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){r.fn[d]=function(e,f){var g=arguments.length&&(c||"boolean"!=typeof e),h=c||(e===!0||f===!0?"margin":"border");return T(this,function(b,c,e){var f;return r.isWindow(b)?0===d.indexOf("outer")?b["inner"+a]:b.document.documentElement["client"+a]:9===b.nodeType?(f=b.documentElement,Math.max(b.body["scroll"+a],f["scroll"+a],b.body["offset"+a],f["offset"+a],f["client"+a])):void 0===e?r.css(b,c,h):r.style(b,c,e,h)},b,g?e:void 0,g)}})}),r.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}}),r.holdReady=function(a){a?r.readyWait++:r.ready(!0)},r.isArray=Array.isArray,r.parseJSON=JSON.parse,r.nodeName=B,"function"==typeof define&&define.amd&&define("jquery",[],function(){return r});var Vb=a.jQuery,Wb=a.$;return r.noConflict=function(b){return a.$===r&&(a.$=Wb),b&&a.jQuery===r&&(a.jQuery=Vb),r},b||(a.jQuery=a.$=r),r});

/* two.js from https://two.js.org/ */
(function(){function t(t){return function(e,i,n,r){i=y(i,r,4);var s=!E(e)&&_.keys(e),a=(s||e).length,o=t>0?0:a-1;3>arguments.length&&(n=e[s?s[o]:o],o+=t);for(var l=i,h=n;o>=0&&a>o;o+=t)var c=s?s[o]:o,h=l(h,e[c],c,e);return h}}function e(t){return function(e,i,n){i=v(i,n),n=k(e);for(var r=t>0?0:n-1;r>=0&&n>r;r+=t)if(i(e[r],r,e))return r;return-1}}function i(t,e,i){return function(n,r,s){var a=0,o=k(n);if("number"==typeof s)t>0?a=s>=0?s:Math.max(s+o,a):o=s>=0?Math.min(s+1,o):s+o+1;else if(i&&s&&o)return s=i(n,r),n[s]===r?s:-1;if(r!==r)return s=e(h.call(n,a,o),_.isNaN),s>=0?s+a:-1;for(s=t>0?a:o-1;s>=0&&o>s;s+=t)if(n[s]===r)return s;return-1}}function n(t,e){var i=q.length,n=t.constructor,n=_.isFunction(n)&&n.prototype||o,r="constructor";for(_.has(t,r)&&!_.contains(e,r)&&e.push(r);i--;)r=q[i],r in t&&t[r]!==n[r]&&!_.contains(e,r)&&e.push(r)}var r=this,s=r._,a=Array.prototype,o=Object.prototype,l=a.push,h=a.slice,c=o.toString,u=o.hasOwnProperty,f=Array.isArray,d=Object.keys,p=Function.prototype.bind,g=Object.create,m=function(){},_=function(t){return t instanceof _?t:this instanceof _?void(this._wrapped=t):new _(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=_),exports._=_):r._=_,_.VERSION="1.8.3";var y=function(t,e,i){if(void 0===e)return t;switch(null==i?3:i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)};case 4:return function(i,n,r,s){return t.call(e,i,n,r,s)}}return function(){return t.apply(e,arguments)}},v=function(t,e,i){return null==t?_.identity:_.isFunction(t)?y(t,e,i):_.isObject(t)?_.matcher(t):_.property(t)};_.iteratee=function(t,e){return v(t,e,1/0)};var b=function(t,e){return function(i){var n=arguments.length;if(2>n||null==i)return i;for(var r=1;n>r;r++)for(var s=arguments[r],a=t(s),o=a.length,l=0;o>l;l++){var h=a[l];e&&void 0!==i[h]||(i[h]=s[h])}return i}},x=function(t){return _.isObject(t)?g?g(t):(m.prototype=t,t=new m,m.prototype=null,t):{}},A=function(t){return function(e){return null==e?void 0:e[t]}},w=Math.pow(2,53)-1,k=A("length"),E=function(t){return t=k(t),"number"==typeof t&&t>=0&&w>=t};_.each=_.forEach=function(t,e,i){e=y(e,i);var n;if(E(t))for(i=0,n=t.length;n>i;i++)e(t[i],i,t);else{var r=_.keys(t);for(i=0,n=r.length;n>i;i++)e(t[r[i]],r[i],t)}return t},_.map=_.collect=function(t,e,i){e=v(e,i),i=!E(t)&&_.keys(t);for(var n=(i||t).length,r=Array(n),s=0;n>s;s++){var a=i?i[s]:s;r[s]=e(t[a],a,t)}return r},_.reduce=_.foldl=_.inject=t(1),_.reduceRight=_.foldr=t(-1),_.find=_.detect=function(t,e,i){return e=E(t)?_.findIndex(t,e,i):_.findKey(t,e,i),void 0!==e&&-1!==e?t[e]:void 0},_.filter=_.select=function(t,e,i){var n=[];return e=v(e,i),_.each(t,function(t,i,r){e(t,i,r)&&n.push(t)}),n},_.reject=function(t,e,i){return _.filter(t,_.negate(v(e)),i)},_.every=_.all=function(t,e,i){e=v(e,i),i=!E(t)&&_.keys(t);for(var n=(i||t).length,r=0;n>r;r++){var s=i?i[r]:r;if(!e(t[s],s,t))return!1}return!0},_.some=_.any=function(t,e,i){e=v(e,i),i=!E(t)&&_.keys(t);for(var n=(i||t).length,r=0;n>r;r++){var s=i?i[r]:r;if(e(t[s],s,t))return!0}return!1},_.contains=_.includes=_.include=function(t,e,i,n){return E(t)||(t=_.values(t)),("number"!=typeof i||n)&&(i=0),0<=_.indexOf(t,e,i)},_.invoke=function(t,e){var i=h.call(arguments,2),n=_.isFunction(e);return _.map(t,function(t){var r=n?e:t[e];return null==r?r:r.apply(t,i)})},_.pluck=function(t,e){return _.map(t,_.property(e))},_.where=function(t,e){return _.filter(t,_.matcher(e))},_.findWhere=function(t,e){return _.find(t,_.matcher(e))},_.max=function(t,e,i){var n,r=-(1/0),s=-(1/0);if(null==e&&null!=t){t=E(t)?t:_.values(t);for(var a=0,o=t.length;o>a;a++)i=t[a],i>r&&(r=i)}else e=v(e,i),_.each(t,function(t,i,a){n=e(t,i,a),(n>s||-(1/0)===n&&-(1/0)===r)&&(r=t,s=n)});return r},_.min=function(t,e,i){var n,r=1/0,s=1/0;if(null==e&&null!=t){t=E(t)?t:_.values(t);for(var a=0,o=t.length;o>a;a++)i=t[a],r>i&&(r=i)}else e=v(e,i),_.each(t,function(t,i,a){n=e(t,i,a),(s>n||1/0===n&&1/0===r)&&(r=t,s=n)});return r},_.shuffle=function(t){t=E(t)?t:_.values(t);for(var e,i=t.length,n=Array(i),r=0;i>r;r++)e=_.random(0,r),e!==r&&(n[r]=n[e]),n[e]=t[r];return n},_.sample=function(t,e,i){return null==e||i?(E(t)||(t=_.values(t)),t[_.random(t.length-1)]):_.shuffle(t).slice(0,Math.max(0,e))},_.sortBy=function(t,e,i){return e=v(e,i),_.pluck(_.map(t,function(t,i,n){return{value:t,index:i,criteria:e(t,i,n)}}).sort(function(t,e){var i=t.criteria,n=e.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(n>i||void 0===n)return-1}return t.index-e.index}),"value")};var S=function(t){return function(e,i,n){var r={};return i=v(i,n),_.each(e,function(n,s){var a=i(n,s,e);t(r,n,a)}),r}};_.groupBy=S(function(t,e,i){_.has(t,i)?t[i].push(e):t[i]=[e]}),_.indexBy=S(function(t,e,i){t[i]=e}),_.countBy=S(function(t,e,i){_.has(t,i)?t[i]++:t[i]=1}),_.toArray=function(t){return t?_.isArray(t)?h.call(t):E(t)?_.map(t,_.identity):_.values(t):[]},_.size=function(t){return null==t?0:E(t)?t.length:_.keys(t).length},_.partition=function(t,e,i){e=v(e,i);var n=[],r=[];return _.each(t,function(t,i,s){(e(t,i,s)?n:r).push(t)}),[n,r]},_.first=_.head=_.take=function(t,e,i){return null==t?void 0:null==e||i?t[0]:_.initial(t,t.length-e)},_.initial=function(t,e,i){return h.call(t,0,Math.max(0,t.length-(null==e||i?1:e)))},_.last=function(t,e,i){return null==t?void 0:null==e||i?t[t.length-1]:_.rest(t,Math.max(0,t.length-e))},_.rest=_.tail=_.drop=function(t,e,i){return h.call(t,null==e||i?1:e)},_.compact=function(t){return _.filter(t,_.identity)};var C=function(t,e,i,n){var r=[],s=0;n=n||0;for(var a=k(t);a>n;n++){var o=t[n];if(E(o)&&(_.isArray(o)||_.isArguments(o))){e||(o=C(o,e,i));var l=0,h=o.length;for(r.length+=h;h>l;)r[s++]=o[l++]}else i||(r[s++]=o)}return r};_.flatten=function(t,e){return C(t,e,!1)},_.without=function(t){return _.difference(t,h.call(arguments,1))},_.uniq=_.unique=function(t,e,i,n){_.isBoolean(e)||(n=i,i=e,e=!1),null!=i&&(i=v(i,n)),n=[];for(var r=[],s=0,a=k(t);a>s;s++){var o=t[s],l=i?i(o,s,t):o;e?(s&&r===l||n.push(o),r=l):i?_.contains(r,l)||(r.push(l),n.push(o)):_.contains(n,o)||n.push(o)}return n},_.union=function(){return _.uniq(C(arguments,!0,!0))},_.intersection=function(t){for(var e=[],i=arguments.length,n=0,r=k(t);r>n;n++){var s=t[n];if(!_.contains(e,s)){for(var a=1;i>a&&_.contains(arguments[a],s);a++);a===i&&e.push(s)}}return e},_.difference=function(t){var e=C(arguments,!0,!0,1);return _.filter(t,function(t){return!_.contains(e,t)})},_.zip=function(){return _.unzip(arguments)},_.unzip=function(t){for(var e=t&&_.max(t,k).length||0,i=Array(e),n=0;e>n;n++)i[n]=_.pluck(t,n);return i},_.object=function(t,e){for(var i={},n=0,r=k(t);r>n;n++)e?i[t[n]]=e[n]:i[t[n][0]]=t[n][1];return i},_.findIndex=e(1),_.findLastIndex=e(-1),_.sortedIndex=function(t,e,i,n){i=v(i,n,1),e=i(e),n=0;for(var r=k(t);r>n;){var s=Math.floor((n+r)/2);i(t[s])<e?n=s+1:r=s}return n},_.indexOf=i(1,_.findIndex,_.sortedIndex),_.lastIndexOf=i(-1,_.findLastIndex),_.range=function(t,e,i){null==e&&(e=t||0,t=0),i=i||1,e=Math.max(Math.ceil((e-t)/i),0);for(var n=Array(e),r=0;e>r;r++,t+=i)n[r]=t;return n};var M=function(t,e,i,n,r){return n instanceof e?(e=x(t.prototype),t=t.apply(e,r),_.isObject(t)?t:e):t.apply(i,r)};_.bind=function(t,e){if(p&&t.bind===p)return p.apply(t,h.call(arguments,1));if(!_.isFunction(t))throw new TypeError("Bind must be called on a function");var i=h.call(arguments,2),n=function(){return M(t,n,e,this,i.concat(h.call(arguments)))};return n},_.partial=function(t){var e=h.call(arguments,1),i=function(){for(var n=0,r=e.length,s=Array(r),a=0;r>a;a++)s[a]=e[a]===_?arguments[n++]:e[a];for(;n<arguments.length;)s.push(arguments[n++]);return M(t,i,this,this,s)};return i},_.bindAll=function(t){var e,i,n=arguments.length;if(1>=n)throw Error("bindAll must be passed function names");for(e=1;n>e;e++)i=arguments[e],t[i]=_.bind(t[i],t);return t},_.memoize=function(t,e){var i=function(n){var r=i.cache,s=""+(e?e.apply(this,arguments):n);return _.has(r,s)||(r[s]=t.apply(this,arguments)),r[s]};return i.cache={},i},_.delay=function(t,e){var i=h.call(arguments,2);return setTimeout(function(){return t.apply(null,i)},e)},_.defer=_.partial(_.delay,_,1),_.throttle=function(t,e,i){var n,r,s,a=null,o=0;i||(i={});var l=function(){o=!1===i.leading?0:_.now(),a=null,s=t.apply(n,r),a||(n=r=null)};return function(){var h=_.now();o||!1!==i.leading||(o=h);var c=e-(h-o);return n=this,r=arguments,0>=c||c>e?(a&&(clearTimeout(a),a=null),o=h,s=t.apply(n,r),a||(n=r=null)):a||!1===i.trailing||(a=setTimeout(l,c)),s}},_.debounce=function(t,e,i){var n,r,s,a,o,l=function(){var h=_.now()-a;e>h&&h>=0?n=setTimeout(l,e-h):(n=null,i||(o=t.apply(s,r),n||(s=r=null)))};return function(){s=this,r=arguments,a=_.now();var h=i&&!n;return n||(n=setTimeout(l,e)),h&&(o=t.apply(s,r),s=r=null),o}},_.wrap=function(t,e){return _.partial(e,t)},_.negate=function(t){return function(){return!t.apply(this,arguments)}},_.compose=function(){var t=arguments,e=t.length-1;return function(){for(var i=e,n=t[e].apply(this,arguments);i--;)n=t[i].call(this,n);return n}},_.after=function(t,e){return function(){return 1>--t?e.apply(this,arguments):void 0}},_.before=function(t,e){var i;return function(){return 0<--t&&(i=e.apply(this,arguments)),1>=t&&(e=null),i}},_.once=_.partial(_.before,2);var F=!{toString:null}.propertyIsEnumerable("toString"),q="valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString".split(" ");_.keys=function(t){if(!_.isObject(t))return[];if(d)return d(t);var e,i=[];for(e in t)_.has(t,e)&&i.push(e);return F&&n(t,i),i},_.allKeys=function(t){if(!_.isObject(t))return[];var e,i=[];for(e in t)i.push(e);return F&&n(t,i),i},_.values=function(t){for(var e=_.keys(t),i=e.length,n=Array(i),r=0;i>r;r++)n[r]=t[e[r]];return n},_.mapObject=function(t,e,i){e=v(e,i),i=_.keys(t);for(var n,r=i.length,s={},a=0;r>a;a++)n=i[a],s[n]=e(t[n],n,t);return s},_.pairs=function(t){for(var e=_.keys(t),i=e.length,n=Array(i),r=0;i>r;r++)n[r]=[e[r],t[e[r]]];return n},_.invert=function(t){for(var e={},i=_.keys(t),n=0,r=i.length;r>n;n++)e[t[i[n]]]=i[n];return e},_.functions=_.methods=function(t){var e,i=[];for(e in t)_.isFunction(t[e])&&i.push(e);return i.sort()},_.extend=b(_.allKeys),_.extendOwn=_.assign=b(_.keys),_.findKey=function(t,e,i){e=v(e,i),i=_.keys(t);for(var n,r=0,s=i.length;s>r;r++)if(n=i[r],e(t[n],n,t))return n},_.pick=function(t,e,i){var n,r,s={},a=t;if(null==a)return s;_.isFunction(e)?(r=_.allKeys(a),n=y(e,i)):(r=C(arguments,!1,!1,1),n=function(t,e,i){return e in i},a=Object(a));for(var o=0,l=r.length;l>o;o++){var h=r[o],c=a[h];n(c,h,a)&&(s[h]=c)}return s},_.omit=function(t,e,i){if(_.isFunction(e))e=_.negate(e);else{var n=_.map(C(arguments,!1,!1,1),String);e=function(t,e){return!_.contains(n,e)}}return _.pick(t,e,i)},_.defaults=b(_.allKeys,!0),_.create=function(t,e){var i=x(t);return e&&_.extendOwn(i,e),i},_.clone=function(t){return _.isObject(t)?_.isArray(t)?t.slice():_.extend({},t):t},_.tap=function(t,e){return e(t),t},_.isMatch=function(t,e){var i=_.keys(e),n=i.length;if(null==t)return!n;for(var r=Object(t),s=0;n>s;s++){var a=i[s];if(e[a]!==r[a]||!(a in r))return!1}return!0};var P=function(t,e,i,n){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof _&&(t=t._wrapped),e instanceof _&&(e=e._wrapped);var r=c.call(t);if(r!==c.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}if(r="[object Array]"===r,!r){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!(_.isFunction(s)&&s instanceof s&&_.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}for(i=i||[],n=n||[],s=i.length;s--;)if(i[s]===t)return n[s]===e;if(i.push(t),n.push(e),r){if(s=t.length,s!==e.length)return!1;for(;s--;)if(!P(t[s],e[s],i,n))return!1}else{if(r=_.keys(t),s=r.length,_.keys(e).length!==s)return!1;for(;s--;)if(a=r[s],!_.has(e,a)||!P(t[a],e[a],i,n))return!1}return i.pop(),n.pop(),!0};_.isEqual=function(t,e){return P(t,e)},_.isEmpty=function(t){return null==t?!0:E(t)&&(_.isArray(t)||_.isString(t)||_.isArguments(t))?0===t.length:0===_.keys(t).length},_.isElement=function(t){return!(!t||1!==t.nodeType)},_.isArray=f||function(t){return"[object Array]"===c.call(t)},_.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},_.each("Arguments Function String Number Date RegExp Error".split(" "),function(t){_["is"+t]=function(e){return c.call(e)==="[object "+t+"]"}}),_.isArguments(arguments)||(_.isArguments=function(t){return _.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(_.isFunction=function(t){return"function"==typeof t||!1}),_.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},_.isNaN=function(t){return _.isNumber(t)&&t!==+t},_.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===c.call(t)},_.isNull=function(t){return null===t},_.isUndefined=function(t){return void 0===t},_.has=function(t,e){return null!=t&&u.call(t,e)},_.noConflict=function(){return r._=s,this},_.identity=function(t){return t},_.constant=function(t){return function(){return t}},_.noop=function(){},_.property=A,_.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},_.matcher=_.matches=function(t){return t=_.extendOwn({},t),function(e){return _.isMatch(e,t)}},_.times=function(t,e,i){var n=Array(Math.max(0,t));for(e=y(e,i,1),i=0;t>i;i++)n[i]=e(i);return n},_.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},_.now=Date.now||function(){return(new Date).getTime()},f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},b=_.invert(f),A=function(t){var e=function(e){return t[e]},i="(?:"+_.keys(t).join("|")+")",n=RegExp(i),r=RegExp(i,"g");return function(t){return t=null==t?"":""+t,n.test(t)?t.replace(r,e):t}},_.escape=A(f),_.unescape=A(b),_.result=function(t,e,i){return e=null==t?void 0:t[e],void 0===e&&(e=i),_.isFunction(e)?e.call(t):e};var O=0;_.uniqueId=function(t){var e=++O+"";return t?t+e:e},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var R=/(.)^/,T={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},B=/\\|'|\r|\n|\u2028|\u2029/g,U=function(t){return"\\"+T[t]};_.template=function(t,e,i){!e&&i&&(e=i),e=_.defaults({},e,_.templateSettings),i=RegExp([(e.escape||R).source,(e.interpolate||R).source,(e.evaluate||R).source].join("|")+"|$","g");var n=0,r="__p+='";t.replace(i,function(e,i,s,a,o){return r+=t.slice(n,o).replace(B,U),n=o+e.length,i?r+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":s?r+="'+\n((__t=("+s+"))==null?'':__t)+\n'":a&&(r+="';\n"+a+"\n__p+='"),e}),r+="';\n",e.variable||(r="with(obj||{}){\n"+r+"}\n"),r="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+r+"return __p;\n";try{var s=new Function(e.variable||"obj","_",r)}catch(a){throw a.source=r,a}return i=function(t){return s.call(this,t,_)},i.source="function("+(e.variable||"obj")+"){\n"+r+"}",i},_.chain=function(t){return t=_(t),t._chain=!0,t};var j=function(t,e){return t._chain?_(e).chain():e};_.mixin=function(t){_.each(_.functions(t),function(e){var i=_[e]=t[e];_.prototype[e]=function(){var t=[this._wrapped];return l.apply(t,arguments),j(this,i.apply(_,t))}})},_.mixin(_),_.each("pop push reverse shift sort splice unshift".split(" "),function(t){var e=a[t];_.prototype[t]=function(){var i=this._wrapped;return e.apply(i,arguments),"shift"!==t&&"splice"!==t||0!==i.length||delete i[0],j(this,i)}}),_.each(["concat","join","slice"],function(t){var e=a[t];_.prototype[t]=function(){return j(this,e.apply(this._wrapped,arguments))}}),_.prototype.value=function(){return this._wrapped},_.prototype.valueOf=_.prototype.toJSON=_.prototype.value,_.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return _})}).call(this),function(){var t=this.Backbone||{};this.Backbone=t;var e=[].slice,i=function(t,e,i){var n;t=-1;var r=e.length;switch(i.length){case 0:for(;++t<r;)(n=e[t]).callback.call(n.ctx);break;case 1:for(;++t<r;)(n=e[t]).callback.call(n.ctx,i[0]);break;case 2:for(;++t<r;)(n=e[t]).callback.call(n.ctx,i[0],i[1]);break;case 3:for(;++t<r;)(n=e[t]).callback.call(n.ctx,i[0],i[1],i[2]);break;default:for(;++t<r;)(n=e[t]).callback.apply(n.ctx,i)}},n=t.Events={on:function(t,e,i){return this._events||(this._events={}),(this._events[t]||(this._events[t]=[])).push({callback:e,context:i,ctx:i||this}),this},once:function(t,e,i){var n=this,r=_.once(function(){n.off(t,r),e.apply(this,arguments)});return r._callback=e,this.on(t,r,i),this},off:function(t,e,i){var n,r,s,a,o,l,h,c;if(!this._events)return this;if(!t&&!e&&!i)return this._events={},this;for(a=t?[t]:_.keys(this._events),o=0,l=a.length;l>o;o++)if(t=a[o],n=this._events[t]){if(s=[],e||i)for(h=0,c=n.length;c>h;h++)r=n[h],(e&&e!==(r.callback._callback||r.callback)||i&&i!==r.context)&&s.push(r);this._events[t]=s}return this},trigger:function(t){if(!this._events)return this;var n=e.call(arguments,1),r=this._events[t],s=this._events.all;return r&&i(this,r,n),s&&i(this,s,arguments),this},listenTo:function(t,e,i){var n=this._listeners||(this._listeners={}),r=t._listenerId||(t._listenerId=_.uniqueId("l"));return n[r]=t,t.on(e,i||this,this),this},stopListening:function(t,e,i){var n=this._listeners;if(n){if(t)t.off(e,i,this),e||i||delete n[t._listenerId];else{for(var r in n)n[r].off(null,null,this);this._listeners={}}return this}}};n.bind=n.on,n.unbind=n.off,"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=t),exports.Backbone=t):this.Backbone=t,"function"==typeof define&&define.amd&&define("backbone",[],function(){return t})}(),function(){function t(t,n){var r=(new Date).getTime(),s=Math.max(0,16-(r-i)),a=e.setTimeout(function(){t(r+s)},s);return i=r+s,a}for(var e=this,i=0,n=["ms","moz","webkit","o"],r=0;r<n.length&&!e.requestAnimationFrame;++r)e.requestAnimationFrame=e[n[r]+"RequestAnimationFrame"],e.cancelAnimationFrame=e[n[r]+"CancelAnimationFrame"]||e[n[r]+"CancelRequestAnimationFrame"];e.requestAnimationFrame||(e.requestAnimationFrame=t),e.cancelAnimationFrame||(e.cancelAnimationFrame=function(t){clearTimeout(t)}),"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=e.requestAnimationFrame),exports.requestAnimationFrame=e.requestAnimationFrame):e.requestAnimationFrame=e.requestAnimationFrame,"function"==typeof define&&define.amd&&define("requestAnimationFrame",[],function(){return e.requestAnimationFrame})}(),function(t,e,i,n){function r(){var t=document.body.getBoundingClientRect(),e=this.width=t.width,t=this.height=t.height;this.renderer.setSize(e,t,this.ratio),this.trigger(y.Events.resize,e,t)}var s=this,a=Math.sin,o=Math.cos,l=Math.atan2,h=Math.sqrt,c=Math.PI,u=2*c,f=c/2,d=Math.pow,p=Math.min,g=Math.max,m=0,_={temp:document.createElement("div"),hasEventListeners:e.isFunction(s.addEventListener),bind:function(t,e,i,n){return this.hasEventListeners?t.addEventListener(e,i,!!n):t.attachEvent("on"+e,i),this},unbind:function(t,e,i,n){return this.hasEventListeners?t.removeEventListeners(e,i,!!n):t.detachEvent("on"+e,i),this}},y=s.Two=function(t){if(t=e.defaults(t||{},{fullscreen:!1,width:640,height:480,type:y.Types.svg,autostart:!1}),e.each(t,function(t,e){"fullscreen"!==e&&"width"!==e&&"height"!==e&&"autostart"!==e&&(this[e]=t)},this),e.isElement(t.domElement)){var i=t.domElement.tagName.toLowerCase();/^(CanvasRenderer-canvas|WebGLRenderer-canvas|SVGRenderer-svg)$/.test(this.type+"-"+i)||(this.type=y.Types[i])}this.renderer=new y[this.type](this),y.Utils.setPlaying.call(this,t.autostart),this.frameCount=0,t.fullscreen?(t=e.bind(r,this),e.extend(document.body.style,{overflow:"hidden",margin:0,padding:0,top:0,left:0,right:0,bottom:0,position:"fixed"}),e.extend(this.renderer.domElement.style,{display:"block",top:0,left:0,right:0,bottom:0,position:"fixed"}),_.bind(s,"resize",t),t()):e.isElement(t.domElement)||(this.renderer.setSize(t.width,t.height,this.ratio),this.width=t.width,this.height=t.height),this.scene=this.renderer.scene,y.Instances.push(this)};e.extend(y,{Array:s.Float32Array||Array,Types:{webgl:"WebGLRenderer",svg:"SVGRenderer",canvas:"CanvasRenderer"},Version:"v0.6.0",Identifier:"two_",Properties:{hierarchy:"hierarchy",demotion:"demotion"},Events:{play:"play",pause:"pause",update:"update",render:"render",resize:"resize",change:"change",remove:"remove",insert:"insert",order:"order"},Commands:{move:"M",line:"L",curve:"C",close:"Z"},Resolution:8,Instances:[],noConflict:function(){return s.Two=t,this},uniqueId:function(){var t=m;return m++,t},Utils:{defineProperty:function(t){var e="_"+t,i="_flag"+t.charAt(0).toUpperCase()+t.slice(1);Object.defineProperty(this,t,{get:function(){return this[e]},set:function(t){this[e]=t,this[i]=!0}})},release:function(t){e.isObject(t)&&(e.isFunction(t.unbind)&&t.unbind(),t.vertices&&(e.isFunction(t.vertices.unbind)&&t.vertices.unbind(),e.each(t.vertices,function(t){e.isFunction(t.unbind)&&t.unbind()})),t.children&&e.each(t.children,function(t){y.Utils.release(t)}))},xhr:function(t,e){var i=new XMLHttpRequest;return i.open("GET",t),i.onreadystatechange=function(){4===i.readyState&&200===i.status&&e(i.responseText)},i.send(),i},Curve:{CollinearityEpsilon:d(10,-30),RecursionLimit:16,CuspLimit:0,Tolerance:{distance:.25,angle:0,epsilon:.01},abscissas:[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],weights:[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]]},devicePixelRatio:s.devicePixelRatio||1,getBackingStoreRatio:function(t){return t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1},getRatio:function(t){return y.Utils.devicePixelRatio/k(t)},setPlaying:function(t){return this.playing=!!t,this},getComputedMatrix:function(t,i){i=i&&i.identity()||new y.Matrix;for(var n=t,r=[];n&&n._matrix;)r.push(n._matrix),n=n.parent;return r.reverse(),e.each(r,function(t){t=t.elements,i.multiply(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9])}),i},deltaTransformPoint:function(t,e,i){return new y.Vector(e*t.a+i*t.c+0,e*t.b+i*t.d+0)},decomposeMatrix:function(t){var e=y.Utils.deltaTransformPoint(t,0,1),i=y.Utils.deltaTransformPoint(t,1,0),e=180/Math.PI*Math.atan2(e.y,e.x)-90,i=180/Math.PI*Math.atan2(i.y,i.x);return{translateX:t.e,translateY:t.f,scaleX:Math.sqrt(t.a*t.a+t.b*t.b),scaleY:Math.sqrt(t.c*t.c+t.d*t.d),skewX:e,skewY:i,rotation:e}},applySvgAttributes:function(t,i){var n,r,s,a={},o={};if(getComputedStyle){var l=getComputedStyle(t);for(n=l.length;n--;)r=l[n],s=l[r],void 0!==s&&(o[r]=s)}for(n=t.attributes.length;n--;)s=t.attributes[n],a[s.nodeName]=s.value;e.isUndefined(o.opacity)||(o["stroke-opacity"]=o.opacity,o["fill-opacity"]=o.opacity),e.extend(o,a),o.visible=!(e.isUndefined(o.display)&&"none"===o.display)||e.isUndefined(o.visibility)&&"hidden"===o.visibility;for(r in o)switch(s=o[r],r){case"transform":if("none"===s)break;if(null===t.getCTM())break;a=y.Utils.decomposeMatrix(t.getCTM()),i.translation.set(a.translateX,a.translateY),i.rotation=a.rotation,i.scale=a.scaleX,o.x&&(i.translation.x=o.x),o.y&&(i.translation.y=o.y);break;case"visible":i.visible=s;break;case"stroke-linecap":i.cap=s;break;case"stroke-linejoin":i.join=s;break;case"stroke-miterlimit":i.miter=s;break;case"stroke-width":i.linewidth=parseFloat(s);break;case"stroke-opacity":case"fill-opacity":case"opacity":i.opacity=parseFloat(s);break;case"fill":case"stroke":/url\(\#.*\)/i.test(s)?i[r]=this.getById(s.replace(/url\(\#(.*)\)/i,"$1")):i[r]="none"===s?"transparent":s;break;case"id":i.id=s;break;case"class":i.classList=s.split(" ")}return i},read:{svg:function(){return y.Utils.read.g.apply(this,arguments)},g:function(t){var e=new y.Group;y.Utils.applySvgAttributes.call(this,t,e);for(var i=0,n=t.childNodes.length;n>i;i++){var r=t.childNodes[i],s=r.nodeName;if(!s)return;s=s.replace(/svg\:/gi,"").toLowerCase(),s in y.Utils.read&&(r=y.Utils.read[s].call(e,r),e.add(r))}return e},polygon:function(t,e){var i=[];t.getAttribute("points").replace(/(-?[\d\.?]+),(-?[\d\.?]+)/g,function(t,e,n){i.push(new y.Anchor(parseFloat(e),parseFloat(n)))});var n=new y.Path(i,!e).noStroke();return n.fill="black",y.Utils.applySvgAttributes.call(this,t,n)},polyline:function(t){return y.Utils.read.polygon.call(this,t,!0)},path:function(t){var i,n,r=t.getAttribute("d"),s=new y.Anchor,a=!1,o=!1,l=r.match(/[a-df-z][^a-df-z]*/gi),h=l.length-1;return e.each(l.slice(0),function(t,e){var i,n=t[0],r=n.toLowerCase(),s=t.slice(1).trim().split(/[\s,]+|(?=\s?[+\-])/),a=[];switch(0>=e&&(l=[]),r){case"h":case"v":1<s.length&&(i=1);break;case"m":case"l":case"t":2<s.length&&(i=2);break;case"s":case"q":4<s.length&&(i=4);break;case"c":6<s.length&&(i=6)}if(i){for(var r=0,o=s.length,h=0;o>r;r+=i){var c=n;if(h>0)switch(n){case"m":c="l";break;case"M":c="L"}a.push([c].concat(s.slice(r,r+i)).join(" ")),h++}l=Array.prototype.concat.apply(l,a)}else l.push(t)}),r=e.flatten(e.map(l,function(t,r){var l,c,u;c=t[0];var f=c.toLowerCase();n=t.slice(1).trim(),n=n.replace(/(-?\d+(?:\.\d*)?)[eE]([+\-]?\d+)/g,function(t,e,i){return parseFloat(e)*d(10,i)}),n=n.split(/[\s,]+|(?=\s?[+\-])/),o=c===f;var p,g,m,_;switch(f){case"z":r>=h?a=!0:(c=s.x,u=s.y,l=new y.Anchor(c,u,void 0,void 0,void 0,void 0,y.Commands.close));break;case"m":case"l":c=parseFloat(n[0]),u=parseFloat(n[1]),l=new y.Anchor(c,u,void 0,void 0,void 0,void 0,"m"===f?y.Commands.move:y.Commands.line),o&&l.addSelf(s),s=l;break;case"h":case"v":u="h"===f?"x":"y",f="x"===u?"y":"x",l=new y.Anchor(void 0,void 0,void 0,void 0,void 0,void 0,y.Commands.line),l[u]=parseFloat(n[0]),l[f]=s[f],o&&(l[u]+=s[u]),s=l;break;case"c":case"s":l=s.x,u=s.y,i||(i=new y.Vector),"c"===f?(p=parseFloat(n[0]),g=parseFloat(n[1]),m=parseFloat(n[2]),_=parseFloat(n[3]),f=parseFloat(n[4]),c=parseFloat(n[5])):(f=C(s,i,o),p=f.x,g=f.y,m=parseFloat(n[0]),_=parseFloat(n[1]),f=parseFloat(n[2]),c=parseFloat(n[3])),o&&(p+=l,g+=u,m+=l,_+=u,f+=l,c+=u),e.isObject(s.controls)||y.Anchor.AppendCurveProperties(s),s.controls.right.set(p-s.x,g-s.y),s=l=new y.Anchor(f,c,m-f,_-c,void 0,void 0,y.Commands.curve),i=l.controls.left;break;case"t":case"q":l=s.x,u=s.y,i||(i=new y.Vector),i.isZero()?(p=l,g=u):(p=i.x,u=i.y),"q"===f?(m=parseFloat(n[0]),_=parseFloat(n[1]),f=parseFloat(n[1]),c=parseFloat(n[2])):(f=C(s,i,o),m=f.x,_=f.y,f=parseFloat(n[0]),c=parseFloat(n[1])),o&&(p+=l,g+=u,m+=l,_+=u,f+=l,c+=u),e.isObject(s.controls)||y.Anchor.AppendCurveProperties(s),s.controls.right.set(p-s.x,g-s.y),s=l=new y.Anchor(f,c,m-f,_-c,void 0,void 0,y.Commands.curve),i=l.controls.left;break;case"a":l=s.x,u=s.y;var v=parseFloat(n[0]),b=parseFloat(n[1]);g=parseFloat(n[2])*Math.PI/180,p=parseFloat(n[3]),m=parseFloat(n[4]),f=parseFloat(n[5]),c=parseFloat(n[6]),o&&(f+=l,c+=u);var x=(f-l)/2,A=(c-u)/2;_=x*Math.cos(g)+A*Math.sin(g);var x=-x*Math.sin(g)+A*Math.cos(g),A=v*v,k=b*b,E=_*_,S=x*x,M=E/A+S/k;M>1&&(v*=Math.sqrt(M),b*=Math.sqrt(M)),k=Math.sqrt((A*k-A*S-k*E)/(A*S+k*E)),e.isNaN(k)?k=0:p!=m&&k>0&&(k*=-1),A=k*v*x/b,k=-k*b*_/v,l=A*Math.cos(g)-k*Math.sin(g)+(l+f)/2;var E=A*Math.sin(g)+k*Math.cos(g)+(u+c)/2,F=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))*Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)))};u=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(F(t,e))};var q=u([1,0],[(_-A)/v,(x-k)/b]),S=[(_-A)/v,(x-k)/b];_=[(-_-A)/v,(-x-k)/b];var P=u(S,_);-1>=F(S,_)&&(P=Math.PI),1<=F(S,_)&&(P=0),p&&(P=w(P,2*Math.PI)),m&&P>0&&(P-=2*Math.PI);var O=y.Resolution,R=(new y.Matrix).translate(l,E).rotate(g);l=e.map(e.range(O),function(t){var e=(1-t/(O-1))*P+q;return t=v*Math.cos(e),e=b*Math.sin(e),t=R.multiply(t,e,1),new y.Anchor(t.x,t.y,!1,!1,!1,!1,y.Commands.line)}),l.push(new y.Anchor(f,c,!1,!1,!1,!1,y.Commands.line)),s=l[l.length-1],i=s.controls.left}return l})),1>=r.length?void 0:(r=e.compact(r),r=new y.Path(r,a,void 0,!0).noStroke(),r.fill="black",y.Utils.applySvgAttributes.call(this,t,r))},circle:function(t){var i=parseFloat(t.getAttribute("cx")),n=parseFloat(t.getAttribute("cy")),r=parseFloat(t.getAttribute("r")),s=y.Resolution,l=e.map(e.range(s),function(t){var e=t/s*u;return t=r*o(e),e=r*a(e),new y.Anchor(t,e)}),l=new y.Path(l,!0,!0).noStroke();return l.translation.set(i,n),l.fill="black",y.Utils.applySvgAttributes.call(this,t,l)},ellipse:function(t){var i=parseFloat(t.getAttribute("cx")),n=parseFloat(t.getAttribute("cy")),r=parseFloat(t.getAttribute("rx")),s=parseFloat(t.getAttribute("ry")),l=y.Resolution,h=e.map(e.range(l),function(t){var e=t/l*u;return t=r*o(e),e=s*a(e),new y.Anchor(t,e)}),h=new y.Path(h,!0,!0).noStroke();return h.translation.set(i,n),h.fill="black",y.Utils.applySvgAttributes.call(this,t,h)},rect:function(t){var e=parseFloat(t.getAttribute("x"))||0,i=parseFloat(t.getAttribute("y"))||0,n=parseFloat(t.getAttribute("width")),r=parseFloat(t.getAttribute("height")),n=n/2,r=r/2,s=[new y.Anchor(n,r),new y.Anchor(-n,r),new y.Anchor(-n,-r),new y.Anchor(n,-r)],s=new y.Path(s,!0).noStroke();return s.translation.set(e+n,i+r),s.fill="black",y.Utils.applySvgAttributes.call(this,t,s)},line:function(t){var e=parseFloat(t.getAttribute("x1")),i=parseFloat(t.getAttribute("y1")),n=parseFloat(t.getAttribute("x2")),r=parseFloat(t.getAttribute("y2")),n=(n-e)/2,r=(r-i)/2,s=[new y.Anchor(-n,-r),new y.Anchor(n,r)],s=new y.Path(s).noFill();return s.translation.set(e+n,i+r),y.Utils.applySvgAttributes.call(this,t,s);
},lineargradient:function(t){for(var i=parseFloat(t.getAttribute("x1")),n=parseFloat(t.getAttribute("y1")),r=parseFloat(t.getAttribute("x2")),s=parseFloat(t.getAttribute("y2")),a=(r+i)/2,o=(s+n)/2,l=[],h=0;h<t.children.length;h++){var c=t.children[h],u=parseFloat(c.getAttribute("offset")),f=c.getAttribute("stop-color"),d=c.getAttribute("stop-opacity"),c=c.getAttribute("style");if(e.isNull(f))var p=c.match(/stop\-color\:\s?([\#a-fA-F0-9]*)/),f=p&&1<p.length?p[1]:void 0;e.isNull(d)&&(d=(p=c.match(/stop\-opacity\:\s?([0-1\.\-]*)/))&&1<p.length?parseFloat(p[1]):1),l.push(new y.Gradient.Stop(u,f,d))}return i=new y.LinearGradient(i-a,n-o,r-a,s-o,l),y.Utils.applySvgAttributes.call(this,t,i)},radialgradient:function(t){var i=parseFloat(t.getAttribute("cx"))||0,n=parseFloat(t.getAttribute("cy"))||0,r=parseFloat(t.getAttribute("r")),s=parseFloat(t.getAttribute("fx")),a=parseFloat(t.getAttribute("fy"));e.isNaN(s)&&(s=i),e.isNaN(a)&&(a=n);for(var o=Math.abs(i+s)/2,l=Math.abs(n+a)/2,h=[],c=0;c<t.children.length;c++){var u=t.children[c],f=parseFloat(u.getAttribute("offset")),d=u.getAttribute("stop-color"),p=u.getAttribute("stop-opacity"),u=u.getAttribute("style");if(e.isNull(d))var g=u.match(/stop\-color\:\s?([\#a-fA-F0-9]*)/),d=g&&1<g.length?g[1]:void 0;e.isNull(p)&&(p=(g=u.match(/stop\-opacity\:\s?([0-1\.\-]*)/))&&1<g.length?parseFloat(g[1]):1),h.push(new y.Gradient.Stop(f,d,p))}return i=new y.RadialGradient(i-o,n-l,r,h,s-o,a-l),y.Utils.applySvgAttributes.call(this,t,i)}},subdivide:function(t,i,n,r,s,a,o,l,h){h=h||y.Utils.Curve.RecursionLimit;var c=h+1;return t===o&&i===l?[new y.Anchor(o,l)]:e.map(e.range(0,c),function(e){var h=e/c;return e=E(h,t,n,s,o),h=E(h,i,r,a,l),new y.Anchor(e,h)})},getPointOnCubicBezier:function(t,e,i,n,r){var s=1-t;return s*s*s*e+3*s*s*t*i+3*s*t*t*n+t*t*t*r},getCurveLength:function(t,e,i,n,r,s,a,o,l){if(t===i&&e===n&&r===a&&s===o)return t=a-t,e=o-e,h(t*t+e*e);var c=9*(i-r)+3*(a-t),u=6*(t+r)-12*i,f=3*(i-t),d=9*(n-s)+3*(o-e),p=6*(e+s)-12*n,g=3*(n-e);return S(function(t){var e=(c*t+u)*t+f;return t=(d*t+p)*t+g,h(e*e+t*t)},0,1,l||y.Utils.Curve.RecursionLimit)},integrate:function(t,e,i,n){var r=y.Utils.Curve.abscissas[n-2],s=y.Utils.Curve.weights[n-2];i=.5*(i-e),e=i+e;var a=0,o=n+1>>1;for(n=1&n?s[a++]*t(e):0;o>a;){var l=i*r[a];n+=s[a++]*(t(e+l)+t(e-l))}return i*n},getCurveFromPoints:function(t,i){for(var n=t.length,r=n-1,s=0;n>s;s++){var a=t[s];e.isObject(a.controls)||y.Anchor.AppendCurveProperties(a);var o=i?w(s-1,n):g(s-1,0),l=i?w(s+1,n):p(s+1,r);A(t[o],a,t[l]),a._command=0===s?y.Commands.move:y.Commands.curve,a.controls.left.x=e.isNumber(a.controls.left.x)?a.controls.left.x:a.x,a.controls.left.y=e.isNumber(a.controls.left.y)?a.controls.left.y:a.y,a.controls.right.x=e.isNumber(a.controls.right.x)?a.controls.right.x:a.x,a.controls.right.y=e.isNumber(a.controls.right.y)?a.controls.right.y:a.y}},getControlPoints:function(t,i,n){var r=x(t,i),s=x(n,i);t=v(t,i),n=v(n,i);var l=(r+s)/2;return i.u=e.isObject(i.controls.left)?i.controls.left:new y.Vector(0,0),i.v=e.isObject(i.controls.right)?i.controls.right:new y.Vector(0,0),1e-4>t||1e-4>n?(i._relative||(i.controls.left.copy(i),i.controls.right.copy(i)),i):(t*=.33,n*=.33,l=r>s?l+f:l-f,i.controls.left.x=o(l)*t,i.controls.left.y=a(l)*t,l-=c,i.controls.right.x=o(l)*n,i.controls.right.y=a(l)*n,i._relative||(i.controls.left.x+=i.x,i.controls.left.y+=i.y,i.controls.right.x+=i.x,i.controls.right.y+=i.y),i)},getReflection:function(t,e,i){return new y.Vector(2*t.x-(e.x+t.x)-(i?t.x:0),2*t.y-(e.y+t.y)-(i?t.y:0))},getAnchorsFromArcData:function(t,i,n,r,s,a,o){(new y.Matrix).translate(t.x,t.y).rotate(i);var l=y.Resolution;return e.map(e.range(l),function(t){t=(t+1)/l,o&&(t=1-t);var e=t*a+s;return t=n*Math.cos(e),e=r*Math.sin(e),t=new y.Anchor(t,e),y.Anchor.AppendCurveProperties(t),t.command=y.Commands.line,t})},ratioBetween:function(t,e){return(t.x*e.x+t.y*e.y)/(t.length()*e.length())},angleBetween:function(t,e){var i,n;return 4<=arguments.length?(i=arguments[0]-arguments[2],n=arguments[1]-arguments[3],l(n,i)):(i=t.x-e.x,n=t.y-e.y,l(n,i))},distanceBetweenSquared:function(t,e){var i=t.x-e.x,n=t.y-e.y;return i*i+n*n},distanceBetween:function(t,e){return h(b(t,e))},toFixed:function(t){return Math.floor(1e3*t)/1e3},mod:function(t,e){for(;0>t;)t+=e;return t%e},Collection:function(){Array.call(this),1<arguments.length?Array.prototype.push.apply(this,arguments):arguments[0]&&Array.isArray(arguments[0])&&Array.prototype.push.apply(this,arguments[0])},Error:function(t){this.name="two.js",this.message=t}}}),y.Utils.Error.prototype=Error(),y.Utils.Error.prototype.constructor=y.Utils.Error,y.Utils.Collection.prototype=[],y.Utils.Collection.constructor=y.Utils.Collection,e.extend(y.Utils.Collection.prototype,i.Events,{pop:function(){var t=Array.prototype.pop.apply(this,arguments);return this.trigger(y.Events.remove,[t]),t},shift:function(){var t=Array.prototype.shift.apply(this,arguments);return this.trigger(y.Events.remove,[t]),t},push:function(){var t=Array.prototype.push.apply(this,arguments);return this.trigger(y.Events.insert,arguments),t},unshift:function(){var t=Array.prototype.unshift.apply(this,arguments);return this.trigger(y.Events.insert,arguments),t},splice:function(){var t,e=Array.prototype.splice.apply(this,arguments);return this.trigger(y.Events.remove,e),2<arguments.length&&(t=this.slice(arguments[0],arguments.length-2),this.trigger(y.Events.insert,t),this.trigger(y.Events.order)),e},sort:function(){return Array.prototype.sort.apply(this,arguments),this.trigger(y.Events.order),this},reverse:function(){return Array.prototype.reverse.apply(this,arguments),this.trigger(y.Events.order),this}});var v=y.Utils.distanceBetween,b=y.Utils.distanceBetweenSquared,x=y.Utils.angleBetween,A=y.Utils.getControlPoints,w=y.Utils.mod,k=y.Utils.getBackingStoreRatio,E=y.Utils.getPointOnCubicBezier,S=y.Utils.integrate,C=y.Utils.getReflection;e.extend(y.prototype,i.Events,{appendTo:function(t){return t.appendChild(this.renderer.domElement),this},play:function(){return y.Utils.setPlaying.call(this,!0),this.trigger(y.Events.play)},pause:function(){return this.playing=!1,this.trigger(y.Events.pause)},update:function(){var t=!!this._lastFrame,e=(s.performance&&s.performance.now?s.performance:Date).now();this.frameCount++,t&&(this.timeDelta=parseFloat((e-this._lastFrame).toFixed(3))),this._lastFrame=e;var t=this.width,e=this.height,i=this.renderer;return t===i.width&&e===i.height||i.setSize(t,e,this.ratio),this.trigger(y.Events.update,this.frameCount,this.timeDelta),this.render()},render:function(){return this.renderer.render(),this.trigger(y.Events.render,this.frameCount)},add:function(t){var i=t;return i instanceof Array||(i=e.toArray(arguments)),this.scene.add(i),this},remove:function(t){var i=t;return i instanceof Array||(i=e.toArray(arguments)),this.scene.remove(i),this},clear:function(){return this.scene.remove(e.toArray(this.scene.children)),this},makeLine:function(t,e,i,n){return t=new y.Line(t,e,i,n),this.scene.add(t),t},makeRectangle:function(t,e,i,n){return t=new y.Rectangle(t,e,i,n),this.scene.add(t),t},makeRoundedRectangle:function(t,e,i,n,r){return t=new y.RoundedRectangle(t,e,i,n,r),this.scene.add(t),t},makeCircle:function(t,e,i){return this.makeEllipse(t,e,i,i)},makeEllipse:function(t,e,i,n){return t=new y.Ellipse(t,e,i,n),this.scene.add(t),t},makeStar:function(t,e,i,n,r){return t=new y.Star(t,e,i,n,r),this.scene.add(t),t},makeCurve:function(t){var i=arguments.length,n=t;if(!e.isArray(t))for(var n=[],r=0;i>r;r+=2){var s=arguments[r];if(!e.isNumber(s))break;n.push(new y.Anchor(s,arguments[r+1]))}return i=arguments[i-1],n=new y.Path(n,!(e.isBoolean(i)&&i),!0),i=n.getBoundingClientRect(),n.center().translation.set(i.left+i.width/2,i.top+i.height/2),this.scene.add(n),n},makePolygon:function(t,e,i,n){return t=new y.Polygon(t,e,i,n),this.scene.add(t),t},makeArcSegment:function(t,e,i,n,r,s,a){return t=new y.ArcSegment(t,e,i,n,r,s,a),this.scene.add(t),t},makePath:function(t){var i=arguments.length,n=t;if(!e.isArray(t))for(var n=[],r=0;i>r;r+=2){var s=arguments[r];if(!e.isNumber(s))break;n.push(new y.Anchor(s,arguments[r+1]))}return i=arguments[i-1],n=new y.Path(n,!(e.isBoolean(i)&&i)),i=n.getBoundingClientRect(),n.center().translation.set(i.left+i.width/2,i.top+i.height/2),this.scene.add(n),n},makeText:function(t,e,i,n){return t=new y.Text(t,e,i,n),this.add(t),t},makeLinearGradient:function(t,e,i,n){var r=Array.prototype.slice.call(arguments,4),r=new y.LinearGradient(t,e,i,n,r);return this.add(r),r},makeRadialGradient:function(t,e,i){var n=Array.prototype.slice.call(arguments,3),n=new y.RadialGradient(t,e,i,n);return this.add(n),n},makeGroup:function(t){var i=t;i instanceof Array||(i=e.toArray(arguments));var n=new y.Group;return this.scene.add(n),n.add(i),n},interpret:function(t,e){var i=t.tagName.toLowerCase();return i in y.Utils.read?(i=y.Utils.read[i].call(this,t),e&&i instanceof y.Group?this.add(i.children):this.add(i),i):null},load:function(t,i){var n,r,s=[];if(/.*\.svg/gi.test(t))return y.Utils.xhr(t,e.bind(function(t){for(_.temp.innerHTML=t,r=0;r<_.temp.children.length;r++)n=_.temp.children[r],s.push(this.interpret(n));i(1>=s.length?s[0]:s,1>=_.temp.children.length?_.temp.children[0]:_.temp.children)},this)),this;for(_.temp.innerHTML=t,r=0;r<_.temp.children.length;r++)n=_.temp.children[r],s.push(this.interpret(n));return i(1>=s.length?s[0]:s,1>=_.temp.children.length?_.temp.children[0]:_.temp.children),this}}),function(){n(arguments.callee),y.Instances.forEach(function(t){t.playing&&t.update()})}(),"function"==typeof define&&define.amd?define(function(){return y}):"undefined"!=typeof module&&module.exports&&(module.exports=y)}(this.Two,"function"!=typeof require||"function"==typeof define&&define.amd?this._:require("underscore"),"function"!=typeof require||"function"==typeof define&&define.amd?this.Backbone:require("backbone"),"function"!=typeof require||"function"==typeof define&&define.amd?this.requestAnimationFrame:require("requestAnimationFrame")),function(t,e,i,n){var r=t.Vector=function(t,e){this.x=t||0,this.y=e||0};e.extend(r,{zero:new t.Vector}),e.extend(r.prototype,i.Events,{set:function(t,e){return this.x=t,this.y=e,this},copy:function(t){return this.x=t.x,this.y=t.y,this},clear:function(){return this.y=this.x=0,this},clone:function(){return new r(this.x,this.y)},add:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},addSelf:function(t){return this.x+=t.x,this.y+=t.y,this},sub:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},subSelf:function(t){return this.x-=t.x,this.y-=t.y,this},multiplySelf:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this},divideScalar:function(t){return t?(this.x/=t,this.y/=t):this.set(0,0),this},negate:function(){return this.multiplyScalar(-1)},dot:function(t){return this.x*t.x+this.y*t.y},lengthSquared:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.lengthSquared())},normalize:function(){return this.divideScalar(this.length())},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x;return t=this.y-t.y,e*e+t*t},setLength:function(t){return this.normalize().multiplyScalar(t)},equals:function(t,e){return e="undefined"==typeof e?1e-4:e,this.distanceTo(t)<e},lerp:function(t,e){return this.set((t.x-this.x)*e+this.x,(t.y-this.y)*e+this.y)},isZero:function(t){return t="undefined"==typeof t?1e-4:t,this.length()<t},toString:function(){return this.x+","+this.y},toObject:function(){return{x:this.x,y:this.y}}});var s={set:function(e,i){return this._x=e,this._y=i,this.trigger(t.Events.change)},copy:function(e){return this._x=e.x,this._y=e.y,this.trigger(t.Events.change)},clear:function(){return this._y=this._x=0,this.trigger(t.Events.change)},clone:function(){return new r(this._x,this._y)},add:function(e,i){return this._x=e.x+i.x,this._y=e.y+i.y,this.trigger(t.Events.change)},addSelf:function(e){return this._x+=e.x,this._y+=e.y,this.trigger(t.Events.change)},sub:function(e,i){return this._x=e.x-i.x,this._y=e.y-i.y,this.trigger(t.Events.change)},subSelf:function(e){return this._x-=e.x,this._y-=e.y,this.trigger(t.Events.change)},multiplySelf:function(e){return this._x*=e.x,this._y*=e.y,this.trigger(t.Events.change)},multiplyScalar:function(e){return this._x*=e,this._y*=e,this.trigger(t.Events.change)},divideScalar:function(e){return e?(this._x/=e,this._y/=e,this.trigger(t.Events.change)):this.clear()},negate:function(){return this.multiplyScalar(-1)},dot:function(t){return this._x*t.x+this._y*t.y},lengthSquared:function(){return this._x*this._x+this._y*this._y},length:function(){return Math.sqrt(this.lengthSquared())},normalize:function(){return this.divideScalar(this.length())},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this._x-t.x;return t=this._y-t.y,e*e+t*t},setLength:function(t){return this.normalize().multiplyScalar(t)},equals:function(t,e){return e="undefined"==typeof e?1e-4:e,this.distanceTo(t)<e},lerp:function(t,e){return this.set((t.x-this._x)*e+this._x,(t.y-this._y)*e+this._y)},isZero:function(t){return t="undefined"==typeof t?1e-4:t,this.length()<t},toString:function(){return this._x+","+this._y},toObject:function(){return{x:this._x,y:this._y}}},a={get:function(){return this._x},set:function(e){this._x=e,this.trigger(t.Events.change,"x")}},o={get:function(){return this._y},set:function(e){this._y=e,this.trigger(t.Events.change,"y")}};t.Vector.prototype.bind=t.Vector.prototype.on=function(){return this._bound||(this._x=this.x,this._y=this.y,Object.defineProperty(this,"x",a),Object.defineProperty(this,"y",o),e.extend(this,s),this._bound=!0),i.Events.bind.apply(this,arguments),this}}(this.Two,"function"!=typeof require||"function"==typeof define&&define.amd?this._:require("underscore"),"function"!=typeof require||"function"==typeof define&&define.amd?this.Backbone:require("backbone"),"function"!=typeof require||"function"==typeof define&&define.amd?this.requestAnimationFrame:require("requestAnimationFrame")),function(t,e,i,n){var r=t.Commands,s=t.Anchor=function(i,n,a,o,l,h,c){return t.Vector.call(this,i,n),this._broadcast=e.bind(function(){this.trigger(t.Events.change)},this),this._command=c||r.move,this._relative=!0,c?(s.AppendCurveProperties(this),e.isNumber(a)&&(this.controls.left.x=a),e.isNumber(o)&&(this.controls.left.y=o),e.isNumber(l)&&(this.controls.right.x=l),void(e.isNumber(h)&&(this.controls.right.y=h))):this};e.extend(s,{AppendCurveProperties:function(e){e.controls={left:new t.Vector(0,0),right:new t.Vector(0,0)}}});var a={listen:function(){return e.isObject(this.controls)||s.AppendCurveProperties(this),this.controls.left.bind(t.Events.change,this._broadcast),this.controls.right.bind(t.Events.change,this._broadcast),this},ignore:function(){return this.controls.left.unbind(t.Events.change,this._broadcast),this.controls.right.unbind(t.Events.change,this._broadcast),this},clone:function(){var e=this.controls,e=new t.Anchor(this.x,this.y,e&&e.left.x,e&&e.left.y,e&&e.right.x,e&&e.right.y,this.command);return e.relative=this._relative,e},toObject:function(){var t={x:this.x,y:this.y};return this._command&&(t.command=this._command),this._relative&&(t.relative=this._relative),this.controls&&(t.controls={left:this.controls.left.toObject(),right:this.controls.right.toObject()}),t}};Object.defineProperty(s.prototype,"command",{get:function(){return this._command},set:function(i){return this._command=i,this._command!==r.curve||e.isObject(this.controls)||s.AppendCurveProperties(this),this.trigger(t.Events.change)}}),Object.defineProperty(s.prototype,"relative",{get:function(){return this._relative},set:function(e){return this._relative==e?this:(this._relative=!!e,this.trigger(t.Events.change))}}),e.extend(s.prototype,t.Vector.prototype,a),t.Anchor.prototype.bind=t.Anchor.prototype.on=function(){t.Vector.prototype.bind.apply(this,arguments),e.extend(this,a)},t.Anchor.prototype.unbind=t.Anchor.prototype.off=function(){t.Vector.prototype.unbind.apply(this,arguments),e.extend(this,a)}}(this.Two,"function"!=typeof require||"function"==typeof define&&define.amd?this._:require("underscore"),"function"!=typeof require||"function"==typeof define&&define.amd?this.Backbone:require("backbone"),"function"!=typeof require||"function"==typeof define&&define.amd?this.requestAnimationFrame:require("requestAnimationFrame")),function(t,e,i,n){var r=Math.cos,s=Math.sin,a=Math.tan,o=t.Matrix=function(i,n,r,s,a,o){this.elements=new t.Array(9);var l=i;e.isArray(l)||(l=e.toArray(arguments)),this.identity().set(l)};e.extend(o,{Identity:[1,0,0,0,1,0,0,0,1],Multiply:function(e,i,n){if(3>=i.length){n=i[0]||0;var r=i[1]||0;return i=i[2]||0,{x:e[0]*n+e[1]*r+e[2]*i,y:e[3]*n+e[4]*r+e[5]*i,z:e[6]*n+e[7]*r+e[8]*i}}var r=e[0],s=e[1],a=e[2],o=e[3],l=e[4],h=e[5],c=e[6],u=e[7];e=e[8];var f=i[0],d=i[1],p=i[2],g=i[3],m=i[4],_=i[5],y=i[6],v=i[7];return i=i[8],n=n||new t.Array(9),n[0]=r*f+s*g+a*y,n[1]=r*d+s*m+a*v,n[2]=r*p+s*_+a*i,n[3]=o*f+l*g+h*y,n[4]=o*d+l*m+h*v,n[5]=o*p+l*_+h*i,n[6]=c*f+u*g+e*y,n[7]=c*d+u*m+e*v,n[8]=c*p+u*_+e*i,n}}),e.extend(o.prototype,i.Events,{set:function(i){var n=i;return e.isArray(n)||(n=e.toArray(arguments)),e.extend(this.elements,n),this.trigger(t.Events.change)},identity:function(){return this.set(o.Identity),this},multiply:function(i,n,r,s,a,o,l,h,c){var u=arguments,f=u.length;if(1>=f)return e.each(this.elements,function(t,e){this.elements[e]=t*i},this),this.trigger(t.Events.change);if(3>=f)return i=i||0,n=n||0,r=r||0,a=this.elements,{x:a[0]*i+a[1]*n+a[2]*r,y:a[3]*i+a[4]*n+a[5]*r,z:a[6]*i+a[7]*n+a[8]*r};var d=this.elements,p=u,u=d[0],f=d[1],g=d[2],m=d[3],_=d[4],y=d[5],v=d[6],b=d[7],d=d[8],x=p[0],A=p[1],w=p[2],k=p[3],E=p[4],S=p[5],C=p[6],M=p[7],p=p[8];return this.elements[0]=u*x+f*k+g*C,this.elements[1]=u*A+f*E+g*M,this.elements[2]=u*w+f*S+g*p,this.elements[3]=m*x+_*k+y*C,this.elements[4]=m*A+_*E+y*M,this.elements[5]=m*w+_*S+y*p,this.elements[6]=v*x+b*k+d*C,this.elements[7]=v*A+b*E+d*M,this.elements[8]=v*w+b*S+d*p,this.trigger(t.Events.change)},inverse:function(e){var i=this.elements;e=e||new t.Matrix;var n=i[0],r=i[1],s=i[2],a=i[3],o=i[4],l=i[5],h=i[6],c=i[7],i=i[8],u=i*o-l*c,f=-i*a+l*h,d=c*a-o*h,p=n*u+r*f+s*d;return p?(p=1/p,e.elements[0]=u*p,e.elements[1]=(-i*r+s*c)*p,e.elements[2]=(l*r-s*o)*p,e.elements[3]=f*p,e.elements[4]=(i*n-s*h)*p,e.elements[5]=(-l*n+s*a)*p,e.elements[6]=d*p,e.elements[7]=(-c*n+r*h)*p,e.elements[8]=(o*n-r*a)*p,e):null},scale:function(t,e){return 1>=arguments.length&&(e=t),this.multiply(t,0,0,0,e,0,0,0,1)},rotate:function(t){var e=r(t);return t=s(t),this.multiply(e,-t,0,t,e,0,0,0,1)},translate:function(t,e){return this.multiply(1,0,t,0,1,e,0,0,1)},skewX:function(t){return t=a(t),this.multiply(1,t,0,0,1,0,0,0,1)},skewY:function(t){return t=a(t),this.multiply(1,0,0,t,1,0,0,0,1)},toString:function(t){var e=[];return this.toArray(t,e),e.join(" ")},toArray:function(t,e){var i=this.elements,n=!!e,r=parseFloat(i[0].toFixed(3)),s=parseFloat(i[1].toFixed(3)),a=parseFloat(i[2].toFixed(3)),o=parseFloat(i[3].toFixed(3)),l=parseFloat(i[4].toFixed(3)),h=parseFloat(i[5].toFixed(3));if(t){var c=parseFloat(i[6].toFixed(3)),u=parseFloat(i[7].toFixed(3)),i=parseFloat(i[8].toFixed(3));return n?(e[0]=r,e[1]=o,e[2]=c,e[3]=s,e[4]=l,e[5]=u,e[6]=a,e[7]=h,void(e[8]=i)):[r,o,c,s,l,u,a,h,i]}return n?(e[0]=r,e[1]=o,e[2]=s,e[3]=l,e[4]=a,e[5]=h,void 0):[r,o,s,l,a,h]},clone:function(){return new t.Matrix(this.elements[0],this.elements[1],this.elements[2],this.elements[3],this.elements[4],this.elements[5],this.elements[6],this.elements[7],this.elements[8])}})}(this.Two,"function"!=typeof require||"function"==typeof define&&define.amd?this._:require("underscore"),"function"!=typeof require||"function"==typeof define&&define.amd?this.Backbone:require("backbone"),"function"!=typeof require||"function"==typeof define&&define.amd?this.requestAnimationFrame:require("requestAnimationFrame")),function(t,e,i,n){var r=t.Utils.mod,s=t.Utils.toFixed,a={version:1.1,ns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",alignments:{left:"start",center:"middle",right:"end"},createElement:function(t,i){var n=document.createElementNS(this.ns,t);return"svg"===t&&(i=e.defaults(i||{},{version:this.version})),e.isEmpty(i)||a.setAttributes(n,i),n},setAttributes:function(t,e){for(var i=Object.keys(e),n=0;n<i.length;n++)t.setAttribute(i[n],e[i[n]]);return this},removeAttributes:function(t,e){for(var i in e)t.removeAttribute(i);return this},toString:function(e,i){for(var n,a=e.length,o=a-1,l="",h=0;a>h;h++){var c,u=e[h],f=i?r(h-1,a):Math.max(h-1,0),d=i?r(h+1,a):Math.min(h+1,o);c=e[f];var p,g,m,_=e[d],f=s(u._x),_=s(u._y);switch(u._command){case t.Commands.close:c=t.Commands.close;break;case t.Commands.curve:p=c.controls&&c.controls.right||c,m=u.controls&&u.controls.left||u,c._relative?(d=s(p.x+c.x),p=s(p.y+c.y)):(d=s(p.x),p=s(p.y)),u._relative?(g=s(m.x+u.x),m=s(m.y+u.y)):(g=s(m.x),m=s(m.y)),c=(0===h?t.Commands.move:t.Commands.curve)+" "+d+" "+p+" "+g+" "+m+" "+f+" "+_;break;case t.Commands.move:n=u,c=t.Commands.move+" "+f+" "+_;break;default:c=u._command+" "+f+" "+_}h>=o&&i&&(u._command===t.Commands.curve&&(_=n,p=u.controls&&u.controls.right||u,f=_.controls&&_.controls.left||_,u._relative?(d=s(p.x+u.x),p=s(p.y+u.y)):(d=s(p.x),p=s(p.y)),_._relative?(g=s(f.x+_.x),m=s(f.y+_.y)):(g=s(f.x),m=s(f.y)),f=s(_.x),_=s(_.y),c+=" C "+d+" "+p+" "+g+" "+m+" "+f+" "+_),c+=" Z"),l+=c+" "}return l},getClip:function(t){var e=t._renderer.clip;if(!e){for(var i=t;i.parent;)i=i.parent;e=t._renderer.clip=a.createElement("clipPath"),i.defs.appendChild(e)}return e},group:{appendChild:function(t){var e=t._renderer.elem;if(e){var i=e.nodeName;!i||/(radial|linear)gradient/i.test(i)||t._clip||this.elem.appendChild(e)}},removeChild:function(t){var e=t._renderer.elem;e&&e.parentNode==this.elem&&e.nodeName&&(t._clip||this.elem.removeChild(e))},orderChild:function(t){this.elem.appendChild(t._renderer.elem)},renderChild:function(t){a[t._renderer.type].render.call(t,this)},render:function(t){if(this._update(),0===this._opacity&&!this._flagOpacity)return this;this._renderer.elem||(this._renderer.elem=a.createElement("g",{id:this.id}),t.appendChild(this._renderer.elem));var e={domElement:t,elem:this._renderer.elem};(this._matrix.manual||this._flagMatrix)&&this._renderer.elem.setAttribute("transform","matrix("+this._matrix.toString()+")");for(var i=0;i<this.children.length;i++){var n=this.children[i];a[n._renderer.type].render.call(n,t)}return this._flagOpacity&&this._renderer.elem.setAttribute("opacity",this._opacity),this._flagAdditions&&this.additions.forEach(a.group.appendChild,e),this._flagSubtractions&&this.subtractions.forEach(a.group.removeChild,e),this._flagOrder&&this.children.forEach(a.group.orderChild,e),this._flagMask&&(this._mask?this._renderer.elem.setAttribute("clip-path","url(#"+this._mask.id+")"):this._renderer.elem.removeAttribute("clip-path")),this.flagReset()}},path:{render:function(t){if(this._update(),0===this._opacity&&!this._flagOpacity)return this;var e={};if((this._matrix.manual||this._flagMatrix)&&(e.transform="matrix("+this._matrix.toString()+")"),this._flagVertices){var i=a.toString(this._vertices,this._closed);e.d=i}return this._flagFill&&(this._fill&&this._fill._renderer&&a[this._fill._renderer.type].render.call(this._fill,t),e.fill=this._fill&&this._fill.id?"url(#"+this._fill.id+")":this._fill),this._flagStroke&&(this._stroke&&this._stroke._renderer&&a[this._stroke._renderer.type].render.call(this._stroke,t),e.stroke=this._stroke&&this._stroke.id?"url(#"+this._stroke.id+")":this._stroke),this._flagLinewidth&&(e["stroke-width"]=this._linewidth),this._flagOpacity&&(e["stroke-opacity"]=this._opacity,e["fill-opacity"]=this._opacity),this._flagVisible&&(e.visibility=this._visible?"visible":"hidden"),this._flagCap&&(e["stroke-linecap"]=this._cap),this._flagJoin&&(e["stroke-linejoin"]=this._join),this._flagMiter&&(e["stroke-miterlimit"]=this._miter),this._renderer.elem?a.setAttributes(this._renderer.elem,e):(e.id=this.id,this._renderer.elem=a.createElement("path",e),t.appendChild(this._renderer.elem)),this._flagClip&&(t=a.getClip(this),e=this._renderer.elem,this._clip?(e.removeAttribute("id"),t.setAttribute("id",this.id),t.appendChild(e)):(t.removeAttribute("id"),e.setAttribute("id",this.id),this.parent._renderer.elem.appendChild(e))),this.flagReset()}},text:{render:function(t){this._update();var e={};return(this._matrix.manual||this._flagMatrix)&&(e.transform="matrix("+this._matrix.toString()+")"),this._flagFamily&&(e["font-family"]=this._family),this._flagSize&&(e["font-size"]=this._size),this._flagLeading&&(e["line-height"]=this._leading),this._flagAlignment&&(e["text-anchor"]=a.alignments[this._alignment]||this._alignment),this._flagBaseline&&(e["alignment-baseline"]=e["dominant-baseline"]=this._baseline),this._flagStyle&&(e["font-style"]=this._style),this._flagWeight&&(e["font-weight"]=this._weight),this._flagDecoration&&(e["text-decoration"]=this._decoration),this._flagFill&&(e.fill=this._fill&&this._fill.id?"url(#"+this._fill.id+")":this._fill),this._flagStroke&&(e.stroke=this._stroke&&this._stroke.id?"url(#"+this._stroke.id+")":this._stroke),this._flagLinewidth&&(e["stroke-width"]=this._linewidth),this._flagOpacity&&(e.opacity=this._opacity),this._flagVisible&&(e.visibility=this._visible?"visible":"hidden"),this._renderer.elem?a.setAttributes(this._renderer.elem,e):(e.id=this.id,this._renderer.elem=a.createElement("text",e),t.defs.appendChild(this._renderer.elem)),this._flagClip&&(t=a.getClip(this),e=this._renderer.elem,this._clip?(e.removeAttribute("id"),t.setAttribute("id",this.id),t.appendChild(e)):(t.removeAttribute("id"),e.setAttribute("id",this.id),this.parent._renderer.elem.appendChild(e))),this._flagValue&&(this._renderer.elem.textContent=this._value),this.flagReset()}},"linear-gradient":{render:function(t){this._update();var e={};if(this._flagEndPoints&&(e.x1=this.left._x,e.y1=this.left._y,e.x2=this.right._x,e.y2=this.right._y),this._flagSpread&&(e.spreadMethod=this._spread),this._renderer.elem?a.setAttributes(this._renderer.elem,e):(e.id=this.id,e.gradientUnits="userSpaceOnUse",this._renderer.elem=a.createElement("linearGradient",e),t.defs.appendChild(this._renderer.elem)),this._flagStops)for(t=this._renderer.elem.childNodes.length=0;t<this.stops.length;t++){var e=this.stops[t],i={};e._flagOffset&&(i.offset=100*e._offset+"%"),e._flagColor&&(i["stop-color"]=e._color),e._flagOpacity&&(i["stop-opacity"]=e._opacity),e._renderer.elem?a.setAttributes(e._renderer.elem,i):e._renderer.elem=a.createElement("stop",i),this._renderer.elem.appendChild(e._renderer.elem),e.flagReset()}return this.flagReset()}},"radial-gradient":{render:function(t){this._update();var e={};if(this._flagCenter&&(e.cx=this.center._x,e.cy=this.center._y),this._flagFocal&&(e.fx=this.focal._x,e.fy=this.focal._y),this._flagRadius&&(e.r=this._radius),this._flagSpread&&(e.spreadMethod=this._spread),this._renderer.elem?a.setAttributes(this._renderer.elem,e):(e.id=this.id,e.gradientUnits="userSpaceOnUse",this._renderer.elem=a.createElement("radialGradient",e),t.defs.appendChild(this._renderer.elem)),this._flagStops)for(t=this._renderer.elem.childNodes.length=0;t<this.stops.length;t++){var e=this.stops[t],i={};e._flagOffset&&(i.offset=100*e._offset+"%"),e._flagColor&&(i["stop-color"]=e._color),e._flagOpacity&&(i["stop-opacity"]=e._opacity),e._renderer.elem?a.setAttributes(e._renderer.elem,i):e._renderer.elem=a.createElement("stop",i),this._renderer.elem.appendChild(e._renderer.elem),e.flagReset()}return this.flagReset()}}};n=t[t.Types.svg]=function(e){this.domElement=e.domElement||a.createElement("svg"),this.scene=new t.Group,this.scene.parent=this,this.defs=a.createElement("defs"),this.domElement.appendChild(this.defs),this.domElement.defs=this.defs,this.domElement.style.overflow="hidden"},e.extend(n,{Utils:a}),e.extend(n.prototype,i.Events,{setSize:function(t,e){return this.width=t,this.height=e,a.setAttributes(this.domElement,{width:t,height:e}),this},render:function(){return a.group.render.call(this.scene,this.domElement),this}})}(this.Two,"function"!=typeof require||"function"==typeof define&&define.amd?this._:require("underscore"),"function"!=typeof require||"function"==typeof define&&define.amd?this.Backbone:require("backbone"),"function"!=typeof require||"function"==typeof define&&define.amd?this.requestAnimationFrame:require("requestAnimationFrame")),function(t,e,i,n){var r=t.Utils.mod,s=t.Utils.toFixed,a=t.Utils.getRatio,o=function(t){return 1==t[0]&&0==t[3]&&0==t[1]&&1==t[4]&&0==t[2]&&0==t[5]},l={isHidden:/(none|transparent)/i,alignments:{left:"start",middle:"center",right:"end"},group:{renderChild:function(t){l[t._renderer.type].render.call(t,this.ctx,!0,this.clip)},render:function(t){this._update();var e=this._matrix.elements,i=this.parent;this._renderer.opacity=this._opacity*(i&&i._renderer?i._renderer.opacity:1);var i=o(e),n=this._mask;for(this._renderer.context||(this._renderer.context={}),this._renderer.context.ctx=t,i||(t.save(),t.transform(e[0],e[3],e[1],e[4],e[2],e[5])),n&&l[n._renderer.type].render.call(n,t,!0),e=0;e<this.children.length;e++)n=this.children[e],l[n._renderer.type].render.call(n,t);return i||t.restore(),this.flagReset()}},path:{render:function(i,n,a){var h,c,u,f,d,p,g,m,_,y,v,b,x,A,w,k;if(this._update(),h=this._matrix.elements,c=this._stroke,u=this._linewidth,f=this._fill,d=this._opacity*this.parent._renderer.opacity,p=this._visible,g=this._cap,m=this._join,_=this._miter,y=this._closed,v=this._vertices,b=v.length,x=b-1,k=o(h),w=this._clip,!n&&(!p||w))return this;for(k||(i.save(),i.transform(h[0],h[3],h[1],h[4],h[2],h[5])),f&&(e.isString(f)?i.fillStyle=f:(l[f._renderer.type].render.call(f,i),i.fillStyle=f._renderer.gradient)),c&&(e.isString(c)?i.strokeStyle=c:(l[c._renderer.type].render.call(c,i),i.strokeStyle=c._renderer.gradient)),u&&(i.lineWidth=u),_&&(i.miterLimit=_),m&&(i.lineJoin=m),g&&(i.lineCap=g),e.isNumber(d)&&(i.globalAlpha=d),i.beginPath(),h=0;h<v.length;h++)switch(n=v[h],d=s(n._x),p=s(n._y),n._command){case t.Commands.close:i.closePath();break;case t.Commands.curve:u=y?r(h-1,b):Math.max(h-1,0),y?r(h+1,b):Math.min(h+1,x),g=v[u],m=g.controls&&g.controls.right||g,_=n.controls&&n.controls.left||n,g._relative?(u=m.x+s(g._x),m=m.y+s(g._y)):(u=s(m.x),m=s(m.y)),n._relative?(g=_.x+s(n._x),_=_.y+s(n._y)):(g=s(_.x),_=s(_.y)),i.bezierCurveTo(u,m,g,_,d,p),h>=x&&y&&(p=A,g=n.controls&&n.controls.right||n,d=p.controls&&p.controls.left||p,n._relative?(u=g.x+s(n._x),m=g.y+s(n._y)):(u=s(g.x),m=s(g.y)),p._relative?(g=d.x+s(p._x),_=d.y+s(p._y)):(g=s(d.x),_=s(d.y)),d=s(p._x),p=s(p._y),i.bezierCurveTo(u,m,g,_,d,p));break;case t.Commands.line:i.lineTo(d,p);break;case t.Commands.move:A=n,i.moveTo(d,p)}return y&&i.closePath(),w||a||(l.isHidden.test(f)||i.fill(),l.isHidden.test(c)||i.stroke()),k||i.restore(),w&&!a&&i.clip(),this.flagReset()}},"linear-gradient":{render:function(t){if(this._update(),!this._renderer.gradient||this._flagEndPoints||this._flagStops)for(this._renderer.gradient=t.createLinearGradient(this.left._x,this.left._y,this.right._x,this.right._y),t=0;t<this.stops.length;t++){var e=this.stops[t];this._renderer.gradient.addColorStop(e._offset,e._color)}return this.flagReset()}},text:{render:function(t,i,n){this._update();var r=this._matrix.elements,s=this._stroke,a=this._linewidth,h=this._fill,c=this._opacity*this.parent._renderer.opacity,u=this._visible,f=o(r),d=this._clip;return i||u&&!d?(f||(t.save(),t.transform(r[0],r[3],r[1],r[4],r[2],r[5])),t.font=[this._style,this._weight,this._size+"px/"+this._leading+"px",this._family].join(" "),t.textAlign=l.alignments[this._alignment]||this._alignment,t.textBaseline=this._baseline,h&&(e.isString(h)?t.fillStyle=h:(l[h._renderer.type].render.call(h,t),t.fillStyle=h._renderer.gradient)),s&&(e.isString(s)?t.strokeStyle=s:(l[s._renderer.type].render.call(s,t),t.strokeStyle=s._renderer.gradient)),a&&(t.lineWidth=a),e.isNumber(c)&&(t.globalAlpha=c),d||n||(l.isHidden.test(h)||t.fillText(this.value,0,0),
l.isHidden.test(s)||t.strokeText(this.value,0,0)),f||t.restore(),d&&!n&&t.clip(),this.flagReset()):this}},"radial-gradient":{render:function(t){if(this._update(),!this._renderer.gradient||this._flagCenter||this._flagFocal||this._flagRadius||this._flagStops)for(this._renderer.gradient=t.createRadialGradient(this.center._x,this.center._y,0,this.focal._x,this.focal._y,this._radius),t=0;t<this.stops.length;t++){var e=this.stops[t];this._renderer.gradient.addColorStop(e._offset,e._color)}return this.flagReset()}}};n=t[t.Types.canvas]=function(e){var i=!1!==e.smoothing;this.domElement=e.domElement||document.createElement("canvas"),this.ctx=this.domElement.getContext("2d"),this.overdraw=e.overdraw||!1,this.ctx.imageSmoothingEnabled=i,this.ctx.mozImageSmoothingEnabled=i,this.ctx.oImageSmoothingEnabled=i,this.ctx.webkitImageSmoothingEnabled=i,this.ctx.imageSmoothingEnabled=i,this.scene=new t.Group,this.scene.parent=this},e.extend(n,{Utils:l}),e.extend(n.prototype,i.Events,{setSize:function(t,i,n){return this.width=t,this.height=i,this.ratio=e.isUndefined(n)?a(this.ctx):n,this.domElement.width=t*this.ratio,this.domElement.height=i*this.ratio,e.extend(this.domElement.style,{width:t+"px",height:i+"px"}),this},render:function(){var t=1===this.ratio;return t||(this.ctx.save(),this.ctx.scale(this.ratio,this.ratio)),this.overdraw||this.ctx.clearRect(0,0,this.width,this.height),l.group.render.call(this.scene,this.ctx),t||this.ctx.restore(),this}})}(this.Two,"function"!=typeof require||"function"==typeof define&&define.amd?this._:require("underscore"),"function"!=typeof require||"function"==typeof define&&define.amd?this.Backbone:require("backbone"),"function"!=typeof require||"function"==typeof define&&define.amd?this.requestAnimationFrame:require("requestAnimationFrame")),function(t,e,i,n){var r=t.Matrix.Multiply,s=t.Utils.mod,a=[1,0,0,0,1,0,0,0,1],o=new t.Array(9),l=t.Utils.getRatio,h=t.Utils.toFixed,c={isHidden:/(none|transparent)/i,canvas:document.createElement("canvas"),alignments:{left:"start",middle:"center",right:"end"},matrix:new t.Matrix,uv:new t.Array([0,0,1,0,0,1,0,1,1,0,1,1]),group:{removeChild:function(t,e){if(t.children)for(var i=0;i<t.children.length;i++)c.group.removeChild(t.children[i],e);else e.deleteTexture(t._renderer.texture),delete t._renderer.texture},renderChild:function(t){c[t._renderer.type].render.call(t,this.gl,this.program)},render:function(e,i){this._update();var n=this.parent,s=n._matrix&&n._matrix.manual||n._flagMatrix,a=this._matrix.manual||this._flagMatrix;if((s||a)&&(this._renderer.matrix||(this._renderer.matrix=new t.Array(9)),this._matrix.toArray(!0,o),r(o,n._renderer.matrix,this._renderer.matrix),this._renderer.scale=this._scale*n._renderer.scale,s&&(this._flagMatrix=!0)),this._mask&&(e.enable(e.STENCIL_TEST),e.stencilFunc(e.ALWAYS,1,1),e.colorMask(!1,!1,!1,!0),e.stencilOp(e.KEEP,e.KEEP,e.INCR),c[this._mask._renderer.type].render.call(this._mask,e,i,this),e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.NOTEQUAL,0,1),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)),this._flagOpacity=n._flagOpacity||this._flagOpacity,this._renderer.opacity=this._opacity*(n&&n._renderer?n._renderer.opacity:1),this._flagSubtractions)for(n=0;n<this.subtractions.length;n++)c.group.removeChild(this.subtractions[n],e);return this.children.forEach(c.group.renderChild,{gl:e,program:i}),this._mask&&(e.colorMask(!1,!1,!1,!1),e.stencilOp(e.KEEP,e.KEEP,e.DECR),c[this._mask._renderer.type].render.call(this._mask,e,i,this),e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.NOTEQUAL,0,1),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.disable(e.STENCIL_TEST)),this.flagReset()}},path:{updateCanvas:function(i){var n,r,a,o,l,u,f=i._vertices;n=this.canvas;var d=this.ctx;u=i._renderer.scale;var p=i._stroke;a=i._linewidth;var g=i._fill;r=i._renderer.opacity||i._opacity,l=i._cap,o=i._join;var m=i._miter,_=i._closed,y=f.length,v=y-1;n.width=Math.max(Math.ceil(i._renderer.rect.width*u),1),n.height=Math.max(Math.ceil(i._renderer.rect.height*u),1);var x=i._renderer.rect.centroid,A=x.x,x=x.y;d.clearRect(0,0,n.width,n.height),g&&(e.isString(g)?d.fillStyle=g:(c[g._renderer.type].render.call(g,d,i),d.fillStyle=g._renderer.gradient)),p&&(e.isString(p)?d.strokeStyle=p:(c[p._renderer.type].render.call(p,d,i),d.strokeStyle=p._renderer.gradient)),a&&(d.lineWidth=a),m&&(d.miterLimit=m),o&&(d.lineJoin=o),l&&(d.lineCap=l),e.isNumber(r)&&(d.globalAlpha=r);var w;for(d.save(),d.scale(u,u),d.translate(A,x),d.beginPath(),i=0;i<f.length;i++)switch(b=f[i],u=h(b._x),a=h(b._y),b._command){case t.Commands.close:d.closePath();break;case t.Commands.curve:n=_?s(i-1,y):Math.max(i-1,0),_?s(i+1,y):Math.min(i+1,v),r=f[n],l=r.controls&&r.controls.right||r,o=b.controls&&b.controls.left||b,r._relative?(n=h(l.x+r._x),l=h(l.y+r._y)):(n=h(l.x),l=h(l.y)),b._relative?(r=h(o.x+b._x),o=h(o.y+b._y)):(r=h(o.x),o=h(o.y)),d.bezierCurveTo(n,l,r,o,u,a),i>=v&&_&&(a=w,r=b.controls&&b.controls.right||b,u=a.controls&&a.controls.left||a,b._relative?(n=h(r.x+b._x),l=h(r.y+b._y)):(n=h(r.x),l=h(r.y)),a._relative?(r=h(u.x+a._x),o=h(u.y+a._y)):(r=h(u.x),o=h(u.y)),u=h(a._x),a=h(a._y),d.bezierCurveTo(n,l,r,o,u,a));break;case t.Commands.line:d.lineTo(u,a);break;case t.Commands.move:w=b,d.moveTo(u,a)}_&&d.closePath(),c.isHidden.test(g)||d.fill(),c.isHidden.test(p)||d.stroke(),d.restore()},getBoundingClientRect:function(t,i,n){var r=1/0,s=-(1/0),a=1/0,o=-(1/0);t.forEach(function(t){var e,i,n=t.x,l=t.y,h=t.controls;a=Math.min(l,a),r=Math.min(n,r),s=Math.max(n,s),o=Math.max(l,o),t.controls&&(e=h.left,i=h.right,e&&i&&(h=t._relative?e.x+n:e.x,e=t._relative?e.y+l:e.y,n=t._relative?i.x+n:i.x,t=t._relative?i.y+l:i.y,h&&e&&n&&t&&(a=Math.min(e,t,a),r=Math.min(h,n,r),s=Math.max(h,n,s),o=Math.max(e,t,o))))}),e.isNumber(i)&&(a-=i,r-=i,s+=i,o+=i),n.top=a,n.left=r,n.right=s,n.bottom=o,n.width=s-r,n.height=o-a,n.centroid||(n.centroid={}),n.centroid.x=-r,n.centroid.y=-a},render:function(e,i,n){if(!this._visible||!this._opacity)return this;var s=this.parent,a=s._matrix.manual||s._flagMatrix,l=this._matrix.manual||this._flagMatrix,h=this._flagVertices||this._flagFill||this._fill instanceof t.LinearGradient&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagEndPoints)||this._fill instanceof t.RadialGradient&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagRadius||this._fill._flagCenter||this._fill._flagFocal)||this._stroke instanceof t.LinearGradient&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagEndPoints)||this._stroke instanceof t.RadialGradient&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagRadius||this._stroke._flagCenter||this._stroke._flagFocal)||this._flagStroke||this._flagLinewidth||this._flagOpacity||s._flagOpacity||this._flagVisible||this._flagCap||this._flagJoin||this._flagMiter||this._flagScale||!this._renderer.texture;return this._update(),(a||l)&&(this._renderer.matrix||(this._renderer.matrix=new t.Array(9)),this._matrix.toArray(!0,o),r(o,s._renderer.matrix,this._renderer.matrix),this._renderer.scale=this._scale*s._renderer.scale),h&&(this._renderer.rect||(this._renderer.rect={}),this._renderer.triangles||(this._renderer.triangles=new t.Array(12)),this._renderer.opacity=this._opacity*s._renderer.opacity,c.path.getBoundingClientRect(this._vertices,this._linewidth,this._renderer.rect),c.getTriangles(this._renderer.rect,this._renderer.triangles),c.updateBuffer.call(c,e,this,i),c.updateTexture.call(c,e,this)),!this._clip||n?(e.bindBuffer(e.ARRAY_BUFFER,this._renderer.textureCoordsBuffer),e.vertexAttribPointer(i.textureCoords,2,e.FLOAT,!1,0,0),e.bindTexture(e.TEXTURE_2D,this._renderer.texture),e.uniformMatrix3fv(i.matrix,!1,this._renderer.matrix),e.bindBuffer(e.ARRAY_BUFFER,this._renderer.buffer),e.vertexAttribPointer(i.position,2,e.FLOAT,!1,0,0),e.drawArrays(e.TRIANGLES,0,6),this.flagReset()):void 0}},text:{updateCanvas:function(t){var i=this.canvas,n=this.ctx,r=t._renderer.scale,s=t._stroke,a=t._linewidth*r,o=t._fill,l=t._renderer.opacity||t._opacity;i.width=Math.max(Math.ceil(t._renderer.rect.width*r),1),i.height=Math.max(Math.ceil(t._renderer.rect.height*r),1);var h=t._renderer.rect.centroid,u=h.x,h=h.y;n.clearRect(0,0,i.width,i.height),n.font=[t._style,t._weight,t._size+"px/"+t._leading+"px",t._family].join(" "),n.textAlign="center",n.textBaseline="middle",o&&(e.isString(o)?n.fillStyle=o:(c[o._renderer.type].render.call(o,n,t),n.fillStyle=o._renderer.gradient)),s&&(e.isString(s)?n.strokeStyle=s:(c[s._renderer.type].render.call(s,n,t),n.strokeStyle=s._renderer.gradient)),a&&(n.lineWidth=a),e.isNumber(l)&&(n.globalAlpha=l),n.save(),n.scale(r,r),n.translate(u,h),c.isHidden.test(o)||n.fillText(t.value,0,0),c.isHidden.test(s)||n.strokeText(t.value,0,0),n.restore()},getBoundingClientRect:function(t,e){var i=c.ctx;i.font=[t._style,t._weight,t._size+"px/"+t._leading+"px",t._family].join(" "),i.textAlign="center",i.textBaseline=t._baseline;var i=i.measureText(t._value).width,n=Math.max(t._size||t._leading);this._linewidth&&!c.isHidden.test(this._stroke)&&(n+=this._linewidth);var r=i/2,s=n/2;switch(c.alignments[t._alignment]||t._alignment){case c.alignments.left:e.left=0,e.right=i;break;case c.alignments.right:e.left=-i,e.right=0;break;default:e.left=-r,e.right=r}switch(t._baseline){case"bottom":e.top=-n,e.bottom=0;break;case"top":e.top=0,e.bottom=n;break;default:e.top=-s,e.bottom=s}e.width=i,e.height=n,e.centroid||(e.centroid={}),e.centroid.x=r,e.centroid.y=s},render:function(e,i,n){if(!this._visible||!this._opacity)return this;var s=this.parent,a=s._matrix.manual||s._flagMatrix,l=this._matrix.manual||this._flagMatrix,h=this._flagVertices||this._flagFill||this._fill instanceof t.LinearGradient&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagEndPoints)||this._fill instanceof t.RadialGradient&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagRadius||this._fill._flagCenter||this._fill._flagFocal)||this._stroke instanceof t.LinearGradient&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagEndPoints)||this._stroke instanceof t.RadialGradient&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagRadius||this._stroke._flagCenter||this._stroke._flagFocal)||this._flagStroke||this._flagLinewidth||this._flagOpacity||s._flagOpacity||this._flagVisible||this._flagScale||this._flagValue||this._flagFamily||this._flagSize||this._flagLeading||this._flagAlignment||this._flagBaseline||this._flagStyle||this._flagWeight||this._flagDecoration||!this._renderer.texture;return this._update(),(a||l)&&(this._renderer.matrix||(this._renderer.matrix=new t.Array(9)),this._matrix.toArray(!0,o),r(o,s._renderer.matrix,this._renderer.matrix),this._renderer.scale=this._scale*s._renderer.scale),h&&(this._renderer.rect||(this._renderer.rect={}),this._renderer.triangles||(this._renderer.triangles=new t.Array(12)),this._renderer.opacity=this._opacity*s._renderer.opacity,c.text.getBoundingClientRect(this,this._renderer.rect),c.getTriangles(this._renderer.rect,this._renderer.triangles),c.updateBuffer.call(c,e,this,i),c.updateTexture.call(c,e,this)),!this._clip||n?(e.bindBuffer(e.ARRAY_BUFFER,this._renderer.textureCoordsBuffer),e.vertexAttribPointer(i.textureCoords,2,e.FLOAT,!1,0,0),e.bindTexture(e.TEXTURE_2D,this._renderer.texture),e.uniformMatrix3fv(i.matrix,!1,this._renderer.matrix),e.bindBuffer(e.ARRAY_BUFFER,this._renderer.buffer),e.vertexAttribPointer(i.position,2,e.FLOAT,!1,0,0),e.drawArrays(e.TRIANGLES,0,6),this.flagReset()):void 0}},"linear-gradient":{render:function(t,e){if(t.canvas.getContext("2d")){if(this._update(),!this._renderer.gradient||this._flagEndPoints||this._flagStops){this._renderer.gradient=t.createLinearGradient(this.left._x,this.left._y,this.right._x,this.right._y);for(var i=0;i<this.stops.length;i++){var n=this.stops[i];this._renderer.gradient.addColorStop(n._offset,n._color)}}return this.flagReset()}}},"radial-gradient":{render:function(t,e){if(t.canvas.getContext("2d")){if(this._update(),!this._renderer.gradient||this._flagCenter||this._flagFocal||this._flagRadius||this._flagStops){this._renderer.gradient=t.createRadialGradient(this.center._x,this.center._y,0,this.focal._x,this.focal._y,this._radius);for(var i=0;i<this.stops.length;i++){var n=this.stops[i];this._renderer.gradient.addColorStop(n._offset,n._color)}}return this.flagReset()}}},getTriangles:function(t,e){var i=t.top,n=t.left,r=t.right,s=t.bottom;e[0]=n,e[1]=i,e[2]=r,e[3]=i,e[4]=n,e[5]=s,e[6]=n,e[7]=s,e[8]=r,e[9]=i,e[10]=r,e[11]=s},updateTexture:function(t,e){this[e._renderer.type].updateCanvas.call(c,e),e._renderer.texture&&t.deleteTexture(e._renderer.texture),t.bindBuffer(t.ARRAY_BUFFER,e._renderer.textureCoordsBuffer),e._renderer.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,e._renderer.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),0>=this.canvas.width||0>=this.canvas.height||t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,this.canvas)},updateBuffer:function(t,i,n){e.isObject(i._renderer.buffer)&&t.deleteBuffer(i._renderer.buffer),i._renderer.buffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,i._renderer.buffer),t.enableVertexAttribArray(n.position),t.bufferData(t.ARRAY_BUFFER,i._renderer.triangles,t.STATIC_DRAW),e.isObject(i._renderer.textureCoordsBuffer)&&t.deleteBuffer(i._renderer.textureCoordsBuffer),i._renderer.textureCoordsBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,i._renderer.textureCoordsBuffer),t.enableVertexAttribArray(n.textureCoords),t.bufferData(t.ARRAY_BUFFER,this.uv,t.STATIC_DRAW)},program:{create:function(i,n){var r,s;if(r=i.createProgram(),e.each(n,function(t){i.attachShader(r,t)}),i.linkProgram(r),!i.getProgramParameter(r,i.LINK_STATUS))throw s=i.getProgramInfoLog(r),i.deleteProgram(r),new t.Utils.Error("unable to link program: "+s);return r}},shaders:{create:function(e,i,n){if(n=e.createShader(e[n]),e.shaderSource(n,i),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw i=e.getShaderInfoLog(n),e.deleteShader(n),new t.Utils.Error("unable to compile shader "+n+": "+i);return n},types:{vertex:"VERTEX_SHADER",fragment:"FRAGMENT_SHADER"},vertex:"attribute vec2 a_position;\nattribute vec2 a_textureCoords;\n\nuniform mat3 u_matrix;\nuniform vec2 u_resolution;\n\nvarying vec2 v_textureCoords;\n\nvoid main() {\n   vec2 projected = (u_matrix * vec3(a_position, 1.0)).xy;\n   vec2 normal = projected / u_resolution;\n   vec2 clipspace = (normal * 2.0) - 1.0;\n\n   gl_Position = vec4(clipspace * vec2(1.0, -1.0), 0.0, 1.0);\n   v_textureCoords = a_textureCoords;\n}",fragment:"precision mediump float;\n\nuniform sampler2D u_image;\nvarying vec2 v_textureCoords;\n\nvoid main() {\n  gl_FragColor = texture2D(u_image, v_textureCoords);\n}"}};c.ctx=c.canvas.getContext("2d"),n=t[t.Types.webgl]=function(i){var n,r;if(this.domElement=i.domElement||document.createElement("canvas"),this.scene=new t.Group,this.scene.parent=this,this._renderer={matrix:new t.Array(a),scale:1,opacity:1},this._flagMatrix=!0,i=e.defaults(i||{},{antialias:!1,alpha:!0,premultipliedAlpha:!0,stencil:!0,preserveDrawingBuffer:!0,overdraw:!1}),this.overdraw=i.overdraw,i=this.ctx=this.domElement.getContext("webgl",i)||this.domElement.getContext("experimental-webgl",i),!this.ctx)throw new t.Utils.Error("unable to create a webgl context. Try using another renderer.");n=c.shaders.create(i,c.shaders.vertex,c.shaders.types.vertex),r=c.shaders.create(i,c.shaders.fragment,c.shaders.types.fragment),this.program=c.program.create(i,[n,r]),i.useProgram(this.program),this.program.position=i.getAttribLocation(this.program,"a_position"),this.program.matrix=i.getUniformLocation(this.program,"u_matrix"),this.program.textureCoords=i.getAttribLocation(this.program,"a_textureCoords"),i.disable(i.DEPTH_TEST),i.enable(i.BLEND),i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD),i.blendFuncSeparate(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA)},e.extend(n,{Utils:c}),e.extend(n.prototype,i.Events,{setSize:function(t,i,n){return this.width=t,this.height=i,this.ratio=e.isUndefined(n)?l(this.ctx):n,this.domElement.width=t*this.ratio,this.domElement.height=i*this.ratio,e.extend(this.domElement.style,{width:t+"px",height:i+"px"}),t*=this.ratio,i*=this.ratio,this._renderer.matrix[0]=this._renderer.matrix[4]=this._renderer.scale=this.ratio,this._flagMatrix=!0,this.ctx.viewport(0,0,t,i),n=this.ctx.getUniformLocation(this.program,"u_resolution"),this.ctx.uniform2f(n,t,i),this},render:function(){var t=this.ctx;return this.overdraw||t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),c.group.render.call(this.scene,t,this.program),this._flagMatrix=!1,this}})}(this.Two,"function"!=typeof require||"function"==typeof define&&define.amd?this._:require("underscore"),"function"!=typeof require||"function"==typeof define&&define.amd?this.Backbone:require("backbone"),"function"!=typeof require||"function"==typeof define&&define.amd?this.requestAnimationFrame:require("requestAnimationFrame")),function(t,e,i,n){var r=t.Shape=function(){this._renderer={},this.id=t.Identifier+t.uniqueId(),this.classList=[],this._matrix=new t.Matrix,this.translation=new t.Vector,this.translation.bind(t.Events.change,e.bind(r.FlagMatrix,this)),this.rotation=0,this.scale=1};e.extend(r,i.Events,{FlagMatrix:function(){this._flagMatrix=!0},MakeObservable:function(t){Object.defineProperty(t,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation=t,this._flagMatrix=!0}}),Object.defineProperty(t,"scale",{get:function(){return this._scale},set:function(t){this._scale=t,this._flagScale=this._flagMatrix=!0}})}}),e.extend(r.prototype,{_flagMatrix:!0,_rotation:0,_scale:1,addTo:function(t){return t.add(this),this},clone:function(){var t=new r;return t.translation.copy(this.translation),t.rotation=this.rotation,t.scale=this.scale,e.each(r.Properties,function(e){t[e]=this[e]},this),t._update()},_update:function(t){return!this._matrix.manual&&this._flagMatrix&&this._matrix.identity().translate(this.translation.x,this.translation.y).scale(this.scale).rotate(this.rotation),t&&this.parent&&this.parent._update&&this.parent._update(),this},flagReset:function(){return this._flagMatrix=this._flagScale=!1,this}}),r.MakeObservable(r.prototype)}(this.Two,"function"!=typeof require||"function"==typeof define&&define.amd?this._:require("underscore"),"function"!=typeof require||"function"==typeof define&&define.amd?this.Backbone:require("backbone"),"function"!=typeof require||"function"==typeof define&&define.amd?this.requestAnimationFrame:require("requestAnimationFrame")),function(t,e,i,n){function r(e,i,n){var r,s,a,o,l,h,c,u,f=i.controls&&i.controls.right,d=e.controls&&e.controls.left;return r=i.x,l=i.y,s=(f||i).x,h=(f||i).y,a=(d||e).x,c=(d||e).y,o=e.x,u=e.y,f&&i._relative&&(s+=i.x,h+=i.y),d&&e._relative&&(a+=e.x,c+=e.y),t.Utils.getCurveLength(r,l,s,h,a,c,o,u,n)}function s(e,i,n){var r,s,a,o,l,h,c,u,f=i.controls&&i.controls.right,d=e.controls&&e.controls.left;return r=i.x,l=i.y,s=(f||i).x,h=(f||i).y,a=(d||e).x,c=(d||e).y,o=e.x,u=e.y,f&&i._relative&&(s+=i.x,h+=i.y),d&&e._relative&&(a+=e.x,c+=e.y),t.Utils.subdivide(r,l,s,h,a,c,o,u,n)}var a=Math.min,o=Math.max,l=Math.round,h=t.Utils.getComputedMatrix;e.each(t.Commands,function(t,e){});var c=t.Path=function(e,i,n,r){t.Shape.call(this),this._renderer.type="path",this._closed=!!i,this._curved=!!n,this.beginning=0,this.ending=1,this.fill="#fff",this.stroke="#000",this.opacity=this.linewidth=1,this.visible=!0,this.cap="butt",this.join="miter",this.miter=4,this._vertices=[],this.vertices=e,this.automatic=!r};e.extend(c,{Properties:"fill stroke linewidth opacity visible cap join miter closed curved automatic beginning ending".split(" "),FlagVertices:function(){this._flagLength=this._flagVertices=!0},MakeObservable:function(i){t.Shape.MakeObservable(i),e.each(c.Properties.slice(0,8),function(t){var e="_"+t,n="_flag"+t.charAt(0).toUpperCase()+t.slice(1);Object.defineProperty(i,t,{get:function(){return this[e]},set:function(t){this[e]=t,this[n]=!0}})}),Object.defineProperty(i,"length",{get:function(){return this._flagLength&&this._updateLength(),this._length}}),Object.defineProperty(i,"closed",{get:function(){return this._closed},set:function(t){this._closed=!!t,this._flagVertices=!0}}),Object.defineProperty(i,"curved",{get:function(){return this._curved},set:function(t){this._curved=!!t,this._flagVertices=!0}}),Object.defineProperty(i,"automatic",{get:function(){return this._automatic},set:function(t){if(t!==this._automatic){var i=(this._automatic=!!t)?"ignore":"listen";e.each(this.vertices,function(t){t[i]()})}}}),Object.defineProperty(i,"beginning",{get:function(){return this._beginning},set:function(t){this._beginning=a(o(t,0),this._ending),this._flagVertices=!0}}),Object.defineProperty(i,"ending",{get:function(){return this._ending},set:function(t){this._ending=a(o(t,this._beginning),1),this._flagVertices=!0}}),Object.defineProperty(i,"vertices",{get:function(){return this._collection},set:function(i){var n=e.bind(c.FlagVertices,this),r=e.bind(function(e){for(var i=e.length;i--;)e[i].bind(t.Events.change,n);n()},this),s=e.bind(function(i){e.each(i,function(e){e.unbind(t.Events.change,n)},this),n()},this);this._collection&&this._collection.unbind(),this._collection=new t.Utils.Collection((i||[]).slice(0)),this._collection.bind(t.Events.insert,r),this._collection.bind(t.Events.remove,s),r(this._collection)}}),Object.defineProperty(i,"clip",{get:function(){return this._clip},set:function(t){this._clip=t,this._flagClip=!0}})}}),e.extend(c.prototype,t.Shape.prototype,{_flagVertices:!0,_flagLength:!0,_flagFill:!0,_flagStroke:!0,_flagLinewidth:!0,_flagOpacity:!0,_flagVisible:!0,_flagCap:!0,_flagJoin:!0,_flagMiter:!0,_flagClip:!1,_length:0,_fill:"#fff",_stroke:"#000",_linewidth:1,_opacity:1,_visible:!0,_cap:"round",_join:"round",_miter:4,_closed:!0,_curved:!1,_automatic:!0,_beginning:0,_ending:1,_clip:!1,clone:function(i){i=i||this.parent;var n=e.map(this.vertices,function(t){return t.clone()}),r=new c(n,this.closed,this.curved,!this.automatic);return e.each(t.Path.Properties,function(t){r[t]=this[t]},this),r.translation.copy(this.translation),r.rotation=this.rotation,r.scale=this.scale,i.add(r),r},toObject:function(){var i={vertices:e.map(this.vertices,function(t){return t.toObject()})};return e.each(t.Shape.Properties,function(t){i[t]=this[t]},this),i.translation=this.translation.toObject,i.rotation=this.rotation,i.scale=this.scale,i},noFill:function(){return this.fill="transparent",this},noStroke:function(){return this.stroke="transparent",this},corner:function(){var t=this.getBoundingClientRect(!0);return t.centroid={x:t.left+t.width/2,y:t.top+t.height/2},e.each(this.vertices,function(e){e.addSelf(t.centroid)}),this},center:function(){var t=this.getBoundingClientRect(!0);return t.centroid={x:t.left+t.width/2,y:t.top+t.height/2},e.each(this.vertices,function(e){e.subSelf(t.centroid)}),this},remove:function(){return this.parent?(this.parent.remove(this),this):this},getBoundingClientRect:function(t){var e,i,n,r,s,l=1/0,c=-(1/0),u=1/0,f=-(1/0);for(this._update(!0),t=t?this._matrix:h(this),e=this.linewidth/2,i=this._vertices.length,s=0;i>s;s++)r=this._vertices[s],n=r.x,r=r.y,r=t.multiply(n,r,1),u=a(r.y-e,u),l=a(r.x-e,l),c=o(r.x+e,c),f=o(r.y+e,f);return{top:u,left:l,right:c,bottom:f,width:c-l,height:f-u}},getPointAt:function(i,n){var r,s,a,o,l,h,c,u,f,d,p,g;for(c=this.length*Math.min(Math.max(i,0),1),u=this.vertices.length,f=u-1,h=r=null,d=0,s=this._lengths.length,a=0;s>d;d++){if(a+this._lengths[d]>c){r=this.vertices[this.closed?t.Utils.mod(d,u):d],h=this.vertices[Math.min(Math.max(d-1,0),f)],c-=a,i=c/this._lengths[d];break}a+=this._lengths[d]}return e.isNull(r)||e.isNull(h)?null:(g=h.controls&&h.controls.right,p=r.controls&&r.controls.left,s=h.x,c=h.y,a=(g||h).x,u=(g||h).y,o=(p||r).x,f=(p||r).y,l=r.x,d=r.y,g&&h._relative&&(a+=h.x,u+=h.y),p&&r._relative&&(o+=r.x,f+=r.y),r=t.Utils.getPointOnCubicBezier(i,s,a,o,l),h=t.Utils.getPointOnCubicBezier(i,c,u,f,d),e.isObject(n)?(n.x=r,n.y=h,n):new t.Vector(r,h))},plot:function(){if(this.curved)return t.Utils.getCurveFromPoints(this._vertices,this.closed),this;for(var e=0;e<this._vertices.length;e++)this._vertices[e]._command=0===e?t.Commands.move:t.Commands.line;return this},subdivide:function(i){this._update();var n=this.vertices.length-1,r=this.vertices[n],a=this._closed||this.vertices[n]._command===t.Commands.close,o=[];return e.each(this.vertices,function(l,h){if(!(0>=h)||a)if(l.command===t.Commands.move)o.push(new t.Anchor(r.x,r.y)),h>0&&(o[o.length-1].command=t.Commands.line);else{var c=s(l,r,i);o=o.concat(c),e.each(c,function(e,i){e.command=0>=i&&r.command===t.Commands.move?t.Commands.move:t.Commands.line}),h>=n&&(this._closed&&this._automatic?(r=l,c=s(l,r,i),o=o.concat(c),e.each(c,function(e,i){e.command=0>=i&&r.command===t.Commands.move?t.Commands.move:t.Commands.line})):a&&o.push(new t.Anchor(l.x,l.y)),o[o.length-1].command=a?t.Commands.close:t.Commands.line)}r=l},this),this._curved=this._automatic=!1,this.vertices=o,this},_updateLength:function(i){this._update();var n=this.vertices.length-1,s=this.vertices[n],a=this._closed||this.vertices[n]._command===t.Commands.close,o=0;return e.isUndefined(this._lengths)&&(this._lengths=[]),e.each(this.vertices,function(e,l){0>=l&&!a||e.command===t.Commands.move?(s=e,this._lengths[l]=0):(this._lengths[l]=r(e,s,i),o+=this._lengths[l],l>=n&&a&&(s=e,this._lengths[l+1]=r(e,s,i),o+=this._lengths[l+1]),s=e)},this),this._length=o,this},_update:function(){if(this._flagVertices){var e,i=this.vertices.length-1;e=l(this._beginning*i),i=l(this._ending*i),this._vertices.length=0;for(var n=e;i+1>n;n++)e=this.vertices[n],this._vertices.push(e);this._automatic&&this.plot()}return t.Shape.prototype._update.apply(this,arguments),this},flagReset:function(){return this._flagVertices=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagCap=this._flagJoin=this._flagMiter=this._flagClip=!1,t.Shape.prototype.flagReset.call(this),this}}),c.MakeObservable(c.prototype)}(this.Two,"function"!=typeof require||"function"==typeof define&&define.amd?this._:require("underscore"),"function"!=typeof require||"function"==typeof define&&define.amd?this.Backbone:require("backbone"),"function"!=typeof require||"function"==typeof define&&define.amd?this.requestAnimationFrame:require("requestAnimationFrame")),function(t,e,i,n){var r=t.Path;i=t.Line=function(e,i,n,s){n=(n-e)/2,s=(s-i)/2,r.call(this,[new t.Anchor(-n,-s),new t.Anchor(n,s)]),this.translation.set(e+n,i+s)},e.extend(i.prototype,r.prototype),r.MakeObservable(i.prototype)}(this.Two,"function"!=typeof require||"function"==typeof define&&define.amd?this._:require("underscore"),"function"!=typeof require||"function"==typeof define&&define.amd?this.Backbone:require("backbone"),"function"!=typeof require||"function"==typeof define&&define.amd?this.requestAnimationFrame:require("requestAnimationFrame")),function(t,e,i,n){var r=t.Path;i=t.Rectangle=function(e,i,n,s){n/=2,s/=2,r.call(this,[new t.Anchor(-n,-s),new t.Anchor(n,-s),new t.Anchor(n,s),new t.Anchor(-n,s)],!0),this.translation.set(e,i)},e.extend(i.prototype,r.prototype),r.MakeObservable(i.prototype)}(this.Two,"function"!=typeof require||"function"==typeof define&&define.amd?this._:require("underscore"),"function"!=typeof require||"function"==typeof define&&define.amd?this.Backbone:require("backbone"),"function"!=typeof require||"function"==typeof define&&define.amd?this.requestAnimationFrame:require("requestAnimationFrame")),function(t,e,i,n){var r=t.Path,s=2*Math.PI,a=Math.cos,o=Math.sin;i=t.Ellipse=function(i,n,l,h){e.isNumber(h)||(h=l);var c=t.Resolution,u=e.map(e.range(c),function(e){var i=e/c*s;return e=l*a(i),i=h*o(i),new t.Anchor(e,i)},this);r.call(this,u,!0,!0),this.translation.set(i,n)},e.extend(i.prototype,r.prototype),r.MakeObservable(i.prototype)}(this.Two,"function"!=typeof require||"function"==typeof define&&define.amd?this._:require("underscore"),"function"!=typeof require||"function"==typeof define&&define.amd?this.Backbone:require("backbone"),"function"!=typeof require||"function"==typeof define&&define.amd?this.requestAnimationFrame:require("requestAnimationFrame")),function(t,e,i,n){var r=t.Path,s=2*Math.PI,a=Math.cos,o=Math.sin;i=t.Polygon=function(i,n,l,h){h=Math.max(h||0,3);var c=e.map(e.range(h),function(e){var i=s*((e+.5)/h)+Math.PI/2;return e=l*a(i),i=l*o(i),new t.Anchor(e,i)});r.call(this,c,!0),this.translation.set(i,n)},e.extend(i.prototype,r.prototype),r.MakeObservable(i.prototype)}(this.Two,"function"!=typeof require||"function"==typeof define&&define.amd?this._:require("underscore"),"function"!=typeof require||"function"==typeof define&&define.amd?this.Backbone:require("backbone"),"function"!=typeof require||"function"==typeof define&&define.amd?this.requestAnimationFrame:require("requestAnimationFrame")),function(t,e,i,n){var r=t.Path,s=Math.PI,a=Math.PI/2,o=Math.cos,l=Math.sin;i=t.ArcSegment=function(e,i,n,h,c,u,f){c>u&&(u+=2*Math.PI),f=f||8,u-=c;var d=u/f,p=t.Commands.move,g=[];g.push(new t.Anchor(Math.sin(0)*h,Math.cos(0)*h,0,0,0,0,p));for(var m,_,y,v,b,x,p=t.Commands.curve,A=0;f+1>A;A++)m=A*d,_=l(m)*h,y=o(m)*h,v=l(m-a)*(d/s)*h,b=o(m-a)*(d/s)*h,x=l(m+a)*(d/s)*h,m=o(m+a)*(d/s)*h,0===A&&(v=b=0),A===f&&(x=m=0),g.push(new t.Anchor(_,y,v,b,x,m,p));for(A=0;f+1>A;A++)m=u-d*A,_=l(m)*n,y=o(m)*n,v=l(m-1.5*s)*(d/s)*n,b=o(m-1.5*s)*(d/s)*n,x=l(m+1.5*s)*(d/s)*n,m=o(m+1.5*s)*(d/s)*n,0===A&&(v=b=0),A===f&&(x=m=0),g.push(new t.Anchor(_,y,v,b,x,m,p));p=t.Commands.close,g.push(new t.Anchor(Math.sin(0)*h,Math.cos(0)*h,0,0,0,0,p)),r.call(this,g,!0,!1,!0),this.rotation=c,this.translation.set(e,i)},e.extend(i.prototype,r.prototype),r.MakeObservable(i.prototype)}(this.Two,"function"!=typeof require||"function"==typeof define&&define.amd?this._:require("underscore"),"function"!=typeof require||"function"==typeof define&&define.amd?this.Backbone:require("backbone"),"function"!=typeof require||"function"==typeof define&&define.amd?this.requestAnimationFrame:require("requestAnimationFrame")),function(t,e,i,n){var r=t.Path,s=Math.PI,a=Math.cos,o=Math.sin;i=t.SineRing=function(e,i,n,l,h,c){var u=2*l+1,f=Math.PI/l;l=s*n/l/2,c=c||1;var d,p,g,m,_,y=[],v=s;y.push(new t.Anchor(o(v)*(n+h/2),a(v)*(n+h/2),0,0,0,0,t.Commands.move));for(var b=0;u>b;b++)v=f*b+s,0===b%2?(d=Math.sin(v)*(n+h/2),p=Math.cos(v)*(n+h/2)):(d=Math.sin(v)*(n-h/2),p=Math.cos(v)*(n-h/2)),g=Math.sin(v-Math.PI/2)*l*c,m=Math.cos(v-Math.PI/2)*l*c,_=Math.sin(v+Math.PI/2)*l*c,v=Math.cos(v+Math.PI/2)*l*c,0===b&&(g=m=0),b===u-1&&(_=v=0),y.push(new t.Anchor(d,p,g,m,_,v,t.Commands.curve));r.call(this,y,!0,!1,!0),this.translation.set(e,i)},e.extend(i.prototype,r.prototype),r.MakeObservable(i.prototype)}(this.Two,"function"!=typeof require||"function"==typeof define&&define.amd?this._:require("underscore"),"function"!=typeof require||"function"==typeof define&&define.amd?this.Backbone:require("backbone"),"function"!=typeof require||"function"==typeof define&&define.amd?this.requestAnimationFrame:require("requestAnimationFrame")),function(t,e,i,n){var r=t.Path,s=2*Math.PI,a=Math.cos,o=Math.sin;i=t.Star=function(i,n,l,h,c){e.isNumber(h)||(h=l/2),(!e.isNumber(c)||0>=c)&&(c=5);var u=2*c;c=e.map(e.range(u),function(e){var i=(e-.5)/u*s,n=e%2?h:l;return e=n*a(i),i=n*o(i),new t.Anchor(e,i)}),r.call(this,c,!0),this.translation.set(i,n)},e.extend(i.prototype,r.prototype),r.MakeObservable(i.prototype)}(this.Two,"function"!=typeof require||"function"==typeof define&&define.amd?this._:require("underscore"),"function"!=typeof require||"function"==typeof define&&define.amd?this.Backbone:require("backbone"),"function"!=typeof require||"function"==typeof define&&define.amd?this.requestAnimationFrame:require("requestAnimationFrame")),function(t,e,i,n){function r(i,n,r,s,a){var o=0,l=0,h=t.Resolution;new t.Anchor(n,r);var c=0>n?-s:s,u=0>r?-s:s;switch(a){case 1:o=-Math.PI/2,l=0;break;case 2:o=-Math.PI,l=-Math.PI/2;break;case 3:o=1.5*-Math.PI,l=-Math.PI;break;case 4:
o=0,l=Math.PI/2}return a=e.map(e.range(h),function(e){var i=o+(l-o)*((h-e-0)/(h-0));return e=s*Math.cos(i)+n-c,i=s*Math.sin(i)+r-u,new t.Anchor(e,i)}).reverse(),i.concat(a)}var s=t.Path;i=t.RoundedRectangle=function(i,n,a,o,l){var h=a/2,c=o/2;e.isNumber(l)||(l=Math.floor(Math.min(a,o)/12)),a=[new t.Anchor(-h+l,-c),new t.Anchor(h-l,-c)],a=r(a,h,-c,l,1),a.push(new t.Anchor(h,c-l)),a=r(a,h,c,l,4),a.push(new t.Anchor(-h+l,c)),a=r(a,-h,c,l,3),a.push(new t.Anchor(-h,-c+l)),a=r(a,-h,-c,l,2),a.pop(),s.call(this,a,!0),this.translation.set(i,n)},e.extend(i.prototype,s.prototype),s.MakeObservable(i.prototype)}(this.Two,"function"!=typeof require||"function"==typeof define&&define.amd?this._:require("underscore"),"function"!=typeof require||"function"==typeof define&&define.amd?this.Backbone:require("backbone"),"function"!=typeof require||"function"==typeof define&&define.amd?this.requestAnimationFrame:require("requestAnimationFrame")),function(t,e,i,n){var r=t.Utils.getComputedMatrix;document.createElement("canvas").getContext("2d"),t.Text=function(i,n,r,s){return t.Shape.call(this),this._renderer.type="text",this.value=i,e.isNumber(n)&&(this.translation.x=n),e.isNumber(r)&&(this.translation.y=r),e.isObject(s)?void e.each(t.Text.Properties,function(t){t in s&&(this[t]=s[t])},this):this},e.extend(t.Text,{Properties:"value family size leading alignment fill stroke linewidth style weight decoration baseline opacity visible".split(" "),MakeObservable:function(i){t.Shape.MakeObservable(i),e.each(t.Text.Properties,function(t){var e="_"+t,n="_flag"+t.charAt(0).toUpperCase()+t.slice(1);Object.defineProperty(i,t,{get:function(){return this[e]},set:function(t){this[e]=t,this[n]=!0}})}),Object.defineProperty(i,"clip",{get:function(){return this._clip},set:function(t){this._clip=t,this._flagClip=!0}})}}),e.extend(t.Text.prototype,t.Shape.prototype,{_flagValue:!0,_flagFamily:!0,_flagSize:!0,_flagLeading:!0,_flagAlignment:!0,_flagBaseline:!0,_flagStyle:!0,_flagWeight:!0,_flagDecoration:!0,_flagFill:!0,_flagStroke:!0,_flagLinewidth:!0,_flagOpacity:!0,_flagVisible:!0,_flagClip:!1,_value:"",_family:"sans-serif",_size:13,_leading:17,_alignment:"center",_baseline:"middle",_style:"normal",_weight:500,_decoration:"none",_fill:"#000",_stroke:"transparent",_linewidth:1,_opacity:1,_visible:!0,_clip:!1,clone:function(i){i=i||this.parent;var n=new t.Text(this.value);return n.translation.copy(this.translation),n.rotation=this.rotation,n.scale=this.scale,e.each(t.Text.Properties,function(t){n[t]=this[t]},this),i.add(n),n},toObject:function(){var i={translation:this.translation.toObject(),rotation:this.rotation,scale:this.scale};return e.each(t.Text.Properties,function(t){i[t]=this[t]},this),i},noStroke:function(){return this.stroke="transparent",this},noFill:function(){return this.fill="transparent",this},getBoundingClientRect:function(t){return this._update(!0),t=(t?this._matrix:r(this)).multiply(0,0,1),{top:t.x,left:t.y,right:t.x,bottom:t.y,width:0,height:0}},flagReset:function(){return this._flagValue=this._flagFamily=this._flagSize=this._flagLeading=this._flagAlignment=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpaicty=this._flagVisible=this._flagClip=this._flagDecoration=this._flagBaseline=!1,t.Shape.prototype.flagReset.call(this),this}}),t.Text.MakeObservable(t.Text.prototype)}(Two,"function"!=typeof require||"function"==typeof define&&define.amd?_:require("underscore"),"function"!=typeof require||"function"==typeof define&&define.amd?Backbone:require("backbone"),"function"!=typeof require||"function"==typeof define&&define.amd?requestAnimationFrame:require("requestAnimationFrame")),function(t,e,i,n){var r=t.Stop=function(t,i,n){this._renderer={},this.offset=e.isNumber(t)?t:0>=r.Index?0:1,this.opacity=e.isNumber(n)?n:1,this.color=e.isString(i)?i:0>=r.Index?"#fff":"#000",r.Index=(r.Index+1)%2};e.extend(r,{Index:0,Properties:["offset","opacity","color"],MakeObservable:function(i){e.each(r.Properties,function(e){var n="_"+e,r="_flag"+e.charAt(0).toUpperCase()+e.slice(1);Object.defineProperty(i,e,{get:function(){return this[n]},set:function(e){this[n]=e,this[r]=!0,this.trigger(t.Events.change)}})})}}),e.extend(r.prototype,i.Events,{clone:function(){var t=new r;return e.each(r.Properties,function(e){t[e]=this[e]},this),t},toObject:function(){var t={};return e.each(r.Properties,function(e){t[e]=this[e]},this),t},flagReset:function(){return this._flagOffset=this._flagColor=this._flagOpacity=!1,this}}),r.MakeObservable(r.prototype);var s=t.Gradient=function(e){t.Shape.call(this),this._renderer.type="gradient",this.spread="pad",this.stops=e};e.extend(s,{Stop:r,Properties:["spread"],MakeObservable:function(i){t.Shape.MakeObservable(i),e.each(s.Properties,t.Utils.defineProperty,i),Object.defineProperty(i,"stops",{get:function(){return this._stops},set:function(i){var n=e.bind(s.FlagStops,this),r=e.bind(function(e){for(var i=e.length;i--;)e[i].bind(t.Events.change,n);n()},this),a=e.bind(function(i){e.each(i,function(e){e.unbind(t.Events.change,n)},this),n()},this);this._stops&&this._stops.unbind(),this._stops=new t.Utils.Collection((i||[]).slice(0)),this._stops.bind(t.Events.insert,r),this._stops.bind(t.Events.remove,a),r(this._stops)}})},FlagStops:function(){this._flagStops=!0}}),e.extend(s.prototype,t.Shape.prototype,{clone:function(i){i=i||this.parent;var n=e.map(this.stops,function(t){return t.clone()}),r=new s(n);return e.each(t.Gradient.Properties,function(t){r[t]=this[t]},this),r.translation.copy(this.translation),r.rotation=this.rotation,r.scale=this.scale,i.add(r),r},toObject:function(){var t={stops:e.map(this.stops,function(t){return t.toObject()})};return e.each(s.Properties,function(e){t[e]=this[e]},this),t},flagReset:function(){return this._flagSpread=this._flagStops=!1,t.Shape.prototype.flagReset.call(this),this}}),s.MakeObservable(s.prototype)}(this.Two,"function"!=typeof require||"function"==typeof define&&define.amd?this._:require("underscore"),"function"!=typeof require||"function"==typeof define&&define.amd?this.Backbone:require("backbone"),"function"!=typeof require||"function"==typeof define&&define.amd?this.requestAnimationFrame:require("requestAnimationFrame")),function(t,e,i,n){var r=t.LinearGradient=function(i,n,s,a,o){t.Gradient.call(this,o),this._renderer.type="linear-gradient",o=e.bind(r.FlagEndPoints,this),this.left=(new t.Vector).bind(t.Events.change,o),this.right=(new t.Vector).bind(t.Events.change,o),e.isNumber(i)&&(this.left.x=i),e.isNumber(n)&&(this.left.y=n),e.isNumber(s)&&(this.right.x=s),e.isNumber(a)&&(this.right.y=a)};e.extend(r,{Stop:t.Gradient.Stop,MakeObservable:function(e){t.Gradient.MakeObservable(e)},FlagEndPoints:function(){this._flagEndPoints=!0}}),e.extend(r.prototype,t.Gradient.prototype,{_flagEndPoints:!1,clone:function(i){i=i||this.parent;var n=e.map(this.stops,function(t){return t.clone()}),s=new r(this.left._x,this.left._y,this.right._x,this.right._y,n);return e.each(t.Gradient.Properties,function(t){s[t]=this[t]},this),i.add(s),s},toObject:function(){var e=t.Gradient.prototype.toObject.call(this);return e.left=this.left.toObject(),e.right=this.right.toObject(),e},flagReset:function(){return this._flagEndPoints=!1,t.Gradient.prototype.flagReset.call(this),this}}),r.MakeObservable(r.prototype)}(this.Two,"function"!=typeof require||"function"==typeof define&&define.amd?this._:require("underscore"),"function"!=typeof require||"function"==typeof define&&define.amd?this.Backbone:require("backbone"),"function"!=typeof require||"function"==typeof define&&define.amd?this.requestAnimationFrame:require("requestAnimationFrame")),function(t,e,i,n){var r=t.RadialGradient=function(i,n,r,s,a,o){t.Gradient.call(this,s),this._renderer.type="radial-gradient",this.center=(new t.Vector).bind(t.Events.change,e.bind(function(){this._flagCenter=!0},this)),this.radius=e.isNumber(r)?r:20,this.focal=(new t.Vector).bind(t.Events.change,e.bind(function(){this._flagFocal=!0},this)),e.isNumber(i)&&(this.center.x=i),e.isNumber(n)&&(this.center.y=n),this.focal.copy(this.center),e.isNumber(a)&&(this.focal.x=a),e.isNumber(o)&&(this.focal.y=o)};e.extend(r,{Stop:t.Gradient.Stop,Properties:["radius"],MakeObservable:function(i){t.Gradient.MakeObservable(i),e.each(r.Properties,t.Utils.defineProperty,i)}}),e.extend(r.prototype,t.Gradient.prototype,{_flagEndPoints:!1,clone:function(i){i=i||this.parent;var n=e.map(this.stops,function(t){return t.clone()}),s=new r(this.center._x,this.center._y,this._radius,n,this.focal._x,this.focal._y);return e.each(t.Gradient.Properties.concat(r.Properties),function(t){s[t]=this[t]},this),i.add(s),s},toObject:function(){var i=t.Gradient.prototype.toObject.call(this);return e.each(r.Properties,function(t){i[t]=this[t]},this),i.center=this.center.toObject(),i.focal=this.focal.toObject(),i},flagReset:function(){return this._flagRadius=this._flagCenter=this._flagFocal=!1,t.Gradient.prototype.flagReset.call(this),this}}),r.MakeObservable(r.prototype)}(this.Two,"function"!=typeof require||"function"==typeof define&&define.amd?this._:require("underscore"),"function"!=typeof require||"function"==typeof define&&define.amd?this.Backbone:require("backbone"),"function"!=typeof require||"function"==typeof define&&define.amd?this.requestAnimationFrame:require("requestAnimationFrame")),function(t,e,i,n){function r(t,i){var n,r=t.parent;r===i?(this.additions.push(t),this._flagAdditions=!0):(r&&r.children.ids[t.id]&&(n=e.indexOf(r.children,t),r.children.splice(n,1),n=e.indexOf(r.additions,t),n>=0?r.additions.splice(n,1):(r.subtractions.push(t),r._flagSubtractions=!0)),i?(t.parent=i,this.additions.push(t),this._flagAdditions=!0):(n=e.indexOf(this.additions,t),n>=0?this.additions.splice(n,1):(this.subtractions.push(t),this._flagSubtractions=!0),delete t.parent))}var s=Math.min,a=Math.max,o=function(){t.Utils.Collection.apply(this,arguments),Object.defineProperty(this,"_events",{value:{},enumerable:!1}),this.ids={},this.on(t.Events.insert,this.attach),this.on(t.Events.remove,this.detach),o.prototype.attach.apply(this,arguments)};o.prototype=new t.Utils.Collection,o.constructor=o,e.extend(o.prototype,{attach:function(t){for(var e=0;e<t.length;e++)this.ids[t[e].id]=t[e];return this},detach:function(t){for(var e=0;e<t.length;e++)delete this.ids[t[e].id];return this}});var l=t.Group=function(){t.Shape.call(this,!0),this._renderer.type="group",this.additions=[],this.subtractions=[],this._children=[],this.children=arguments};e.extend(l,{Children:o,InsertChildren:function(t){for(var e=0;e<t.length;e++)r.call(this,t[e],this)},RemoveChildren:function(t){for(var e=0;e<t.length;e++)r.call(this,t[e])},OrderChildren:function(t){this._flagOrder=!0},MakeObservable:function(i){var n=t.Path.Properties.slice(0),r=e.indexOf(n,"opacity");r>=0&&(n.splice(r,1),Object.defineProperty(i,"opacity",{get:function(){return this._opacity},set:function(t){this._flagOpacity=this._opacity!=t,this._opacity=t}})),t.Shape.MakeObservable(i),l.MakeGetterSetters(i,n),Object.defineProperty(i,"children",{get:function(){return this._collection},set:function(i){var n=e.bind(l.InsertChildren,this),r=e.bind(l.RemoveChildren,this),s=e.bind(l.OrderChildren,this);this._collection&&this._collection.unbind(),this._collection=new o(i),this._collection.bind(t.Events.insert,n),this._collection.bind(t.Events.remove,r),this._collection.bind(t.Events.order,s)}}),Object.defineProperty(i,"mask",{get:function(){return this._mask},set:function(t){this._mask=t,this._flagMask=!0,t.clip||(t.clip=!0)}})},MakeGetterSetters:function(t,i){e.isArray(i)||(i=[i]),e.each(i,function(e){l.MakeGetterSetter(t,e)})},MakeGetterSetter:function(t,i){var n="_"+i;Object.defineProperty(t,i,{get:function(){return this[n]},set:function(t){this[n]=t,e.each(this.children,function(e){e[i]=t})}})}}),e.extend(l.prototype,t.Shape.prototype,{_flagAdditions:!1,_flagSubtractions:!1,_flagOrder:!1,_flagOpacity:!0,_flagMask:!1,_fill:"#fff",_stroke:"#000",_linewidth:1,_opacity:1,_visible:!0,_cap:"round",_join:"round",_miter:4,_closed:!0,_curved:!1,_automatic:!0,_beginning:0,_ending:1,_mask:null,clone:function(t){t=t||this.parent;var i=new l;return t.add(i),e.map(this.children,function(t){return t.clone(i)}),i.translation.copy(this.translation),i.rotation=this.rotation,i.scale=this.scale,i},toObject:function(){var t={children:{},translation:this.translation.toObject(),rotation:this.rotation,scale:this.scale};return e.each(this.children,function(e,i){t.children[i]=e.toObject()},this),t},corner:function(){var t=this.getBoundingClientRect(!0),e={x:t.left,y:t.top};return this.children.forEach(function(t){t.translation.subSelf(e)}),this},center:function(){var t=this.getBoundingClientRect(!0);return t.centroid={x:t.left+t.width/2,y:t.top+t.height/2},this.children.forEach(function(e){e.translation.subSelf(t.centroid)}),this},getById:function(t){var e=function(t,i){if(t.id===i)return t;if(t.children)for(var n=t.children.length;n--;){var r=e(t.children[n],i);if(r)return r}};return e(this,t)||null},getByClassName:function(t){var e=[],i=function(t,n){return-1!=t.classList.indexOf(n)?e.push(t):t.children&&t.children.forEach(function(t){i(t,n)}),e};return i(this,t)},getByType:function(e){var i=[],n=function(e,r){for(var s in e.children)e.children[s]instanceof r?i.push(e.children[s]):e.children[s]instanceof t.Group&&n(e.children[s],r);return i};return n(this,e)},add:function(t){t=t instanceof Array?t.slice():e.toArray(arguments);for(var i=0;i<t.length;i++)t[i]&&t[i].id&&this.children.push(t[i]);return this},remove:function(t){var i=this.parent;if(0>=arguments.length&&i)return i.remove(this),this;for(t=t instanceof Array?t.slice():e.toArray(arguments),i=0;i<t.length;i++)t[i]&&this.children.ids[t[i].id]&&this.children.splice(e.indexOf(this.children,t[i]),1);return this},getBoundingClientRect:function(t){var i;this._update(!0);var n=1/0,r=-(1/0),o=1/0,l=-(1/0);return this.children.forEach(function(h){/(linear-gradient|radial-gradient|gradient)/.test(h._renderer.type)||(i=h.getBoundingClientRect(t),e.isNumber(i.top)&&e.isNumber(i.left)&&e.isNumber(i.right)&&e.isNumber(i.bottom)&&(o=s(i.top,o),n=s(i.left,n),r=a(i.right,r),l=a(i.bottom,l)))},this),{top:o,left:n,right:r,bottom:l,width:r-n,height:l-o}},noFill:function(){return this.children.forEach(function(t){t.noFill()}),this},noStroke:function(){return this.children.forEach(function(t){t.noStroke()}),this},subdivide:function(){var t=arguments;return this.children.forEach(function(e){e.subdivide.apply(e,t)}),this},flagReset:function(){return this._flagAdditions&&(this.additions.length=0,this._flagAdditions=!1),this._flagSubtractions&&(this.subtractions.length=0,this._flagSubtractions=!1),this._flagOrder=this._flagMask=this._flagOpacity=!1,t.Shape.prototype.flagReset.call(this),this}}),l.MakeObservable(l.prototype)}(this.Two,"function"!=typeof require||"function"==typeof define&&define.amd?this._:require("underscore"),"function"!=typeof require||"function"==typeof define&&define.amd?this.Backbone:require("backbone"),"function"!=typeof require||"function"==typeof define&&define.amd?this.requestAnimationFrame:require("requestAnimationFrame"));

/* From https://github.com/blakeembrey/array-flatten */
"use strict";function flatten(t){if(!Array.isArray(t))throw new TypeError("Expected value to be an array");return flattenFrom(t)}function flattenFrom(t){return flattenDown(t,[])}function flattenDepth(t,r){if(!Array.isArray(t))throw new TypeError("Expected value to be an array");return flattenFromDepth(t,r)}function flattenFromDepth(t,r){if("number"!=typeof r)throw new TypeError("Expected the depth to be a number");return flattenDownDepth(t,[],r)}function flattenDown(t,r){for(var e=0;e<t.length;e++){var n=t[e];Array.isArray(n)?flattenDown(n,r):r.push(n)}return r}function flattenDownDepth(t,r,e){e--;for(var n=0;n<t.length;n++){var a=t[n];e>-1&&Array.isArray(a)?flattenDownDepth(a,r,e):r.push(a)}return r}

//from https://stackoverflow.com/questions/9229645/remove-duplicate-values-from-js-array
function uniq_fast(a) {
    var seen = {};
    var out = [];
    var len = a.length;
    var j = 0;
    for(var i = 0; i < len; i++) {
         var item = a[i];
         if(seen[item] !== 1) {
               seen[item] = 1;
               out[j++] = item;
         }
    }
    return out;
}

